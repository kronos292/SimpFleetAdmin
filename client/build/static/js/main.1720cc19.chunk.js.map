{"version":3,"sources":["components/Dashboard/Job/JobSummaryTableDisplayMobile.js","components/Dashboard/Job/JobSummaryTableSearchBar.js","components/Dashboard/Job/JobSummaryTable.js","components/common/PrivateRoute.js","components/layout/ExNavbar.js","components/layout/Footer.js","components/auth/Login.js","components/auth/Register.js","components/Dashboard/Admin/AdminDashboard.js","components/Dashboard/Consumer/ConsumerDashboard.js","components/Dashboard/Dashboard.js","components/History/User/UserHistory.js","components/History/Admin/AdminHistory.js","components/History/History.js","components/Job/JobAssignment/JobAssignment.js","components/SideMenuSlider/SideMenuSlider.js","components/Job/JobDetails/Form/JobItemInput.js","components/ui/Modal/AffirmationModal.js","components/ui/Modal/InformationModal.js","components/Job/JobDetails/Form/DateInputComponent.js","components/Job/JobDetails/JobDetailCard.js","components/Job/JobDetails/Files/FileDropzone.js","components/Job/JobDetails/Files/FileUpload.js","components/Job/JobDetails/Files/FileDisplay.js","components/Job/JobDetails/Files/FileUploadSection.js","components/Job/JobDetails/Files/FilePreview/FileDownloader.js","components/Job/JobDetails/Files/FilePreview/JobFileModal.js","components/Job/JobDetails/Files/JobFileSummaryTable.js","components/Job/JobDetails/Files/JobFileSummaryTableMobileSlider.js","components/Job/JobDetails/Files/JobFileSummaryTableMobile.js","components/Job/JobDetails/Files/JobFilesDisplay.js","components/Job/JobDetails/JobDetailsEdit.js","components/Job/JobDetails/JobStatusDisplay/JobStatusDisplay.js","components/Job/JobDetails/JobDropoffDetail.js","components/Job/JobDetails/JobBillingDetail/JobBillingDetail.js","components/Job/JobDetails/JobDetails.js","components/UserApproval/UserApprovalModal.js","components/UserApproval/UserApproval.js","App.js","serviceWorker.js","reducers/authReducer.js","reducers/errorReducer.js","reducers/index.js","store.js","index.js","actions/types.js","actions/authAction.js","utility/setAuthToken.js","components/SidebarMenu/SidebarMenu.js","components/Job/JobDetails/JobShareModal/JobShareModal.js","components/Job/JobShareSlide/JobShareSlide.js","components/Job/CreateJob.js","components/Job/CreateJobModal.js","components/content/public/regForm/regForm.js","validation/is-empty.js"],"names":["JobSummaryTableDisplayMobile","state","selectedShareIconIndex","columns","title","field","render","rowData","className","moment","eta","format","name","disableClick","sorting","filtering","props","button","status","timestamp","job","jobTrackers","filter","o","index","length","allowArchive","onClick","event","isArchived","saveJobArchive","key","tableData","id","toggleSharingModal","jobClicked","data","this","components","Container","Paper","elevation","options","paging","padding","headerStyle","fontFamily","fontSize","fontWeight","color","onRowClick","handleRowClick","Component","JobSummaryTableSearchBar","vesselLoadingLocation","psaBerthingDateTime","vesselLoadingDateTime","customSort","a","b","timeA","timeB","isBefore","vessel","vesselName","toUpperCase","vesselIMOID","localeCompare","style","width","text","isCancelled","maxLine","ellipsis","trimRight","basedOn","variant","Row","showTitle","createRow","imo","price","vesselImo","JobSummaryTable","jobs","showSharingModal","copied","archived","inputSelected","e","rd","history","push","handleShareModalClose","setState","handleCopy","window","setTimeout","handleCopiedClose","handleArchiveClose","SlideTransition","Slide","direction","axios","put","sendEmailUpdate","then","res","catch","err","console","log","handleSelect","get","user_only","numLimit","archive_only","non_archive_only","sort","Date","jobBookingDateTime","toString","i","subtotal","jobItems","reduce","jobItem","quantity","sum","jobId","vesselArrivalDateTime","auth","vesselDeliveries","map","user","statusString","statusStyle","userType","data-title","companyName","bordered","hover","striped","responsive","minWidth","JobShareModal","show","joblinkurl","Close","Snackbar","anchorOrigin","horizontal","vertical","open","message","action","IconButton","TransitionComponent","maxWidth","JobShareSlide","onClose","withRouter","connect","component","rest","isAuthenticated","to","ExNavbar","Navbar","expand","Brand","href","preventDefault","Image","src","Nav","Item","type","Footer","xs","md","span","offset","defaultActiveKey","Link","target","query","icon","faWhatsapp","faFacebook","faInstagram","faLinkedin","faTelegram","Login","onChecked","rememberMe","checked","renderContent","errors","fluid","size","onSubmit","Grid","container","spacing","item","TextField","value","email","onChange","fullWidth","label","autoComplete","autoFocus","Typography","display","margin","password","helperText","FormControlLabel","control","Checkbox","Button","bind","localStorage","getItem","nextProps","userData","setItem","loginUser","theme","createMuiTheme","palette","primary","main","ThemeProvider","Register","AdminDashboard","ConsumerDashboard","SidebarMenu","Dashboard","UserHistory","AdminHistory","marginTop","History","JobAssignment","jobAssignments","logisticsCompanies","saveJobAssignments","location","reload","renderLogisticsCompanies","jobAssignment","undefined","logisticsCompany","jobAssignmentObj","_id","j","logisticsCompanyObj","reverse","SideMenuSlider","showHistory","showModal","handleOpenModal","handleCloseModal","pageWrapId","outerContainerId","customBurgerIcon","isOpen","onStateChange","handleMenuStateChange","customCrossIcon","handleCloseMenu","Fab","marginRight","Divider","onLogoutClick","CreateJobModal","fullScreen","handlePopoverOpen","createUOMList","uom","JobItemInput","priceList","UOMList","onQuantityUpdate","newProduct","Number","products","newProducts","product","setItems","indexOf","splice","handleAddEvent","itemPrice","Math","floor","random","UOM","renderMenu","includes","jobItemSelected","MenuItem","Prepend","parseInt","document","getElementById","alt","min","onKeyDown","keyCode","stopPropagation","Append","onKeyPress","test","AffirmationModal","isMobile","updatePredicate","addEventListener","removeEventListener","innerWidth","Dialog","modal","toggle","DialogTitle","DialogContent","children","DialogActions","affirmativeAction","affirmativeText","marginLeft","cancelText","InformationModal","onClosed","DateInputComponent","focused","onClickOutside","toggleController","marginBottom","DateTime","disabled","faCalendarAlt","zIndex","position","date","onDateChange","handleDateChange","onOutsideClick","numberOfMonths","isOutsideRange","day","isInclusivelyAfterDay","JobDetailsCard","jobEdit","showJobUpdateModal","jobUpdatedModal","currentCareOffParty","jobPrevState","showItemsDeliverList","focusedVesselArriveDate","ItemsDeliverAnchorEl","ItemsOfflandAnchorEl","handleVesselLoadingLocationChange","handleVesselArrivalDateChange","toISOString","handleVesselArrivalTimeChange","toDate","handleVesselLighterLocationChange","vesselLighterLocation","handleVesselLighterNameChange","vesselLighterName","handleVesselBerthingDateTimeChange","handleVesselUnberthingDateTimeChange","psaUnberthingDateTime","handleVesselLoadingDateChange","handleVesselLoadingTimeChange","handleRemarksChange","remarks","handleVesselLighterRemarksChange","vesselLighterRemarks","validateItems","items","filteredItems","saveJobDetails","filteredOfflandingItems","jobOfflandItems","now","careOffParties","setHours","getHours","alert","careOffParty","checkValidDate","d","handleDeliverClose","handleOfflandClose","handleCreateDSAChange","createDSA","handleOtherVesselLocationChange","renderJobTimeDetails","vesselLoadingTime","psaBerthingTime","psaUnberthingTime","sm","paddingRight","paddingLeft","showSecond","defaultValue","allowEmpty","vesselLighterDateTime","otherVesselLocation","openDeliver","Boolean","jobItemText","concat","openOffland","jobOfflandItemsText","square","rows","vesselCallsign","Group","Label","Control","as","join","currentTarget","Popover","anchorEl","transformOrigin","JSON","parse","stringify","FileDropzone","highlight","openFileDialog","fileInputRef","current","click","fileListToArray","list","array","onFilesAdded","evt","files","onDragOver","onDragLeave","onDrop","dataTransfer","React","createRef","cursor","ref","multiple","textDecoration","FileUpload","uploading","handleOnMouseEnter","handleOnMouseOut","renderUploadDisplay","file","onMouseEnter","onMouseLeave","height","FileDisplay","edit","handleEdit","jobFile","fileURL","handleDocumentTitleChange","filename","ButtonGroup","border","handleSingleDelete","FileUploadSection","requirements","needPrintCopy","signAndReturn","numCopies","documentType","retrieveRequirement","requirement","fullRequirements","loadRequirements","jobFileRequirements","updateRequirement","boolean","newRequirements","check","handlePrintCopyChange","handleSignAndReturnChange","handleUploadType","handleNumberOfCopiesChange","handleAddDocument","formData","FormData","append","post","headers","finally","jobID","handleEditDocument","successClose","req","FormLabel","RadioGroup","row","Radio","checkedIcon","renderUpload","placeholder","handleCancel","FileDownloader","Object","keys","jobFileUrls","responseType","blob","Blob","downloadUrl","URL","createObjectURL","createElement","download","body","appendChild","remove","error","downloadSelectedFiles","faDownload","JobFileModal","showPreviewModal","setModalFlag","fileUrlArray","split","fileType","toLowerCase","useState","onHide","dialogClassName","createData","copies","jobFileChange","JobFileSummaryTable","hoverKey","showDropdown","toggleModal","handleDropdown","handleDownload","nextContext","refresh","jobFiles","cellStyle","editFile","deleteFile","minHeight","selection","rowStyle","toolbarButtonAlignment","showTextRowsSelected","actions","tooltip","ClearIcon","deleteMultipleFiles","JobFileSummaryTableMobileSlider","Drawer","anchor","PaperProps","List","ListItem","ListItemText","JobFileSummaryTableMobile","showSlider","jobFileSelected","handleSlider","handleSliderClose","DeleteIcon","JobFilesDisplay","editJobFile","showJobFileDeleteModal","jobFileToDelete","activeScreen","selectOption","numPages","pageNumber","getJobFiles","userJobFiles","newJobFiles","updateJobFiles","handleDeleteJobFiles","deleteJobFiles","delete","handleMultipleDelete","delArray","handleUploadSuccess","handleEditFile","handleEditCancel","faPlusSquare","JobDetailsEdit","jobStatuses","description","trackingType","jobStatus","showCheckJobStatusModal","cancellationConfirmationModal","updateJobStatus","checkJobTracker","cancelJob","cancel","JobStatusDisplay","showJobDetailsEdit","steps","activeStep","renderSteps","step","statusSelected","icons","finish","JobDropoffDetail","LogisticsCompanies","address","contactNumber","website","openingHours","addLL","lat","lng","currentCompany","handleRemarks","handleSaveRemarks","deliveryDate","setDate","getDate","getMonth","getFullYear","LCOpeningHours","getDropoffTime","Map","withScriptjs","withGoogleMap","defaultZoom","defaultCenter","googleMapURL","loadingElement","containerElement","mapElement","JobBillingDetail","showJobCancelModal","paymentTrackers","paymentTrackerList","updatePaymentTracker","paymentTacker","userId","renderCancelProcedure","userPaymentTrackers","renderAdminPaymentPanel","tracker","v","userPaymentTracker","paymentIndex","saveJobCancellation","AntTabs","withStyles","root","borderBottom","indicator","backgroundColor","Tabs","AntTab","textTransform","typography","fontWeightRegular","opacity","fontWeightMedium","outline","selected","Tab","disableRipple","JobDetails","jobLink","setTabURL","tabName","url","searchParams","set","pushState","generateInvitationLink","handleClose","handleChangeTab","newValue","queryString","search","tab","showComponent","JobDetailCard","Breadcrumbs","separator","aria-label","disablePadding","handleDrawerClick","enabled","isPopoverOpen","handlePopoverClose","onEscapeKey","containerStyle","windowBorderPadding","content","targetRect","popoverRect","arrowColor","arrowSize","arrowStyle","borderRadius","centered","UserApprovalModal","Fragment","role","data-dismiss","aria-hidden","onUpdateIsApprove","users","UserApproval","firstName","lastName","isApproved","data-toggle","data-target","tabindex","aria-labelledby","cs","DynamicImport","load","default","MainNavbar","Home","Analytics","App","openMenu","handleOpenMenu","exact","path","hostname","match","initialState","combineReducers","SET_CURRENT_USER","isEmpty","payload","GET_ERRORS","middleware","thunk","store","createStore","rootReducer","compose","applyMiddleware","__REDUX_DEVTOOLS_EXTENSION__","jwtToken","setAuthToken","decoded","jwt_decode","dispatch","setCurrentUser","currentTime","exp","logoutUser","ReactDOM","navigator","serviceWorker","ready","registration","unregister","registerUser","response","token","removeItem","defaults","common","sidebarOpen","defaultRenderTag","tag","onRemove","classNameRemove","getTagDisplayValue","other","wordBreak","emailList","emailInputs","mobileWebShare","showSuccessSnackBar","handleMessageChange","updateEmailList","handleEmailInputChange","handleInputClear","webShareJobLink","share","sendEmail","trim","handleSnackBarClose","validate","onCopy","onChangeInput","inputValue","inputProps","tagProps","addKeys","renderTag","clsx","CreateJob","uploadedFile","vessels","submitButtonActive","isLoading","vesselQueryResults","vesselSelected","handleJobIdChange","validateCareOffs","filteredCareOffParties","personName","handleNextStep","handlePaymentBack","renderText","renderJobTimeInfo","Col","_renderMenuItemChildren","option","results","menuProps","priority","handleTypeAheadVesselNameChange","handleKeyDown","handleTypeAheadVesselSelect","handleVesselSelectChange","textArr","renderJobInfo","required","renderMenuItemChildren","labelKey","maxResults","paginate","minLength","onInputChange","filterBy","emptyLabel","renderJobPayment","FormControl","paddingTop","paddingBottom","obj","renderSuccess","xmlns","viewBox","cx","cy","r","fill","mobile","renderForm","formDisplay","RegForm","cantactNumber","password2","showSignUpSuccessModal","newUser","module","exports"],"mappings":"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","file":"static/js/main.1720cc19.chunk.js","sourcesContent":["import React, { Component } from \"react\";\r\nimport Paper from \"@material-ui/core/Paper\";\r\nimport MaterialTable from \"material-table\";\r\nimport ShareIcon from \"@material-ui/icons/Share\";\r\nimport ArchiveIcon from \"@material-ui/icons/Archive\";\r\nimport moment from \"moment\";\r\n\r\nclass JobSummaryTableDisplayMobile extends Component {\r\n  constructor() {\r\n    super();\r\n    this.state = {\r\n      selectedShareIconIndex: 0\r\n    };\r\n  }\r\n  render() {\r\n    return (\r\n      <MaterialTable\r\n        columns={[\r\n          {\r\n            title: \"ETA\",\r\n            field: \"eta\",\r\n            render: rowData => (\r\n              <span className=\"job-table-text\">\r\n                {moment(rowData.eta).format(\"DD MMMM YYYY, HH:mm\")}\r\n              </span>\r\n            )\r\n          },\r\n          {\r\n            title: \"Job Number\",\r\n            field: \"name\",\r\n            render: rowData => (\r\n              <span className=\"job-table-text\">{rowData.name}</span>\r\n            )\r\n          },\r\n          {\r\n            title: \"Status\",\r\n            field: \"status\",\r\n            disableClick: true,\r\n            sorting: false,\r\n            filtering: false,\r\n            render: rowData => (\r\n              <div>\r\n                {this.props.button ? (\r\n                  <div className=\"d-flex align-items-center\">\r\n                    <div className=\"d-flex justify-content-center flex-column\">\r\n                      <span className=\"job-table-text\">\r\n                        {rowData.status[0].title}\r\n                      </span>\r\n                      <i className=\"job-table-helper-text\">\r\n                        {moment(rowData.status[0].timestamp).format(\r\n                          \"MMM DD YYYY, HH:mm\"\r\n                        )}\r\n                      </i>\r\n                    </div>\r\n                    {rowData.job.jobTrackers.filter(o => {\r\n                      return o.index === 6;\r\n                    }).length > 0 && this.props.allowArchive ? (\r\n                      <ArchiveIcon\r\n                        onClick={event => {\r\n                          rowData.job.isArchived = true;\r\n                          this.props.saveJobArchive(rowData.job);\r\n                        }}\r\n                        key={rowData.tableData.id}\r\n                        className=\"job-summary-icon-buttons\"\r\n                      />\r\n                    ) : (\r\n                      <ShareIcon\r\n                        onClick={event => {\r\n                          this.props.toggleSharingModal(true);\r\n                          this.props.jobClicked(rowData.job);\r\n                        }}\r\n                        key={rowData.tableData.id}\r\n                        className=\"job-summary-icon-buttons\"\r\n                      />\r\n                    )}\r\n                  </div>\r\n                ) : (\r\n                  <div>\r\n                    <div className=\"d-flex justify-content-center flex-column\">\r\n                      <span className=\"job-table-text\">\r\n                        {rowData.status[0].title}\r\n                      </span>\r\n                      <i className=\"job-table-helper-text\">\r\n                        {moment(rowData.status[0].timestamp).format(\r\n                          \"MMM DD YYYY, HH:mm\"\r\n                        )}\r\n                      </i>\r\n                    </div>\r\n                  </div>\r\n                )}\r\n              </div>\r\n            )\r\n          }\r\n        ]}\r\n        data={this.props.data}\r\n        components={{\r\n          Container: props => <Paper {...props} elevation={0} />\r\n        }}\r\n        title={this.props.title}\r\n        options={{\r\n          sorting: true,\r\n          paging: false,\r\n          padding: \"dense\",\r\n          // showTitle: false,\r\n          headerStyle: {\r\n            fontFamily: \"Roboto\",\r\n            fontSize: \"14px\",\r\n            fontWeight: \"bold\",\r\n            color: \"#707070\"\r\n          }\r\n        }}\r\n        onRowClick={this.props.handleRowClick}\r\n      />\r\n    );\r\n  }\r\n}\r\nexport default JobSummaryTableDisplayMobile;\r\n","import React, { Component } from \"react\";\r\nimport Button from \"react-bootstrap/Button\";\r\nimport Paper from \"@material-ui/core/Paper\";\r\nimport MaterialTable, { MTableBodyRow } from \"material-table\";\r\nimport ShareIcon from \"@material-ui/icons/Share\";\r\nimport ArchiveIcon from \"@material-ui/icons/Archive\";\r\nimport moment from \"moment\";\r\nimport LinesEllipsis from \"react-lines-ellipsis\";\r\n\r\nexport default class JobSummaryTableSearchBar extends Component {\r\n  render() {\r\n    return (\r\n      <MaterialTable\r\n        columns={[\r\n          {\r\n            title: \"Vessel Loading Time\",\r\n            field: \"job\",\r\n            render: rowData => {\r\n              switch (rowData.job.vesselLoadingLocation) {\r\n                case \"PSA\":\r\n                  return (\r\n                    <span className=\"job-table-text\">\r\n                      {moment(rowData.job.psaBerthingDateTime).format(\r\n                        \"DD MMMM YYYY, HH:mm\"\r\n                      )}\r\n                    </span>\r\n                  );\r\n                case \"Jurong Port\":\r\n                  return (\r\n                    <span className=\"job-table-text\">\r\n                      {moment(rowData.job.vesselLoadingDateTime).format(\r\n                        \"DD MMMM YYYY, HH:mm\"\r\n                      )}\r\n                    </span>\r\n                  );\r\n                default:\r\n                  return (\r\n                    <span className=\"job-table-text\">\r\n                      {moment(rowData.job.vesselLoadingDateTime).format(\r\n                        \"DD MMMM YYYY, HH:mm\"\r\n                      )}\r\n                    </span>\r\n                  );\r\n              }\r\n            },\r\n            customSort: (a, b) => {\r\n              let timeA, timeB;\r\n              if (a.job.vesselLoadingLocation === \"PSA\") {\r\n                timeA = moment(a.job.psaBerthingDateTime);\r\n              } else {\r\n                timeA = moment(a.job.vesselLoadingDateTime);\r\n              }\r\n              if (b.job.vesselLoadingLocation === \"PSA\") {\r\n                timeB = moment(b.job.psaBerthingDateTime);\r\n              } else {\r\n                timeB = moment(b.job.vesselLoadingDateTime);\r\n              }\r\n              if (timeA.isBefore(timeB)) {\r\n                return 1;\r\n              } else {\r\n                return -1;\r\n              }\r\n            }\r\n          },\r\n          {\r\n            title: \"Job Number\",\r\n            field: \"name\",\r\n            render: rowData => (\r\n              <span className=\"job-table-text\">{rowData.name}</span>\r\n            )\r\n          },\r\n          {\r\n            title: \"Vessel Name\",\r\n            field: \"vesselName\",\r\n            render: rowData => (\r\n              <div className=\"d-flex flex-column\">\r\n                <span className=\"job-table-text\">\r\n                  {rowData.job.vessel !== null? rowData.job.vessel.vesselName.toUpperCase(): ''}\r\n                </span>\r\n                <span className=\"job-table-helper-text\">\r\n                  <i>{rowData.job.vessel !== null? rowData.job.vessel.vesselIMOID: ''}</i>\r\n                </span>\r\n              </div>\r\n            ),\r\n            customSort: (a, b) =>\r\n              a.job.vessel.vesselName.localeCompare(b.job.vessel.vesselName)\r\n          },\r\n          // {\r\n          //     title: \"Price\", field: \"price\",\r\n          //     render: rowData => (\r\n          //         <span className='job-table-text'>$ {rowData.price}</span>),\r\n          //     customSort: (a, b) => a.price - b.price,\r\n          // },\r\n          {\r\n            title: \"Status\",\r\n            field: \"status\",\r\n            disableClick: true,\r\n            sorting: false,\r\n            filtering: false,\r\n            render: rowData => (\r\n              <div\r\n                className=\"d-flex align-items-center\"\r\n                style={{ width: \"20vw\" }}\r\n              >\r\n                <div style={{ width: \"100%\" }}>\r\n                  <LinesEllipsis\r\n                    style={{ width: \"100%\" }}\r\n                    text={\r\n                      rowData.job.isCancelled === \"Confirmed\"\r\n                        ? \"Job has been cancelled\"\r\n                        : rowData.status[0].title\r\n                    }\r\n                    maxLine=\"1\"\r\n                    ellipsis=\"...\"\r\n                    trimRight\r\n                    basedOn=\"letters\"\r\n                    className={\r\n                      rowData.job.isCancelled === \"Confirmed\"\r\n                        ? \"job-table-text red\"\r\n                        : \"job-table-text\"\r\n                    }\r\n                  />\r\n                  <i className=\"job-table-helper-text\">\r\n                    {moment(rowData.status[0].timestamp).format(\r\n                      \"MMM DD YYYY, HH:mm\"\r\n                    )}\r\n                  </i>\r\n                </div>\r\n                {rowData.job.jobTrackers.filter(o => {\r\n                  return o.index === 6;\r\n                }).length > 0 && this.props.allowArchive ? (\r\n                  <Button\r\n                    variant=\"outlined\"\r\n                    onClick={event => {\r\n                      rowData.job.isArchived = true;\r\n                      this.props.saveJobArchive(rowData.job);\r\n                    }}\r\n                    key={rowData.tableData.id}\r\n                    className=\"table-share-button\"\r\n                  >\r\n                    <div className=\"d-flex align-items-center\">\r\n                      Archive\r\n                      <ArchiveIcon />\r\n                    </div>\r\n                  </Button>\r\n                ) : (\r\n                  <Button\r\n                    variant=\"outlined\"\r\n                    onClick={event => {\r\n                      this.props.toggleSharingModal(true);\r\n                      this.props.jobClicked(rowData.job);\r\n                    }}\r\n                    key={rowData.tableData.id}\r\n                    className=\"table-share-button\"\r\n                  >\r\n                    <div className=\"d-flex align-items-center\">\r\n                      Share\r\n                      <ShareIcon />\r\n                    </div>\r\n                  </Button>\r\n                )}\r\n              </div>\r\n            )\r\n          }\r\n        ]}\r\n        data={this.props.data}\r\n        components={{\r\n          Container: props => <Paper {...props} elevation={0} />,\r\n          Row: props => <MTableBodyRow {...props} className=\"rows\" />\r\n        }}\r\n        options={{\r\n          sorting: true,\r\n          paging: false,\r\n          padding: \"dense\",\r\n          showTitle: false,\r\n          headerStyle: {\r\n            fontFamily: \"Roboto\",\r\n            fontSize: \"14px\",\r\n            fontWeight: \"bold\",\r\n            color: \"#707070\"\r\n          }\r\n        }}\r\n        onRowClick={this.props.handleRowClick}\r\n      />\r\n    );\r\n  }\r\n}\r\n","import \"./JobSummaryTable.css\";\r\nimport React, { Component } from \"react\";\r\nimport axios from \"axios\";\r\nimport { withRouter } from \"react-router-dom\";\r\nimport { connect } from \"react-redux\";\r\nimport { Table } from \"reactstrap\";\r\nimport MediaQuery from \"react-responsive\";\r\n\r\nimport IconButton from \"@material-ui/core/IconButton\";\r\nimport CloseIcon from \"@material-ui/icons/Close\";\r\nimport Snackbar from \"@material-ui/core/Snackbar\";\r\n\r\nimport JobSummaryTableDisplayMobile from \"./JobSummaryTableDisplayMobile\";\r\nimport JobSummaryTableSearchBar from \"./JobSummaryTableSearchBar\";\r\nimport Slide from \"@material-ui/core/Slide\";\r\nimport JobShareModal from \"../../Job/JobDetails/JobShareModal/JobShareModal\";\r\nimport JobShareSlide from \"../../Job/JobShareSlide/JobShareSlide\";\r\n\r\nfunction priceRow(qty, price) {\r\n  // return qty * price;\r\n  return 0;\r\n}\r\n\r\nfunction createRow(name, imo, vesselName, status, job, eta, price) {\r\n  return {\r\n    name: name,\r\n    vesselImo: imo,\r\n    vesselName: vesselName,\r\n    status: status,\r\n    job: job,\r\n    eta: eta,\r\n    price: price\r\n  };\r\n}\r\n\r\nclass JobSummaryTable extends Component {\r\n  state = {\r\n    jobs: null,\r\n    data: [],\r\n    showSharingModal: false,\r\n    copied: false,\r\n    jobClicked: null,\r\n    archived: false,\r\n    inputSelected: false\r\n  };\r\n\r\n  componentDidMount() {\r\n    // Get all jobs\r\n    axios\r\n        .get(\r\n            `/api/jobs?user_only=${this.props.user_only}&numLimit=${\r\n                this.props.numLimit ? this.props.numLimit : false\r\n            }&archive_only=${\r\n                this.props.archive_only ? this.props.archive_only : false\r\n            }&non_archive_only=${\r\n                this.props.non_archive_only ? this.props.non_archive_only : false\r\n            }`\r\n        )\r\n        .then(res => {\r\n          const data = [];\r\n          const jobs = res.data.sort((a, b) => {\r\n            return (\r\n                new Date(b.jobBookingDateTime.toString()) -\r\n                new Date(a.jobBookingDateTime.toString())\r\n            );\r\n          });\r\n          this.setState({\r\n            jobs: jobs\r\n          });\r\n          for (let i = 0; i < jobs.length; i++) {\r\n            let job = jobs[i];\r\n            job.jobTrackers.sort((a, b) => {\r\n              return b.index - a.index;\r\n            });\r\n            const subtotal = job.jobItems\r\n                .reduce((a, jobItem) => {\r\n                  a.push(priceRow(jobItem.quantity, jobItem.price));\r\n                  return a;\r\n                }, [])\r\n                .reduce((sum, i) => sum + i, 0);\r\n            data.push(\r\n                createRow(\r\n                    job.jobId,\r\n                    job.vessel !== null? job.vessel.vesselIMOID: '',\r\n                    job.vessel !== null? job.vessel.vesselName: '',\r\n                    job.jobTrackers,\r\n                    job,\r\n                    job.vesselArrivalDateTime,\r\n                    subtotal\r\n                )\r\n            );\r\n          }\r\n          this.setState({\r\n            data: data\r\n          });\r\n        })\r\n        .catch(err => {\r\n          console.log(err);\r\n        });\r\n  }\r\n\r\n  handleRowClick = (e, rd) => {\r\n    let index = rd.tableData.id;\r\n    this.props.history.push(`/job_details?job=${this.state.jobs[index].index}`);\r\n  };\r\n\r\n  handleShareModalClose = () => {\r\n    this.setState({ showSharingModal: false, inputSelected: false });\r\n  };\r\n\r\n  handleCopy = () => {\r\n    this.setState({ copied: true });\r\n    window.setTimeout(() => {\r\n      this.setState({ copied: false });\r\n    }, 5000);\r\n  };\r\n\r\n  handleCopiedClose = () => {\r\n    this.setState({ copied: false });\r\n  };\r\n\r\n  handleArchiveClose = () => {\r\n    this.setState({ archived: false });\r\n  };\r\n\r\n  SlideTransition = props => {\r\n    return <Slide {...props} direction=\"up\" />;\r\n  };\r\n\r\n  saveJobArchive = job => {\r\n    // Save job details\r\n    axios\r\n        .put(\"/api/jobs\", {\r\n          job,\r\n          sendEmailUpdate: false\r\n        })\r\n        .then(res => {\r\n          this.props.history.push(\"/history\");\r\n        })\r\n        .catch(err => {\r\n          console.log(err);\r\n        });\r\n  };\r\n\r\n  handleSelect = e => {\r\n    this.setState({ inputSelected: true });\r\n  };\r\n\r\n  render() {\r\n    switch (this.state.jobs) {\r\n      case null:\r\n        return <div></div>;\r\n      default:\r\n        switch (this.props.auth) {\r\n          case null:\r\n            return <div></div>;\r\n          default:\r\n            const vesselDeliveries = this.state.jobs\r\n                .sort((a, b) => {\r\n                  return (\r\n                      new Date(b.jobBookingDateTime.toString()) -\r\n                      new Date(a.jobBookingDateTime.toString())\r\n                  );\r\n                })\r\n                .map((job, index) => {\r\n                  const { vessel, user, jobTrackers } = job;\r\n                  const jobTracker = jobTrackers.sort((a, b) => {\r\n                    return b.index - a.index;\r\n                  })[0];\r\n\r\n                  let statusString = jobTracker.title;\r\n                  let statusStyle = { color: \"red\" };\r\n                  if (job.isCancelled === \"Confirmed\") {\r\n                    statusString = \"Job Cancelled\";\r\n                  } else if (job.isCancelled === \"Pending\") {\r\n                    statusString = \"Cancel Requested\";\r\n                  } else if (job.isCancelled === \"Denied\") {\r\n                    statusString = \"Cancellation Denied\";\r\n                  } else {\r\n                    statusStyle = {};\r\n                  }\r\n\r\n                  return (\r\n                      <tr\r\n                          key={index}\r\n                          className=\"job-summary-table-row\"\r\n                          onClick={e =>\r\n                              this.props.history.push(`/job_details?job=${job.index}`)\r\n                          }\r\n                      >\r\n                        {this.props.auth.userType === \"Admin\" ? (\r\n                            <td data-title=\"Company\">{user.companyName}</td>\r\n                        ) : (\r\n                            \"\"\r\n                        )}\r\n                        <td data-title=\"Job Number\">{job.jobId}</td>\r\n                        <td data-title=\"Vessel IMO\">{vessel !== null? vessel.vesselIMOID: ''}</td>\r\n                        <td data-title=\"Vessel Name\">{vessel !== null? vessel.vesselName: ''}</td>\r\n                        <td data-title=\"Status\" style={statusStyle}>\r\n                          {statusString}\r\n                        </td>\r\n                      </tr>\r\n                  );\r\n                });\r\n\r\n            return (\r\n                <div className=\"job-summary-table-padding\">\r\n                  {this.props.auth.userType === \"Admin\" ? (\r\n                      <Table\r\n                          bordered\r\n                          hover\r\n                          striped\r\n                          responsive\r\n                          className=\"responsive-table\"\r\n                      >\r\n                        <thead>\r\n                        <tr>\r\n                          {this.props.auth.user.userType === \"Admin\" ? (\r\n                              <th>Company</th>\r\n                          ) : (\r\n                              \"\"\r\n                          )}\r\n                          <th>Job Number</th>\r\n                          <th>Vessel IMO</th>\r\n                          <th>Vessel Name</th>\r\n                          <th>Status</th>\r\n                        </tr>\r\n                        </thead>\r\n                        <tbody>{vesselDeliveries}</tbody>\r\n                      </Table>\r\n                  ) : (\r\n                      <div>\r\n                        <MediaQuery minWidth={768}>\r\n                          {/* webview table */}\r\n                          <JobSummaryTableSearchBar\r\n                              data={this.state.data}\r\n                              showSharingModal={this.state.showSharingModal}\r\n                              toggleSharingModal={showSharingModal => {\r\n                                this.setState({ showSharingModal });\r\n                              }}\r\n                              jobClicked={jobClicked => {\r\n                                this.setState({ jobClicked });\r\n                              }}\r\n                              handleRowClick={this.handleRowClick}\r\n                              saveJobArchive={this.saveJobArchive}\r\n                              allowArchive={this.props.allowArchive}\r\n                              button={this.props.button}\r\n                          />\r\n                          {this.state.jobClicked ? (\r\n                              <div>\r\n                                <JobShareModal\r\n                                    show={this.state.showSharingModal}\r\n                                    joblinkurl={`localhost:3000/job_invitations/${this.state.jobClicked.index}`}\r\n                                    Close={this.handleShareModalClose}\r\n                                    job={this.state.jobClicked}\r\n                                    copied={this.handleCopy}\r\n                                />\r\n\r\n                                <Snackbar\r\n                                    anchorOrigin={{\r\n                                      horizontal: \"left\",\r\n                                      vertical: \"bottom\"\r\n                                    }}\r\n                                    open={this.state.copied}\r\n                                    message={\r\n                                      <span id=\"message-id\">Link Has Been Copied</span>\r\n                                    }\r\n                                    action={\r\n                                      <IconButton\r\n                                          key=\"close\"\r\n                                          color=\"inherit\"\r\n                                          onClick={this.handleCopiedClose}\r\n                                      >\r\n                                        <CloseIcon />\r\n                                      </IconButton>\r\n                                    }\r\n                                    TransitionComponent={this.SlideTransition}\r\n                                />\r\n                              </div>\r\n                          ) : (\r\n                              \"\"\r\n                          )}\r\n                        </MediaQuery>\r\n                        <MediaQuery maxWidth={767}>\r\n                          {/* mobileview table */}\r\n                          <JobSummaryTableDisplayMobile\r\n                              data={this.state.data}\r\n                              showSharingModal={this.state.showSharingModal}\r\n                              toggleSharingModal={showSharingModal => {\r\n                                this.setState({ showSharingModal });\r\n                              }}\r\n                              jobClicked={jobClicked => {\r\n                                this.setState({ jobClicked });\r\n                              }}\r\n                              handleRowClick={this.handleRowClick}\r\n                              saveJobArchive={this.saveJobArchive}\r\n                              allowArchive={this.props.allowArchive}\r\n                              button={this.props.button}\r\n                              title={this.props.title}\r\n                          />\r\n                          {this.state.jobClicked ? (\r\n                              <div>\r\n                                {\r\n                                  <JobShareSlide\r\n                                      open={this.state.showSharingModal}\r\n                                      onClose={this.handleShareModalClose}\r\n                                      joblinkurl={`localhost:3000/job_invitations/${this.state.jobClicked.index}`}\r\n                                      job={this.state.jobClicked}\r\n                                      inputSelected={this.state.inputSelected}\r\n                                      handleSelect={this.handleSelect}\r\n                                  />\r\n                                }\r\n                              </div>\r\n                          ) : (\r\n                              \"\"\r\n                          )}\r\n                        </MediaQuery>\r\n\r\n                        <Snackbar\r\n                            anchorOrigin={{ horizontal: \"left\", vertical: \"bottom\" }}\r\n                            open={this.state.archived}\r\n                            message={\r\n                              <span id=\"message-id\">Item has been Archived</span>\r\n                            }\r\n                            action={\r\n                              <IconButton\r\n                                  key=\"close\"\r\n                                  color=\"inherit\"\r\n                                  onClick={this.handleArchiveClose}\r\n                              >\r\n                                <CloseIcon />\r\n                              </IconButton>\r\n                            }\r\n                            TransitionComponent={this.SlideTransition}\r\n                        />\r\n                      </div>\r\n                  )}\r\n                </div>\r\n            );\r\n        }\r\n    }\r\n  }\r\n}\r\n\r\nconst mapStateToProps = ({ auth }) => {\r\n  return { auth };\r\n};\r\n\r\nexport default withRouter(connect(mapStateToProps)(JobSummaryTable));\r\n","import React from \"react\";\r\nimport { Route, Redirect } from \"react-router-dom\";\r\nimport { connect } from \"react-redux\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nconst VIP = ({ component: Component, auth, ...rest }) => (\r\n  <Route\r\n    {...rest}\r\n    render={props =>\r\n      auth.isAuthenticated === true ? (\r\n        <Component {...props} />\r\n      ) : (\r\n        <Redirect to=\"/login\" />\r\n      )\r\n    }\r\n  />\r\n);\r\n\r\nVIP.propTypes = {\r\n  auth: PropTypes.object.isRequired\r\n};\r\n\r\nconst mapStateToProps = state => ({\r\n  auth: state.auth\r\n});\r\n\r\nexport default connect(mapStateToProps)(VIP);\r\n","import React, { Component } from \"react\";\r\nimport { withRouter } from \"react-router-dom\";\r\n\r\nimport { Nav, Navbar, Image } from \"react-bootstrap\";\r\n\r\nimport \"./ExNavbar.css\";\r\nclass ExNavbar extends Component {\r\n  render() {\r\n    return (\r\n      <Navbar expand=\"lg\" className=\"nav-bar\">\r\n        <Navbar.Brand\r\n          href=\"#\"\r\n          onClick={e => {\r\n            e.preventDefault();\r\n            this.props.history.push(\"/\");\r\n          }}\r\n        >\r\n          <Image className=\"logo\" src=\"../../../images/logo.jpg\" />\r\n        </Navbar.Brand>\r\n        <Nav className=\"ml-auto\">\r\n          <Nav.Item>\r\n            <form className=\"form-inline mt-2 mt-md-0\">\r\n              <button\r\n                onClick={e => {\r\n                  e.preventDefault();\r\n                  this.props.history.push(\"/login\");\r\n                }}\r\n                className=\"btn btn-outline-success my-2 my-sm-0 font\"\r\n                type=\"button\"\r\n              >\r\n                SIGN IN\r\n              </button>\r\n            </form>\r\n          </Nav.Item>\r\n        </Nav>\r\n      </Navbar>\r\n    );\r\n  }\r\n}\r\n\r\nexport default withRouter(ExNavbar);\r\n","import React from \"react\";\r\n\r\nimport Container from \"react-bootstrap/Container\";\r\nimport Col from \"react-bootstrap/Col\";\r\nimport Row from \"react-bootstrap/Row\";\r\nimport Nav from \"react-bootstrap/Nav\";\r\n\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport {\r\n  faWhatsapp,\r\n  faFacebook,\r\n  faInstagram,\r\n  faWeixin,\r\n  faLinkedin,\r\n  faTelegram\r\n} from \"@fortawesome/free-brands-svg-icons\";\r\n\r\nimport MediaQuery from \"react-responsive\";\r\n\r\nimport \"./Footer.css\";\r\nexport default function Footer() {\r\n  return (\r\n    <div id=\"footer-div\">\r\n      <div className=\"section-footer\">\r\n        <Container>\r\n          <Row className=\"nav-btm\">\r\n            <Col xs={6} md={{ span: 3, offset: 0 }}>\r\n              <Nav defaultActiveKey=\"#home\" className=\"flex-column\">\r\n                <Nav.Link className=\"disabled title-footer\">Company</Nav.Link>\r\n                <Nav.Link\r\n                  href=\"https://www.shipsuppliesdirect.com/\"\r\n                  target=\"_blank\"\r\n                >\r\n                  About Ship Supplies Direct\r\n                </Nav.Link>\r\n                <Nav.Link href=\"https://medium.com/@shipsuppliesdirect\">\r\n                  Blog\r\n                </Nav.Link>\r\n                <Nav.Link href=\"/\">Press</Nav.Link>\r\n              </Nav>\r\n            </Col>\r\n            {/*<Col xs={6} md={{ span: 3, offset: 0 }}>*/}\r\n            {/*    <Nav defaultActiveKey=\"#home\" className=\"flex-column\">*/}\r\n            {/*        <Nav.Link className='disabled title-footer'>SimpFleet</Nav.Link>*/}\r\n            {/*        <Nav.Link href=\"/\" target=\"_blank\">FAQ</Nav.Link>*/}\r\n            {/*        <Nav.Link href=\"/\" target=\"_blank\">Career</Nav.Link>*/}\r\n            {/*    </Nav>*/}\r\n            {/*</Col>*/}\r\n          </Row>\r\n          <Row>\r\n            <hr className=\"line-footer\" />\r\n          </Row>\r\n          <MediaQuery query=\"(min-width: 426px)\">\r\n            <Row className=\"font-large\">\r\n              <Col>\r\n                <h6 className=\"h6-footer\">2019 Ship Supplies Direct</h6>\r\n              </Col>\r\n              <Col\r\n                md={{ span: 3, offset: 0 }}\r\n                className=\"d-flex justify-content-end align-items-start\"\r\n              >\r\n                <a\r\n                  href=\"https://api.whatsapp.com/send?phone=6587480467\"\r\n                  target=\"_blank\"\r\n                  className=\"sicon\"\r\n                >\r\n                  <FontAwesomeIcon\r\n                    icon={faWhatsapp}\r\n                    color=\"white\"\r\n                    className=\"highlight\"\r\n                  />\r\n                </a>\r\n                <a\r\n                  href=\"https://www.facebook.com/SimpFleet-2427717804140333/\"\r\n                  target=\"_blank\"\r\n                  className=\"sicon\"\r\n                >\r\n                  <FontAwesomeIcon\r\n                    icon={faFacebook}\r\n                    color=\"white\"\r\n                    className=\"highlight\"\r\n                  />\r\n                </a>\r\n                <a\r\n                  href=\"https://www.instagram.com/shipsuppliesdirect/\"\r\n                  target=\"_blank\"\r\n                  className=\"sicon\"\r\n                >\r\n                  <FontAwesomeIcon\r\n                    icon={faInstagram}\r\n                    color=\"white\"\r\n                    className=\"highlight\"\r\n                  />\r\n                </a>\r\n                {/*<a href='#home' target='_blank' className='sicon'><FontAwesomeIcon icon={faWeixin} color=\"white\" className='highlight'/></a>*/}\r\n                <a\r\n                  href=\"https://www.linkedin.com/company/ship-supplies-direct/\"\r\n                  target=\"_blank\"\r\n                  className=\"sicon\"\r\n                >\r\n                  <FontAwesomeIcon\r\n                    icon={faLinkedin}\r\n                    color=\"white\"\r\n                    className=\"highlight\"\r\n                  />\r\n                </a>\r\n                <a\r\n                  href=\"https://telegram.me/ShipSuppliesDirect\"\r\n                  target=\"_blank\"\r\n                  className=\"sicon\"\r\n                >\r\n                  <FontAwesomeIcon\r\n                    icon={faTelegram}\r\n                    color=\"white\"\r\n                    className=\"highlight\"\r\n                  />\r\n                </a>\r\n              </Col>\r\n            </Row>\r\n          </MediaQuery>\r\n          <MediaQuery query=\"(max-width: 425px)\">\r\n            <Row className=\"font-large\">\r\n              <Col className=\"d-flex justify-content-center align-items-start\">\r\n                <h6 className=\"h6-footer\">2019 Ship Supplies Direct</h6>\r\n              </Col>\r\n            </Row>\r\n            <Row className=\"font-large\">\r\n              <Col className=\"d-flex justify-content-center align-items-start\">\r\n                <a\r\n                  href=\"https://api.whatsapp.com/send?phone=6587480467\"\r\n                  target=\"_blank\"\r\n                  className=\"sicon\"\r\n                >\r\n                  <FontAwesomeIcon\r\n                    icon={faWhatsapp}\r\n                    color=\"white\"\r\n                    className=\"highlight\"\r\n                  />\r\n                </a>\r\n                <a\r\n                  href=\"https://www.facebook.com/SimpFleet-2427717804140333/\"\r\n                  target=\"_blank\"\r\n                  className=\"sicon\"\r\n                >\r\n                  <FontAwesomeIcon\r\n                    icon={faFacebook}\r\n                    color=\"white\"\r\n                    className=\"highlight\"\r\n                  />\r\n                </a>\r\n                <a\r\n                  href=\"https://www.instagram.com/shipsuppliesdirect/\"\r\n                  target=\"_blank\"\r\n                  className=\"sicon\"\r\n                >\r\n                  <FontAwesomeIcon\r\n                    icon={faInstagram}\r\n                    color=\"white\"\r\n                    className=\"highlight\"\r\n                  />\r\n                </a>\r\n                {/*<a href='#home' target='_blank' className='sicon'><FontAwesomeIcon icon={faWeixin} color=\"white\" className='highlight' /></a>*/}\r\n                <a\r\n                  href=\"https://www.linkedin.com/company/ship-supplies-direct/\"\r\n                  target=\"_blank\"\r\n                  className=\"sicon\"\r\n                >\r\n                  <FontAwesomeIcon\r\n                    icon={faLinkedin}\r\n                    color=\"white\"\r\n                    className=\"highlight\"\r\n                  />\r\n                </a>\r\n                <a\r\n                  href=\"https://telegram.me/ShipSuppliesDirect\"\r\n                  target=\"_blank\"\r\n                  className=\"sicon\"\r\n                >\r\n                  <FontAwesomeIcon\r\n                    icon={faTelegram}\r\n                    color=\"white\"\r\n                    className=\"highlight\"\r\n                  />\r\n                </a>\r\n              </Col>\r\n            </Row>\r\n          </MediaQuery>\r\n        </Container>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import React, { Component } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport { connect } from \"react-redux\";\r\nimport { loginUser } from \"../../actions/authAction\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport { NavLink, Redirect } from \"react-router-dom\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport { Grid, Paper, TextField } from \"@material-ui/core\";\r\nimport FormControlLabel from \"@material-ui/core/FormControlLabel\";\r\nimport Checkbox from \"@material-ui/core/Checkbox\";\r\nimport { Container, Row, Col, Form } from \"reactstrap\";\r\nimport { createMuiTheme } from \"@material-ui/core/styles\";\r\nimport { ThemeProvider } from \"@material-ui/styles\";\r\nimport \"./Login.css\";\r\nclass Login extends Component {\r\n  constructor() {\r\n    super();\r\n    this.state = {\r\n      email: \"\",\r\n      password: \"\",\r\n      rememberMe: false,\r\n      errors: {}\r\n    };\r\n\r\n    this.onChange = this.onChange.bind(this);\r\n    this.onSubmit = this.onSubmit.bind(this);\r\n  }\r\n\r\n  componentDidMount() {\r\n    if (this.props.auth.isAuthenticated) {\r\n      this.props.history.push(\"/dashboard\");\r\n      if (\r\n        localStorage.getItem(\"checked\") &&\r\n        localStorage.getItem(\"checked\") !== \"\"\r\n      ) {\r\n        this.setState({\r\n          email: localStorage.getItem(\"email\"),\r\n          password: localStorage.getItem(\"password\"),\r\n          rememberMe: true\r\n        });\r\n      }\r\n    }\r\n  }\r\n\r\n  componentWillReceiveProps(nextProps) {\r\n    if (nextProps.auth.isAuthenticated) {\r\n      this.props.history.push(\"/dashboard\");\r\n    }\r\n\r\n    if (nextProps.errors) {\r\n      this.setState({ errors: nextProps.errors });\r\n    }\r\n  }\r\n\r\n  onSubmit(e) {\r\n    e.preventDefault();\r\n\r\n    const userData = {\r\n      email: this.state.email,\r\n      password: this.state.password\r\n    };\r\n    if (this.state.rememberMe) {\r\n      localStorage.setItem(\"checked\", \"checked\");\r\n      localStorage.setItem(\"email\", this.state.email);\r\n      localStorage.setItem(\"password\", this.state.password);\r\n    } else {\r\n      localStorage.setItem(\"checked\", \"\");\r\n    }\r\n    this.props.loginUser(userData);\r\n  }\r\n\r\n  onChange(e) {\r\n    this.setState({ [e.target.name]: e.target.value });\r\n  }\r\n  onChecked = e => {\r\n    this.setState({ rememberMe: e.target.checked });\r\n  };\r\n  renderContent = () => {\r\n    const { errors } = this.state;\r\n    switch (this.props.auth.isAuthenticated) {\r\n      case null:\r\n        return;\r\n      case false:\r\n        return (\r\n          <Container fluid className=\"signin-background\">\r\n            <Row>\r\n              <Col xs=\"12\" md={{ size: 10, offset: 1 }}>\r\n                <Row>\r\n                  <Col md={{ size: 4, offset: 4 }}>\r\n                    <Paper className=\"signin-top\">\r\n                      <Form onSubmit={this.onSubmit}>\r\n                        <Grid container spacing={0}>\r\n                          <Grid item xs={12}>\r\n                            <h2 className=\"text-center signin-title\">Log In</h2>\r\n                          </Grid>\r\n                          <Grid item xs={12}>\r\n                            <TextField\r\n                              name=\"email\"\r\n                              type=\"email\"\r\n                              value={this.state.email}\r\n                              onChange={this.onChange}\r\n                              variant=\"outlined\"\r\n                              fullWidth\r\n                              id=\"email-login\"\r\n                              label=\"Email Address\"\r\n                              autoComplete=\"email\"\r\n                              autoFocus\r\n                            />\r\n                            <Typography\r\n                              variant=\"caption\"\r\n                              display=\"block\"\r\n                              style={{ color: \"red\" }}\r\n                            >\r\n                              {errors.email}\r\n                            </Typography>\r\n                            <TextField\r\n                              variant=\"outlined\"\r\n                              margin=\"normal\"\r\n                              name=\"password\"\r\n                              type=\"password\"\r\n                              value={this.state.password}\r\n                              onChange={this.onChange}\r\n                              fullWidth\r\n                              label=\"Password\"\r\n                              id=\"password\"\r\n                              autoComplete=\"current-password\"\r\n                              helperText=\"\"\r\n                            />\r\n                            <Typography\r\n                              variant=\"caption\"\r\n                              display=\"block\"\r\n                              style={{ color: \"red\" }}\r\n                            >\r\n                              {errors.password}\r\n                            </Typography>\r\n                          </Grid>\r\n                          <Grid item>\r\n                            <FormControlLabel\r\n                              control={\r\n                                <Checkbox\r\n                                  onChange={this.onChecked}\r\n                                  checked={this.state.rememberMe}\r\n                                  color=\"primary\"\r\n                                />\r\n                              }\r\n                              label=\"Remember me\"\r\n                            />\r\n                          </Grid>\r\n                          <Grid item xs={12}>\r\n                            <Button\r\n                              type=\"submit\"\r\n                              fullWidth\r\n                              variant=\"contained\"\r\n                              color=\"primary\"\r\n                              className=\"button-text\"\r\n                            >\r\n                              Sign In\r\n                            </Button>\r\n                          </Grid>\r\n                          <Grid item xs={12}>\r\n                            <p className=\"text-center signin-forget\">\r\n                              <NavLink to=\"/password_reset\" className=\"link\">\r\n                                Forgot Password?\r\n                              </NavLink>\r\n                            </p>\r\n                          </Grid>\r\n                        </Grid>\r\n                      </Form>\r\n                    </Paper>\r\n                  </Col>\r\n                </Row>\r\n                <Row>\r\n                  <Col md={{ size: 4, offset: 4 }}>\r\n                    <Paper>\r\n                      <p className=\"text-center signup\">\r\n                        Don't have account?\r\n                        <NavLink to=\"/register\" className=\"link\">\r\n                          {\" \"}\r\n                          Sign Up\r\n                        </NavLink>\r\n                      </p>\r\n                    </Paper>\r\n                  </Col>\r\n                </Row>\r\n              </Col>\r\n            </Row>\r\n          </Container>\r\n        );\r\n      default:\r\n        return <Redirect to=\"/\" />;\r\n    }\r\n  };\r\n  render() {\r\n    const theme = createMuiTheme({\r\n      palette: {\r\n        primary: {\r\n          main: \"#49AE4B\"\r\n        }\r\n      }\r\n    });\r\n\r\n    return (\r\n      <ThemeProvider theme={theme}>\r\n        <div>{this.renderContent()}</div>\r\n      </ThemeProvider>\r\n    );\r\n  }\r\n}\r\n\r\nLogin.propTypes = {\r\n  loginUser: PropTypes.func.isRequired,\r\n  auth: PropTypes.object.isRequired,\r\n  errors: PropTypes.object.isRequired\r\n};\r\n\r\nconst mapStateToProps = state => ({\r\n  auth: state.auth,\r\n  errors: state.errors\r\n});\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  { loginUser }\r\n)(Login);\r\n","import React, { Component } from \"react\";\r\nimport { NavLink } from \"react-router-dom\";\r\nimport { Col, Row, Container } from \"reactstrap\";\r\nimport { connect } from \"react-redux\";\r\nimport { createMuiTheme } from \"@material-ui/core/styles\";\r\nimport { ThemeProvider } from \"@material-ui/styles\";\r\nimport { Paper } from \"@material-ui/core\";\r\n\r\nimport RegForm from \"../content/public/regForm/regForm\";\r\nimport \"./Register.css\";\r\nclass Register extends Component {\r\n  componentDidMount() {\r\n    if (this.props.auth.isAuthenticated) {\r\n      this.props.history.push(\"/\");\r\n    }\r\n  }\r\n  render() {\r\n    const theme = createMuiTheme({\r\n      palette: {\r\n        primary: {\r\n          main: \"#49AE4B\"\r\n        }\r\n      }\r\n    });\r\n    return (\r\n      <ThemeProvider theme={theme}>\r\n        <Container fluid className=\"signup-background\">\r\n          <Row>\r\n            <Col md={{ size: 4, offset: 4 }}>\r\n              <Paper className=\"signup-paper-top\">\r\n                <RegForm />\r\n              </Paper>\r\n              <Paper>\r\n                <p className=\"text-center signup\">\r\n                  Have an account?{\" \"}\r\n                  <NavLink to=\"/login\" className=\"link\">\r\n                    {\" \"}\r\n                    Login\r\n                  </NavLink>\r\n                </p>\r\n              </Paper>\r\n            </Col>\r\n          </Row>\r\n        </Container>\r\n      </ThemeProvider>\r\n    );\r\n  }\r\n}\r\nconst mapStateToProps = state => ({\r\n  auth: state.auth\r\n});\r\nexport default connect(mapStateToProps)(Register);\r\n","import React, { Component } from \"react\";\r\nimport { Col, Container, Row } from \"reactstrap\";\r\n\r\nimport JobSummaryTable from \"../Job/JobSummaryTable\";\r\n\r\nclass AdminDashboard extends Component {\r\n  render() {\r\n    return (\r\n      <Container fluid>\r\n        <Row>\r\n          <Col md=\"12\">\r\n            <JobSummaryTable user_only={false} />\r\n          </Col>\r\n        </Row>\r\n      </Container>\r\n    );\r\n  }\r\n}\r\n\r\nexport default AdminDashboard;\r\n","import React, { Component } from \"react\";\r\nimport { Col, Container, Row } from \"reactstrap\";\r\n\r\nimport JobSummaryTable from \"../Job/JobSummaryTable\";\r\nimport SidebarMenu from \"../../SidebarMenu/SidebarMenu\";\r\nimport MediaQuery from \"react-responsive\";\r\n\r\nclass ConsumerDashboard extends Component {\r\n  render() {\r\n    return (\r\n      <Container fluid>\r\n        <MediaQuery minWidth={769}>\r\n          <Row>\r\n            <Col xs=\"2\">\r\n              <SidebarMenu />\r\n            </Col>\r\n            <Col xs=\"10\">\r\n              <Row>\r\n                <Col xs=\"12\" style={{ padding: \"0 40px\" }}>\r\n                  <h3 className=\"job-summary-header\">Dashboard</h3>\r\n                  <JobSummaryTable\r\n                    user_only={true}\r\n                    allowArchive={true}\r\n                    button={true}\r\n                    non_archive_only={true}\r\n                  />\r\n                </Col>\r\n              </Row>\r\n            </Col>\r\n          </Row>\r\n        </MediaQuery>\r\n        <MediaQuery maxWidth={768}>\r\n          <Row>\r\n            <Col xs=\"12\" style={{ padding: \"20px 10px\" }}>\r\n              {/*<h3 className='job-summary-header'>Dashboard</h3>*/}\r\n              <JobSummaryTable\r\n                user_only={true}\r\n                allowArchive={true}\r\n                button={true}\r\n                non_archive_only={true}\r\n                title=\"Dashboard\"\r\n              />\r\n            </Col>\r\n          </Row>\r\n        </MediaQuery>\r\n      </Container>\r\n    );\r\n  }\r\n}\r\nexport default ConsumerDashboard;\r\n","import React, { Component } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { Redirect } from \"react-router-dom\";\r\n\r\nimport AdminDashboard from \"./Admin/AdminDashboard\";\r\nimport ConsumerDashboard from \"./Consumer/ConsumerDashboard\";\r\n\r\nclass Dashboard extends Component {\r\n  render() {\r\n    switch (this.props.auth) {\r\n      case null:\r\n        return <div></div>;\r\n      case false:\r\n        return <Redirect to=\"/\" />;\r\n      default:\r\n        switch (this.props.auth.user.userType) {\r\n          case \"Admin\":\r\n            return <AdminDashboard />;\r\n          default:\r\n            return <ConsumerDashboard />;\r\n        }\r\n    }\r\n  }\r\n}\r\n\r\nconst mapStateToProps = ({ auth }) => {\r\n  return { auth };\r\n};\r\n\r\nexport default connect(mapStateToProps)(Dashboard);\r\n","import React, { Component } from \"react\";\r\nimport { Col, Container, Row } from \"reactstrap\";\r\n\r\nimport JobSummaryTable from \"../../Dashboard/Job/JobSummaryTable\";\r\nimport SidebarMenu from \"../../SidebarMenu/SidebarMenu\";\r\nimport MediaQuery from \"react-responsive\";\r\n\r\nclass UserHistory extends Component {\r\n  render() {\r\n    return (\r\n      <Container fluid>\r\n        <MediaQuery minWidth={769}>\r\n          <Row>\r\n            <Col xs=\"2\">\r\n              <SidebarMenu />\r\n            </Col>\r\n            <Col xs=\"10\">\r\n              <Row>\r\n                <Col xs=\"12\" style={{ padding: \"0 40px\" }}>\r\n                  <h3 className=\"job-summary-header\">History</h3>\r\n                  <JobSummaryTable\r\n                    user_only={true}\r\n                    button={false}\r\n                    archive_only={true}\r\n                    allowArchive={false}\r\n                  />\r\n                </Col>\r\n              </Row>\r\n            </Col>\r\n          </Row>\r\n        </MediaQuery>\r\n        <MediaQuery maxWidth={768}>\r\n          <Row>\r\n            <Col xs=\"12\" style={{ padding: \"20px 10px\" }}>\r\n              {/*<h3 className='job-summary-header'>History</h3>*/}\r\n              <JobSummaryTable\r\n                user_only={true}\r\n                button={false}\r\n                archive_only={true}\r\n                allowArchive={false}\r\n                title=\"History\"\r\n              />\r\n            </Col>\r\n          </Row>\r\n        </MediaQuery>\r\n      </Container>\r\n    );\r\n  }\r\n}\r\n\r\nexport default UserHistory;\r\n","import React, { Component } from \"react\";\r\nimport { Col, Container, Row } from \"reactstrap\";\r\n\r\nimport JobSummaryTable from \"../../Dashboard/Job/JobSummaryTable\";\r\n\r\nclass AdminHistory extends Component {\r\n  render() {\r\n    return (\r\n      <Container fluid style={{ marginTop: \"-50px\" }}>\r\n        <br />\r\n        <h1 className=\"text-center\">History</h1>\r\n        <Row>\r\n          <Col xs=\"12\" md={{ size: 10, offset: 1 }}>\r\n            <JobSummaryTable user_only={false} />\r\n          </Col>\r\n        </Row>\r\n      </Container>\r\n    );\r\n  }\r\n}\r\nexport default AdminHistory;\r\n","import React, { Component } from \"react\";\r\nimport { Redirect } from \"react-router-dom\";\r\nimport { connect } from \"react-redux\";\r\n\r\nimport UserHistory from \"./User/UserHistory\";\r\nimport AdminHistory from \"./Admin/AdminHistory\";\r\n\r\nclass History extends Component {\r\n  render() {\r\n    switch (this.props.auth) {\r\n      case null:\r\n        return <div></div>;\r\n      case false:\r\n        return <Redirect to=\"/\" />;\r\n      default:\r\n        switch (this.props.auth.user.userType) {\r\n          case \"Admin\":\r\n            return <AdminHistory />;\r\n          default:\r\n            return <UserHistory />;\r\n        }\r\n    }\r\n  }\r\n}\r\n\r\nconst mapStateToProps = ({ auth }) => {\r\n  return { auth };\r\n};\r\nexport default connect(mapStateToProps)(History);\r\n","import React, { Component } from \"react\";\r\nimport { Input, Table, Button, Container, Row, Col } from \"reactstrap\";\r\nimport axios from \"axios\";\r\n\r\nclass JobAssignment extends Component {\r\n  state = {\r\n    jobAssignments: null,\r\n    logisticsCompanies: null\r\n  };\r\n\r\n  componentDidMount() {\r\n    axios\r\n      .get(\"/api/job_assignments\")\r\n      .then(res => {\r\n        this.setState({\r\n          jobAssignments: res.data.reverse()\r\n        });\r\n      })\r\n      .catch(err => {\r\n        console.log(err);\r\n      });\r\n\r\n    axios\r\n      .get(\"/api/logistics_companies\")\r\n      .then(res => {\r\n        this.setState({\r\n          logisticsCompanies: res.data\r\n        });\r\n      })\r\n      .catch(err => {\r\n        console.log(err);\r\n      });\r\n  }\r\n\r\n  saveJobAssignments = () => {\r\n    axios\r\n      .put(\"/api/job_assignments\", {\r\n        jobAssignments: this.state.jobAssignments\r\n      })\r\n      .then(res => {\r\n        window.location.reload();\r\n      })\r\n      .catch(err => {\r\n        console.log(err);\r\n      });\r\n  };\r\n\r\n  renderLogisticsCompanies = jobAssignment => {\r\n    const defaultValue = \"Please Select\";\r\n    return (\r\n      <Input\r\n        type=\"select\"\r\n        value={\r\n          jobAssignment.logisticsCompany !== undefined\r\n            ? jobAssignment.logisticsCompany.name\r\n            : defaultValue\r\n        }\r\n        onChange={e => {\r\n          const jobAssignments = this.state.jobAssignments;\r\n          for (let i = 0; i < jobAssignments.length; i++) {\r\n            const jobAssignmentObj = jobAssignments[i];\r\n            if (jobAssignmentObj._id === jobAssignment._id) {\r\n              const logisticsCompanies = this.state.logisticsCompanies;\r\n              for (let j = 0; j < logisticsCompanies.length; j++) {\r\n                const logisticsCompanyObj = logisticsCompanies[j];\r\n                if (logisticsCompanyObj.name === e.target.value) {\r\n                  jobAssignmentObj.logisticsCompany = logisticsCompanyObj;\r\n                  break;\r\n                }\r\n              }\r\n              break;\r\n            }\r\n          }\r\n          this.setState({ jobAssignments });\r\n        }}\r\n      >\r\n        <option>{defaultValue}</option>\r\n        {this.state.logisticsCompanies.map((logisticsCompany, index) => {\r\n          return <option key={index}>{logisticsCompany.name}</option>;\r\n        })}\r\n      </Input>\r\n    );\r\n  };\r\n\r\n  render() {\r\n    switch (this.state.jobAssignments) {\r\n      case null:\r\n        return <div></div>;\r\n      default:\r\n        switch (this.state.logisticsCompanies) {\r\n          case null:\r\n            return <div></div>;\r\n          default:\r\n            const jobAssignments = this.state.jobAssignments.map(\r\n              (jobAssignment, index) => {\r\n                return (\r\n                  <tr key={index}>\r\n                    <td>{index + 1}</td>\r\n                    <td>{jobAssignment.job.jobId}</td>\r\n                    <td>{this.renderLogisticsCompanies(jobAssignment)}</td>\r\n                  </tr>\r\n                );\r\n              }\r\n            );\r\n\r\n            return (\r\n              <Container fluid>\r\n                <br />\r\n                <Row>\r\n                  <Col xs=\"12\" className=\"text-center\">\r\n                    <Button\r\n                      type=\"button\"\r\n                      onClick={e => this.saveJobAssignments()}\r\n                    >\r\n                      Save Changes\r\n                    </Button>\r\n                  </Col>\r\n                </Row>\r\n                <br />\r\n\r\n                <Table striped hover bordered responsive>\r\n                  <tr>\r\n                    <th>No.</th>\r\n                    <th>Job Number</th>\r\n                    <th>Assignment</th>\r\n                  </tr>\r\n                  {jobAssignments}\r\n                </Table>\r\n              </Container>\r\n            );\r\n        }\r\n    }\r\n  }\r\n}\r\n\r\nexport default JobAssignment;\r\n","import \"./SideMenuSlider.css\";\r\nimport React, { Component } from \"react\";\r\n\r\nimport CreateJobModal from \"../Job/CreateJobModal\";\r\nimport Divider from \"@material-ui/core/Divider\";\r\nimport Grid from \"@material-ui/core/Grid\";\r\nimport Fab from \"@material-ui/core/Fab\";\r\nimport { push as Menu } from \"react-burger-menu\";\r\nimport { NavLink, withRouter } from \"react-router-dom\";\r\nimport MediaQuery from \"react-responsive\";\r\nimport { connect } from \"react-redux\";\r\nimport CloseIcon from \"@material-ui/icons/Close\";\r\nimport IconButton from \"@material-ui/core/IconButton\";\r\nimport AddIcon from \"@material-ui/icons/Add\";\r\n\r\nclass SideMenuSlider extends Component {\r\n  state = {\r\n    showHistory: false,\r\n    showModal: false\r\n  };\r\n\r\n  handleOpenModal = () => {\r\n    this.setState({ showModal: true });\r\n  };\r\n\r\n  handleCloseModal = () => {\r\n    this.setState({ showModal: false });\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <MediaQuery maxWidth={768}>\r\n        <Menu\r\n          pageWrapId={\"page-wrap\"}\r\n          outerContainerId={\"outer-container\"}\r\n          customBurgerIcon={false}\r\n          isOpen={this.props.open}\r\n          onStateChange={state => this.props.handleMenuStateChange(state)}\r\n          customCrossIcon={false}\r\n          className=\"menu-width\"\r\n        >\r\n          <Grid container spacing={3}>\r\n            <Grid item xs={12} className=\"d-flex align-items-center\">\r\n              <IconButton\r\n                className=\"closeButtonMenu ml-auto\"\r\n                onClick={this.props.handleCloseMenu}\r\n              >\r\n                <CloseIcon className=\"closeIconMenu\" />\r\n              </IconButton>\r\n            </Grid>\r\n            <Grid item xs={12} className=\"d-flex justify-content-center\">\r\n              <Fab\r\n                variant=\"extended\"\r\n                size=\"large\"\r\n                className=\"side-bar-create-job-button\"\r\n                onClick={this.handleOpenModal}\r\n              >\r\n                <AddIcon style={{ marginRight: \"5px\" }} fontSize=\"small\" />\r\n                Create job\r\n              </Fab>\r\n            </Grid>\r\n            <Grid item xs={12}>\r\n              <NavLink\r\n                to=\"/\"\r\n                className=\"sidebar-link\"\r\n                onClick={this.props.handleCloseMenu}\r\n              >\r\n                Home\r\n              </NavLink>\r\n            </Grid>\r\n            <Grid item xs={12}>\r\n              <NavLink\r\n                to=\"/dashboard\"\r\n                className=\"sidebar-link\"\r\n                onClick={this.props.handleCloseMenu}\r\n              >\r\n                Dashboard\r\n              </NavLink>\r\n            </Grid>\r\n            <Grid item xs={12}>\r\n              {/* {this.state.showHistory ? ( */}\r\n              <NavLink\r\n                to=\"/history\"\r\n                className=\"sidebar-link\"\r\n                onClick={this.props.handleCloseMenu}\r\n              >\r\n                History\r\n              </NavLink>\r\n              {/* ) : (\r\n                \"\"\r\n              )} */}\r\n            </Grid>\r\n            <Grid\r\n              item\r\n              xs={12}\r\n              className=\"d-flex align-items-center justify-content-center\"\r\n            >\r\n              <Divider style={{ width: \"85%\" }} />\r\n            </Grid>\r\n            <Grid item xs={12}>\r\n              <NavLink\r\n                to=\"/\"\r\n                className=\"sidebar-secondary-link\"\r\n                onClick={this.props.handleCloseMenu}\r\n              >\r\n                FAQ\r\n              </NavLink>\r\n            </Grid>\r\n            <Grid item xs={12}>\r\n              <NavLink\r\n                to=\"/\"\r\n                className=\"sidebar-secondary-link\"\r\n                onClick={this.props.handleCloseMenu}\r\n              >\r\n                Setting\r\n              </NavLink>\r\n            </Grid>\r\n            <Grid item xs={12}>\r\n              <NavLink\r\n                to=\"/\"\r\n                className=\"sidebar-secondary-link\"\r\n                onClick={this.onLogoutClick}\r\n              >\r\n                Logout\r\n              </NavLink>\r\n            </Grid>\r\n          </Grid>\r\n        </Menu>\r\n        <CreateJobModal\r\n          isOpen={this.state.showModal}\r\n          fullScreen={true}\r\n          handleCloseModal={this.handleCloseModal}\r\n          handlePopoverOpen={this.props.handlePopoverOpen}\r\n          handleCloseMenu={this.props.handleCloseMenu}\r\n        />\r\n      </MediaQuery>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = ({ auth }) => {\r\n  return { auth };\r\n};\r\n\r\nexport default withRouter(connect(mapStateToProps)(SideMenuSlider));\r\n","import React, {Component} from 'react';\r\nimport MenuItem from \"@material-ui/core/MenuItem\";\r\n\r\nimport './JobItemInput.css'\r\nimport InputGroup from \"react-bootstrap/InputGroup\";\r\nimport FormControl from \"react-bootstrap/FormControl\";\r\nimport Button from \"react-bootstrap/Button\";\r\nimport Container from 'react-bootstrap/Container';\r\nimport Row from 'react-bootstrap/Row';\r\nimport Col from 'react-bootstrap/Col';\r\nimport axios from \"axios\";\r\n\r\nfunction createUOMList(uom, quantity){\r\n    return {uom, quantity}\r\n}\r\n\r\nclass JobItemInput extends Component {\r\n    state = {\r\n        priceList: [],\r\n        UOMList:[],\r\n    };\r\n\r\n    componentDidMount() {\r\n        if(this.props.type === \"delivery\") {\r\n            axios.get(`/api/job_item_pricing`).then(res => {\r\n                const priceList = res.data;\r\n                const UOM = priceList.map(o => createUOMList(o.uom,0));\r\n                this.setState({priceList: priceList, UOMList:UOM});\r\n            }).catch(err => {\r\n                console.log(err);\r\n            });\r\n        } else {\r\n            axios.get(`/api/job_offland_item_pricing`).then(res => {\r\n                const priceList = res.data;\r\n                const UOM = priceList.map(o => createUOMList(o.uom,0));\r\n                this.setState({priceList: priceList, UOMList:UOM});\r\n            }).catch(err => {\r\n                console.log(err);\r\n            });\r\n        }\r\n    }\r\n\r\n    onQuantityUpdate = (value, newProduct) => {\r\n        value = Number(value);\r\n        if (value > 0) {\r\n            const products = this.props.jobItems;\r\n            const newProducts = [];\r\n            for (let i = 0; i < products.length; i++) {\r\n                let product = products[i];\r\n                if (product.id === newProduct.id) {\r\n                    newProducts.push({\r\n                        ...product,\r\n                        quantity: value\r\n                    });\r\n                } else {\r\n                    newProducts.push(product);\r\n                }\r\n            }\r\n            this.props.setItems(newProducts);\r\n        } else {\r\n            const index = this.props.jobItems.indexOf(newProduct);\r\n            this.props.jobItems.splice(index, 1);\r\n            this.props.setItems(this.props.jobItems);\r\n        }\r\n    };\r\n\r\n    handleAddEvent = (value, uom) => {\r\n        let itemPrice = this.state.priceList.filter(o => {\r\n            return o.uom === uom;\r\n        })[0];\r\n        const item = {\r\n            quantity: Number(value),\r\n            uom: uom,\r\n            id: (+new Date() + Math.floor(Math.random() * 999999)).toString(36),\r\n            job: null,\r\n            price: itemPrice.price,\r\n        };\r\n        const items = this.props.jobItems;\r\n        items.push(item);\r\n        this.props.setItems(this.props.jobItems);\r\n    };\r\n\r\n    render() {\r\n\r\n        let jobItems = this.props.jobItems;\r\n\r\n        const renderMenu = this.state.UOMList.map((item, index) => {\r\n            const jobItemsUOM = jobItems.reduce((a, jobItem) => {\r\n                a.push(jobItem.uom);\r\n                return a;\r\n            }, []);\r\n            if (!jobItemsUOM.includes(item.uom)) {\r\n                return (\r\n                    <MenuItem button={false} key={index}>\r\n                        <Row className='d-flex align-items-center'>\r\n                            <Col xs={2}>\r\n                                <h3 className='uom-label'>{item.uom}</h3>\r\n                            </Col>\r\n                            <Col xs={{span: 8, offset: 2}}>\r\n                                <InputGroup className=\"ml-auto\">\r\n                                    <InputGroup.Prepend>\r\n                                        <Button variant=\"outline-secondary\" className='uom-minus-btn'><img\r\n                                            src='/images/minus.png' alt='minus'/></Button>\r\n                                    </InputGroup.Prepend>\r\n                                    <FormControl\r\n                                        className='uom-input text-center'\r\n                                        min=\"0\" type='number' value={item.quantity}\r\n                                        onChange={()=>{}}\r\n                                        onKeyPress={e => {\r\n                                            if (e.key === 'Backspace' && item.quantity === 0) {\r\n                                                e.preventDefault();\r\n                                                e.stopPropagation();\r\n                                            } else if (/\\d/.test(e.key)) {\r\n                                                e.preventDefault();\r\n                                                e.stopPropagation();\r\n                                                this.handleAddEvent(parseInt(e.key), item.uom);\r\n                                            }\r\n                                        }}\r\n                                    />\r\n                                    <InputGroup.Append>\r\n                                        <Button variant=\"outline-secondary\" className='uom-plus-btn'\r\n                                                onClick={e => {\r\n                                                    this.handleAddEvent(item.quantity, item.uom);\r\n                                                    const jobItemSelected = jobItems.filter(o => {\r\n                                                        return o.uom === item.uom;\r\n                                                    })[0];\r\n                                                    this.onQuantityUpdate(1, jobItemSelected)\r\n                                                }}>\r\n                                            <img src='/images/plus.png' alt='plus'/>\r\n                                        </Button>\r\n                                    </InputGroup.Append>\r\n                                </InputGroup>\r\n                            </Col>\r\n                        </Row>\r\n                    </MenuItem>\r\n                );\r\n            } else {\r\n                const jobItemSelected = jobItems.filter(o => {\r\n                    return o.uom === item.uom;\r\n                })[0];\r\n                return (\r\n\r\n                    <MenuItem button={false} key={index}>\r\n                        <Row className='d-flex align-items-center'>\r\n                            <Col xs={2}>\r\n                                <h3 className='uom-label'>{item.uom}</h3>\r\n                            </Col>\r\n                            <Col xs={{span: 8, offset: 2}}>\r\n                                <InputGroup className=\"ml-auto\">\r\n                                    <InputGroup.Prepend>\r\n                                        <Button variant=\"outline-secondary\" className='uom-minus-btn'\r\n                                                onClick={e => {\r\n                                                    this.onQuantityUpdate(parseInt(document.getElementById(`value${index}`).value) - 1, jobItemSelected)\r\n                                                }}><img src='/images/minus.png' alt='minus'/></Button>\r\n                                    </InputGroup.Prepend>\r\n                                    <FormControl\r\n                                        id={`value${index}`}\r\n                                        className='uom-input text-center'\r\n                                        min=\"0\" type='number' value={parseInt(jobItemSelected.quantity)}\r\n                                        onChange={(e) => {\r\n                                            this.onQuantityUpdate(parseInt(e.target.value), jobItemSelected);\r\n                                        }}\r\n                                        onKeyDown={e => {\r\n                                            if (e.keyCode === 8) {\r\n                                                if (jobItemSelected.quantity === 0) {\r\n                                                    e.preventDefault();\r\n                                                    e.stopPropagation();\r\n                                                } else if (jobItemSelected.quantity.toString().length === 1) {\r\n                                                    this.onQuantityUpdate(0, jobItemSelected)\r\n                                                }\r\n                                            }\r\n                                        }}\r\n                                    />\r\n                                    <InputGroup.Append>\r\n                                        <Button variant=\"outline-secondary\" className='uom-plus-btn'\r\n                                                onClick={e => {\r\n                                                    this.onQuantityUpdate(parseInt(document.getElementById(`value${index}`).value) + 1, jobItemSelected)\r\n                                                }}><img src='/images/plus.png' alt='plus'/></Button>\r\n                                    </InputGroup.Append>\r\n                                </InputGroup>\r\n                            </Col>\r\n                        </Row>\r\n                    </MenuItem>\r\n                )\r\n            }\r\n\r\n        });\r\n\r\n        return (\r\n            <Container className='popover-conatiner'>\r\n                {renderMenu}\r\n            </Container>\r\n        );\r\n    }\r\n}\r\n\r\nexport default JobItemInput;","import React, { Component } from \"react\";\r\nimport Dialog from \"@material-ui/core/Dialog\";\r\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\r\nimport DialogContent from \"@material-ui/core/DialogContent\";\r\nimport DialogActions from \"@material-ui/core/DialogActions\";\r\nimport IconButton from \"@material-ui/core/IconButton\";\r\nimport CloseIcon from \"@material-ui/icons/Close\";\r\nimport DoneIcon from \"@material-ui/icons/Done\";\r\n\r\nimport Button from \"react-bootstrap/Button\";\r\nimport \"./AffirmationModal.css\";\r\n\r\nclass AffirmationModal extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      isMobile: false\r\n    };\r\n\r\n    this.updatePredicate = this.updatePredicate.bind(this);\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.updatePredicate();\r\n    window.addEventListener(\"resize\", this.updatePredicate);\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    window.removeEventListener(\"resize\", this.updatePredicate);\r\n  }\r\n\r\n  updatePredicate() {\r\n    this.setState({ isMobile: window.innerWidth < 426 });\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <Dialog\r\n        open={this.props.modal}\r\n        onClose={this.props.toggle}\r\n        maxWidth=\"xs\"\r\n        fullWidth={false}\r\n        // fullScreen={this.state.isMobile}\r\n      >\r\n        <DialogTitle className=\"dialog-top\">\r\n          <div className=\"d-flex align-items-center\">\r\n            <p className=\"info-modal-title\">{this.props.title}</p>\r\n            <IconButton\r\n              className=\"closeButton ml-auto\"\r\n              onClick={this.props.toggle}\r\n            >\r\n              <CloseIcon className=\"closeButton\" />\r\n            </IconButton>\r\n          </div>\r\n        </DialogTitle>\r\n        <DialogContent className=\"info-modal-content\">\r\n          <div className=\"info-modal-message text-center\">\r\n            {this.props.children}\r\n          </div>\r\n        </DialogContent>\r\n        <DialogActions className=\"info-modal-bottom\">\r\n          <div className=\"d-flex align-items-center justify-content-center w-100\">\r\n            <Button\r\n              variant=\"success\"\r\n              className=\"info-button\"\r\n              onClick={this.props.affirmativeAction}\r\n            >\r\n              <span>{this.props.affirmativeText}</span>\r\n            </Button>\r\n            <Button\r\n              variant=\"outline-success\"\r\n              className=\"info-button info-button-cancel\"\r\n              onClick={this.props.toggle}\r\n              style={{ marginLeft: \"15px\" }}\r\n            >\r\n              <span>{this.props.cancelText}</span>\r\n            </Button>\r\n          </div>\r\n        </DialogActions>\r\n      </Dialog>\r\n    );\r\n  }\r\n}\r\n\r\nexport default AffirmationModal;\r\n","import React, { Component } from \"react\";\r\nimport { Button, Modal, ModalBody, ModalFooter, ModalHeader } from \"reactstrap\";\r\n\r\nclass InformationModal extends Component {\r\n  render() {\r\n    return (\r\n      <Modal\r\n        isOpen={this.props.modal}\r\n        toggle={this.props.toggle}\r\n        onClosed={this.props.onClosed}\r\n      >\r\n        <ModalHeader toggle={this.props.toggle}>{this.props.title}</ModalHeader>\r\n        <ModalBody>{this.props.children}</ModalBody>\r\n        <ModalFooter>\r\n          <Button color=\"primary\" onClick={this.props.onClosed}>\r\n            Ok\r\n          </Button>\r\n        </ModalFooter>\r\n      </Modal>\r\n    );\r\n  }\r\n}\r\n\r\nexport default InformationModal;\r\n","import React, { Component } from \"react\";\r\nimport \"react-dates/initialize\";\r\nimport InputGroup from \"react-bootstrap/InputGroup\";\r\nimport FormControl from \"react-bootstrap/FormControl\";\r\nimport moment from \"moment\";\r\nimport { Button } from \"react-bootstrap\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport { faCalendarAlt } from \"@fortawesome/free-solid-svg-icons\";\r\nimport { DayPickerSingleDateController } from \"react-dates\";\r\nimport \"react-dates/lib/css/_datepicker.css\";\r\nimport isInclusivelyAfterDay from \"react-dates/src/utils/isInclusivelyAfterDay\";\r\n\r\nimport \"./DateInputComponent.css\";\r\n\r\nclass DateInputComponent extends Component {\r\n  state = {\r\n    focused: false\r\n  };\r\n\r\n  onClickOutside = () => {\r\n    // Force the focused states to always be truthy so that date is always selectable\r\n    window.setTimeout(() => {\r\n      this.setState({ focused: false });\r\n    }, 100);\r\n  };\r\n\r\n  toggleController = () => {\r\n    this.setState({ focused: !this.state.focused });\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <div>\r\n        <div style={{ marginBottom: 16 }}>\r\n          <InputGroup>\r\n            <FormControl\r\n              type=\"text\"\r\n              value={moment(this.props.DateTime).format(\"DD MMMM YYYY\")}\r\n              className=\"job-detail-section--date-input\"\r\n              disabled={this.props.disabled}\r\n              onChange={() => {}}\r\n            />\r\n            <InputGroup.Append>\r\n              <Button\r\n                variant=\"outline-success\"\r\n                onClick={this.toggleController}\r\n                className=\"calendar-button\"\r\n                disabled={this.props.disabled}\r\n              >\r\n                <FontAwesomeIcon icon={faCalendarAlt} color=\"white\" />\r\n              </Button>\r\n            </InputGroup.Append>\r\n          </InputGroup>\r\n        </div>\r\n        {this.state.focused ? (\r\n          <div style={{ zIndex: \"100\", position: \"absolute\" }}>\r\n            <DayPickerSingleDateController\r\n              date={moment(this.props.DateTime)}\r\n              onDateChange={this.props.handleDateChange}\r\n              onOutsideClick={this.onClickOutside}\r\n              numberOfMonths={1}\r\n              isOutsideRange={day => !isInclusivelyAfterDay(day, moment())}\r\n            />\r\n          </div>\r\n        ) : (\r\n          \"\"\r\n        )}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default DateInputComponent;\r\n","import React, {Component} from 'react';\r\nimport {FormGroup, Form, Input, Label} from \"reactstrap\";\r\nimport axios from 'axios';\r\nimport {withRouter} from \"react-router-dom\";\r\nimport moment from 'moment';\r\nimport {connect} from \"react-redux\";\r\n\r\nimport {Paper, Divider, Popover} from '@material-ui/core';\r\nimport {Container, Row, Col, Button} from 'react-bootstrap';\r\nimport FormControlLabel from \"@material-ui/core/FormControlLabel\";\r\nimport Checkbox from \"@material-ui/core/Checkbox\";\r\nimport FormRB from 'react-bootstrap/Form';\r\n\r\nimport 'react-dates/initialize';\r\nimport TimePicker from 'rc-time-picker';\r\nimport 'rc-time-picker/assets/index.css';\r\n\r\nimport \"react-datepicker/dist/react-datepicker.css\";\r\nimport JobItemInput from \"./Form/JobItemInput\";\r\nimport AffirmationModal from \"../../ui/Modal/AffirmationModal\";\r\nimport InformationModal from \"../../ui/Modal/InformationModal\";\r\nimport DateInputComponent from \"./Form/DateInputComponent\";\r\n\r\nclass JobDetailsCard extends Component {\r\n    state = {\r\n        job: this.props.job,\r\n        jobEdit: false,\r\n        showJobUpdateModal: false,\r\n        jobUpdatedModal: false,\r\n        currentCareOffParty: null,\r\n        jobPrevState: null,\r\n        showItemsDeliverList: false,\r\n        focusedVesselArriveDate: false,\r\n        ItemsDeliverAnchorEl: null,\r\n        ItemsOfflandAnchorEl: null,\r\n    };\r\n\r\n    componentDidMount() {\r\n        let currentCareOffParty = null;\r\n        const {careOffParties} = this.props.job;\r\n        for (let i = 0; i < careOffParties.length; i++) {\r\n            const careOffParty = careOffParties[i];\r\n            if (careOffParty.user === this.props.auth._id) {\r\n                currentCareOffParty = careOffParty;\r\n                this.setState({currentCareOffParty});\r\n                break;\r\n            }\r\n        }\r\n    }\r\n\r\n    handleVesselLoadingLocationChange = (e) => {\r\n        const job = this.state.job;\r\n        job.vesselLoadingLocation = e.target.value;\r\n        this.setState({job});\r\n    };\r\n\r\n    handleVesselArrivalDateChange = (vesselLoadingDateTime) => {\r\n        const job = this.state.job;\r\n        job.vesselArrivalDateTime = vesselLoadingDateTime.toISOString();\r\n        this.setState({job});\r\n    };\r\n\r\n    handleVesselArrivalTimeChange = (value) => {\r\n        const job = this.state.job;\r\n        job.vesselArrivalDateTime = value.toDate().toISOString();\r\n        this.setState({job});\r\n    };\r\n\r\n    handleVesselLighterLocationChange = (e) => {\r\n        const job = this.state.job;\r\n        job.vesselLighterLocation = e.target.value;\r\n        this.setState({job});\r\n    };\r\n\r\n    // handleVesselLighterTimeChange = (value) => {\r\n    //     const job = this.state.job;\r\n    //     job.vesselLighterDateTime = value.toDate().toISOString();\r\n    //     this.setState({job});\r\n    // };\r\n    //\r\n    // handleVesselLighterDateChange = (vesselLighterDateTime) => {\r\n    //     const job = this.state.job;\r\n    //     job.vesselLighterDateTime = vesselLighterDateTime.toISOString();\r\n    //     this.setState({job});\r\n    // };\r\n\r\n    handleVesselLighterNameChange = (e) => {\r\n        const job = this.state.job;\r\n        job.vesselLighterName = e.target.value;\r\n        this.setState({job});\r\n    };\r\n\r\n    handleVesselBerthingDateTimeChange = (psaBerthingDateTime) => {\r\n        const job = this.state.job;\r\n        job.psaBerthingDateTime = psaBerthingDateTime;\r\n        this.setState({job});\r\n    };\r\n\r\n    handleVesselUnberthingDateTimeChange = (psaUnberthingDateTime) => {\r\n        const job = this.state.job;\r\n        job.psaUnberthingDateTime = psaUnberthingDateTime;\r\n        this.setState({job});\r\n    };\r\n\r\n    handleVesselLoadingDateChange = (vesselLoadingDateTime) => {\r\n        const job = this.state.job;\r\n        job.vesselLoadingDateTime = vesselLoadingDateTime.toISOString();\r\n        this.setState({job});\r\n    };\r\n\r\n    handleVesselLoadingTimeChange = (value) => {\r\n        const job = this.state.job;\r\n        job.vesselLoadingDateTime = value.toDate().toISOString();\r\n        this.setState({job});\r\n    };\r\n\r\n    handleRemarksChange = (e) => {\r\n        const job = this.state.job;\r\n        job.remarks = e.target.value;\r\n        this.setState({job});\r\n    };\r\n\r\n    handleVesselLighterRemarksChange = (e) => {\r\n        const job = this.state.job;\r\n        job.vesselLighterRemarks = e.target.value;\r\n        this.setState({job});\r\n    };\r\n\r\n    onSubmit = (e) => {\r\n        e.preventDefault();\r\n        this.setState({showJobUpdateModal: true});\r\n    };\r\n\r\n    validateItems = (items) => {\r\n        // Check for empty item entries\r\n        const filteredItems = [];\r\n        for (let i = 0; i < items.length; i++) {\r\n            const item = items[i];\r\n            if (item.quantity !== '' && item.uom !== '') {\r\n                delete item['id'];\r\n                filteredItems.push(item);\r\n            }\r\n        }\r\n        return filteredItems;\r\n    };\r\n\r\n    saveJobDetails = (e) => {\r\n        // Check for empty item entries\r\n        const filteredItems = this.validateItems(this.state.job.jobItems);\r\n        const filteredOfflandingItems = this.validateItems(this.state.job.jobOfflandItems);\r\n\r\n\r\n        const now = new Date();\r\n\r\n        // Save to job\r\n        const job = this.state.job;\r\n        job.jobItems = filteredItems;\r\n        job.jobOfflandItems = filteredOfflandingItems;\r\n        job.careOffParties = this.state.job.careOffParties;\r\n\r\n        if (this.state.job.vesselLoadingLocation !== 'PSA' && (new Date(this.state.job.vesselLoadingDateTime) - now.setHours(now.getHours() + 2)) < 0) {\r\n            this.setState({\r\n                jobEdit: false,\r\n                job: this.state.jobPrevState\r\n            });\r\n            window.alert('Vessel Loading Time cannot be before now')\r\n        } else if (this.state.job.vesselLoadingDateTime === '') {\r\n            this.setState({\r\n                jobEdit: false,\r\n                job: this.state.jobPrevState\r\n            });\r\n            window.alert('Vessel Loading Date and Time must be filled');\r\n\r\n        } else if (this.state.currentCareOffParty !== null && this.validateItems(this.state.currentCareOffParty.jobItems).length < 1) {\r\n            this.setState({\r\n                jobEdit: false,\r\n                job: this.state.jobPrevState\r\n            })\r\n            window.alert('At least one item must be submitted for delivery!');\r\n        } else if (this.state.job.vesselArrivalDateTime === '') {\r\n            this.setState({\r\n                jobEdit: false,\r\n                job: this.state.jobPrevState\r\n            })\r\n            window.alert('Vessel ETA must be filled');\r\n        } else {\r\n            // Save job details\r\n            axios.put('/api/jobs', {\r\n                job,\r\n                sendEmailUpdate: true\r\n            }).then(res => {\r\n                if (this.state.currentCareOffParty !== null) {\r\n                    axios.put('/api/care_off', {\r\n                        careOffParty: this.state.currentCareOffParty\r\n                    }).then(res => {\r\n                        this.setState({jobUpdatedModal: true});\r\n                    }).catch(err => {\r\n                        console.log(err);\r\n                    });\r\n                } else {\r\n                    this.setState({jobUpdatedModal: true});\r\n                }\r\n            }).catch(err => {\r\n                console.log(err);\r\n            });\r\n        }\r\n    };\r\n\r\n    checkValidDate = (d) => {\r\n        const date = new Date(d);\r\n        return date.toString() !== \"Invalid Date\";\r\n    };\r\n\r\n    handleDeliverClose = () => {\r\n        this.setState({ItemsDeliverAnchorEl: null})\r\n    };\r\n\r\n    handleOfflandClose = () => {\r\n        this.setState({ItemsOfflandAnchorEl: null})\r\n    };\r\n\r\n    handleCreateDSAChange = (e) => {\r\n        const job = this.state.job;\r\n        job.createDSA = e.target.checked;\r\n        this.setState({job});\r\n    };\r\n\r\n    handleOtherVesselLocationChange = (e) => {\r\n        const job = this.state.job;\r\n        job.vesselLoadingLocation = e.target.value;\r\n        this.setState({job});\r\n    };\r\n\r\n    renderJobTimeDetails = () => {\r\n        let {\r\n            vesselLoadingLocation, vesselArrivalDateTime, vesselLoadingDateTime,\r\n            psaBerthingDateTime, psaUnberthingDateTime,\r\n        } = this.state.job;\r\n        const vesselLoadingTime = moment(vesselLoadingDateTime);\r\n        const vesselArrivalTime = moment(vesselArrivalDateTime);\r\n        const psaBerthingTime = moment(psaBerthingDateTime);\r\n        const psaUnberthingTime = moment(psaUnberthingDateTime);\r\n        switch (vesselLoadingLocation) {\r\n            case 'PSA':\r\n                return <div>\r\n                    <Row>\r\n                        <Col xs={12} sm={6}>\r\n                            <div className='d-flex align-items-center job-detail-section-heading'>\r\n                                <div className='job-detail-green-circle'><strong>2</strong></div>\r\n                                <h1 className='job-detail-section-header'>Time</h1>\r\n                            </div>\r\n                            <FormGroup>\r\n                                <Label className='job-detail-section-label'>Vessel Estimated Berthing Time\r\n                                </Label>\r\n                                <Container fluid style={{paddingRight: \"0px\", paddingLeft: '0px'}}>\r\n                                    <Row>\r\n                                        <Col xs={7}>\r\n                                            <DateInputComponent DateTime={psaBerthingDateTime}\r\n                                                                handleDateChange={() => {\r\n                                                                }}\r\n                                                                disabled={true}/>\r\n                                        </Col>\r\n                                        <Col xs={5}>\r\n                                            <TimePicker\r\n                                                showSecond={false}\r\n                                                defaultValue={psaBerthingTime}\r\n                                                value={psaBerthingTime}\r\n                                                onChange={() => {\r\n                                                }}\r\n                                                allowEmpty={false}\r\n                                                disabled={true}\r\n                                                className='job-detail-section-input'\r\n                                            />\r\n                                        </Col></Row></Container>\r\n                            </FormGroup>\r\n\r\n                            <FormGroup>\r\n                                <Label className='job-detail-section-label'>Vessel Estimated Unberthing Time</Label>\r\n                                <Container fluid style={{paddingRight: \"0px\", paddingLeft: '0px'}}>\r\n                                    <Row>\r\n                                        <Col xs={7}>\r\n                                            <DateInputComponent DateTime={psaUnberthingDateTime}\r\n                                                                handleDateChange={() => {\r\n                                                                }}\r\n                                                                disabled={true}/>\r\n                                        </Col>\r\n                                        <Col xs={5}>\r\n                                            <TimePicker\r\n                                                showSecond={false}\r\n                                                defaultValue={psaUnberthingTime}\r\n                                                value={psaUnberthingTime}\r\n                                                onChange={() => {\r\n                                                }}\r\n                                                allowEmpty={false}\r\n                                                disabled={true}\r\n                                                className='job-detail-section-input'\r\n                                            />\r\n                                        </Col></Row></Container>\r\n                            </FormGroup>\r\n                        </Col>\r\n                    </Row>\r\n                    <Divider className='job-detail-section-divider'/>\r\n                </div>;\r\n            default:\r\n                return (\r\n                    <div>\r\n                        <Row>\r\n                            <Col xs={12} sm={6}>\r\n                                <div className='d-flex align-items-center job-detail-section-heading'>\r\n                                    <div className='job-detail-green-circle'><strong>2</strong></div>\r\n                                    <h1 className='job-detail-section-header'>Time</h1>\r\n                                </div>\r\n                                {/*<FormGroup>*/}\r\n                                {/*    <Label className='job-detail-section-label'>Vessel Estimated Time Arrival*/}\r\n                                {/*        (ETA)</Label>*/}\r\n                                {/*    <Container fluid style={{paddingRight: \"0px\", paddingLeft: '0px'}}>*/}\r\n                                {/*        <Row>*/}\r\n                                {/*            <Col xs={7}>*/}\r\n                                {/*                <DateInputComponent DateTime={vesselArrivalDateTime}*/}\r\n                                {/*                                    handleDateChange={this.handleVesselArrivalDateChange}*/}\r\n                                {/*                                    disabled={!this.state.jobEdit}/>*/}\r\n                                {/*            </Col>*/}\r\n                                {/*            <Col xs={5}>*/}\r\n                                {/*                <TimePicker*/}\r\n                                {/*                    showSecond={false}*/}\r\n                                {/*                    defaultValue={vesselArrivalTime}*/}\r\n                                {/*                    value={vesselArrivalTime}*/}\r\n                                {/*                    onChange={this.handleVesselArrivalTimeChange}*/}\r\n                                {/*                    allowEmpty={false}*/}\r\n                                {/*                    disabled={!this.state.jobEdit}*/}\r\n                                {/*                    className='job-detail-section-input'*/}\r\n                                {/*                />*/}\r\n                                {/*            </Col></Row></Container>*/}\r\n                                {/*</FormGroup>*/}\r\n\r\n                                <FormGroup>\r\n                                    <Label className='job-detail-section-label'>{\r\n                                        this.state.vesselLoadingLocation === 'Jurong Port'\r\n                                            ? 'Lighter Loading Date & Time'\r\n                                            : 'Vessel Loading Date & Time'\r\n                                    }</Label>\r\n                                    <Container fluid style={{paddingRight: \"0px\", paddingLeft: '0px'}}>\r\n                                        <Row>\r\n                                            <Col xs={7}>\r\n                                                <DateInputComponent DateTime={vesselLoadingDateTime}\r\n                                                                    handleDateChange={this.handleVesselLoadingDateChange}\r\n                                                                    disabled={!this.state.jobEdit}/>\r\n                                            </Col>\r\n                                            <Col xs={5}>\r\n                                                <TimePicker\r\n                                                    showSecond={false}\r\n                                                    defaultValue={vesselLoadingTime}\r\n                                                    value={vesselLoadingTime}\r\n                                                    onChange={this.handleVesselLoadingTimeChange}\r\n                                                    allowEmpty={false}\r\n                                                    disabled={!this.state.jobEdit}\r\n                                                    className='job-detail-section-input'\r\n                                                />\r\n                                            </Col></Row></Container>\r\n                                </FormGroup>\r\n                            </Col>\r\n                        </Row>\r\n                        <Divider className='job-detail-section-divider'/>\r\n                    </div>);\r\n        }\r\n    };\r\n\r\n\r\n    render() {\r\n        let {\r\n            jobId, vessel, vesselLoadingLocation, vesselArrivalDateTime, vesselLoadingDateTime, remarks,\r\n            jobItems, jobOfflandItems, psaBerthingDateTime, psaUnberthingDateTime, createDSA,\r\n            vesselLighterName, vesselLighterDateTime, vesselLighterLocation, vesselLighterRemarks\r\n        } = this.state.job;\r\n        const otherVesselLocation = vesselLoadingLocation === 'PSA' || vesselLoadingLocation === 'Jurong Port' ? '' : vesselLoadingLocation;\r\n        vesselLoadingLocation = vesselLoadingLocation === 'PSA' || vesselLoadingLocation === 'Jurong Port' ? vesselLoadingLocation : 'Others';\r\n\r\n        const currentCareOffParty = this.state.currentCareOffParty;\r\n        if (currentCareOffParty !== null) {\r\n            jobItems = currentCareOffParty.jobItems;\r\n            jobOfflandItems = currentCareOffParty.jobOfflandItems;\r\n        }\r\n\r\n        for (let i = 0; i < jobItems.length; i++) {\r\n            const jobItem = jobItems[i];\r\n            jobItem.id = (+new Date() + Math.floor(Math.random() * 999999)).toString(36);\r\n        }\r\n\r\n        for (let i = 0; i < jobOfflandItems.length; i++) {\r\n            const jobOfflandItem = jobOfflandItems[i];\r\n            jobOfflandItem.id = (+new Date() + Math.floor(Math.random() * 999999)).toString(36);\r\n        }\r\n\r\n        const openDeliver = Boolean(this.state.ItemsDeliverAnchorEl);\r\n        let jobItemText = jobItems.reduce((a, item) => {\r\n            a.push(item.quantity.toString().concat(' '.concat(item.uom)));\r\n            return a;\r\n        }, []);\r\n\r\n        const openOffland = Boolean(this.state.ItemsOfflandAnchorEl);\r\n        let jobOfflandItemsText = jobOfflandItems.reduce((a, item) => {\r\n            a.push(item.quantity.toString().concat(' '.concat(item.uom)));\r\n            return a;\r\n        }, []);\r\n\r\n        const renderText = () => {\r\n            return (\r\n                <div className='d-flex flex-column'>\r\n                    <span className='job-detail-section-input-label' style={{marginBottom: '0px'}}><strong>I would like SimpFleet to produce DSA(JP LTs) or Entry/Export Permit(PSA) for me</strong></span>\r\n                    <span className='job-detail-section-label-helper-text'><i>It would cost extra fees if Simpfleet produces the DSA(JP LTs) or Entry/Export Permit(PSA)</i></span>\r\n                </div>);\r\n        };\r\n\r\n        return (\r\n            <div>\r\n                <Paper square={true} className='job-detail-paper' elevation={0}>\r\n                    <Form onSubmit={this.onSubmit}>\r\n                        <Container>\r\n                            <Row>\r\n                                <Col xs={12} sm={6}>\r\n                                    <div className='d-flex align-items-center job-detail-section-heading'>\r\n                                        <div className='job-detail-green-circle'><strong>1</strong></div>\r\n                                        <h1 className='job-detail-section-header'>Vessel Information</h1>\r\n                                    </div>\r\n\r\n                                    <FormGroup>\r\n                                        <Label className='job-detail-section-label'>Job Number</Label>\r\n                                        <Input type=\"text\" value={jobId} className='job-detail-section-input' disabled/>\r\n                                    </FormGroup>\r\n\r\n                                    <FormGroup>\r\n                                        <Label className='job-detail-section-label'>Vessel Loading Location</Label>\r\n                                        <Input type=\"select\" value={vesselLoadingLocation}\r\n                                               disabled\r\n                                               onChange={this.handleVesselLoadingLocationChange}\r\n                                               className='job-detail-section-input job-input-margin-btm '>\r\n                                            <option>PSA</option>\r\n                                            <option>Jurong Port</option>\r\n                                            <option>Others</option>\r\n                                        </Input>\r\n                                    </FormGroup>\r\n\r\n                                    {\r\n                                        vesselLoadingLocation === 'Others'\r\n                                            ? <FormGroup>\r\n                                                <Label className='job-create-section-label'>Address of Vessel Loading\r\n                                                    Location</Label>\r\n                                                <Input type=\"text\" value={otherVesselLocation}\r\n                                                       disabled={!this.state.jobEdit}\r\n                                                       onChange={this.handleOtherVesselLocationChange}\r\n                                                       className='job-create-section-input'\r\n                                                >\r\n                                                </Input>\r\n                                            </FormGroup>\r\n                                            : ''\r\n                                    }\r\n\r\n                                    {/*Lighter Implementation (Need Add Lighter Name and and Time and Location Model)*/}\r\n                                    {vesselLoadingLocation === 'Jurong Port'\r\n                                        ? <div>\r\n                                            <FormGroup style={{marginBottom: '0px'}}>\r\n                                                <Label className='job-detail-section-label'>Lighter Name\r\n                                                    (Optional)</Label>\r\n                                                <Input type=\"text\"\r\n                                                       onChange={this.handleVesselLighterNameChange}\r\n                                                       value={vesselLighterName}\r\n                                                       disabled={!this.state.jobEdit}\r\n                                                       className='job-detail-section-input'/>\r\n                                            </FormGroup>\r\n                                            {/*<FormGroup style={{marginBottom: '0px'}}>*/}\r\n                                            {/*    <Label className='job-detail-section-label'>Lighter ETA</Label>*/}\r\n                                            {/*    <Container fluid style={{paddingRight: \"0px\", paddingLeft: '0px'}}>*/}\r\n                                            {/*        <Row>*/}\r\n                                            {/*            <Col xs={7}>*/}\r\n                                            {/*                <DateInputComponent DateTime={vesselLighterDateTime}*/}\r\n                                            {/*                                    handleDateChange={this.handleVesselLighterDateChange}*/}\r\n                                            {/*                                    disabled={!this.state.jobEdit}/>*/}\r\n                                            {/*            </Col>*/}\r\n                                            {/*            <Col xs={5}>*/}\r\n                                            {/*                <TimePicker*/}\r\n                                            {/*                    showSecond={false}*/}\r\n                                            {/*                    value={vesselLighterTime}*/}\r\n                                            {/*                    onChange={this.handleVesselLighterTimeChange}*/}\r\n                                            {/*                    allowEmpty={false}*/}\r\n                                            {/*                    disabled={!this.state.jobEdit}*/}\r\n                                            {/*                    className='job-detail-section-input'*/}\r\n                                            {/*                />*/}\r\n                                            {/*            </Col></Row></Container>*/}\r\n                                            {/*</FormGroup>*/}\r\n                                            <FormGroup>\r\n                                                <Label className='job-detail-section-label'>Lighter Location</Label>\r\n                                                <Input type=\"select\" value={vesselLighterLocation}\r\n                                                       disabled={!this.state.jobEdit}\r\n                                                       onChange={this.handleVesselLighterLocationChange}\r\n                                                       className='job-detail-section-input job-input-margin-btm '>\r\n                                                    <option>Marina South Wharves</option>\r\n                                                    <option>Penjuru Terminal</option>\r\n                                                </Input>\r\n                                            </FormGroup>\r\n                                            <FormGroup>\r\n                                                <Label className='job-detail-section-label'>Lighter Contact Remarks\r\n                                                    (Optional)</Label>\r\n                                                <Input type=\"textarea\" value={vesselLighterRemarks} rows=\"3\"\r\n                                                       className='job-detail-section-input' style={{marginBottom: 0}}\r\n                                                       onChange={this.handleVesselLighterRemarksChange}\r\n                                                       disabled={!this.state.jobEdit}/>\r\n                                                <span className='job-detail-section-label-helper-text'><i>Please enter contact details for lighter here</i></span>\r\n                                            </FormGroup>\r\n                                        </div>\r\n                                        : ''\r\n                                    }\r\n\r\n\r\n                                    <FormGroup>\r\n                                        <Label className='job-detail-section-label'>Vessel IMO</Label>\r\n                                        <Input type=\"text\" className='job-detail-section-input'\r\n                                               value={vessel.vesselIMOID} disabled/>\r\n                                    </FormGroup>\r\n\r\n                                    <FormGroup>\r\n                                        <Label className='job-detail-section-label'>Vessel Callsign</Label>\r\n                                        <Input type=\"text\" className='job-detail-section-input'\r\n                                               value={vessel.vesselCallsign} disabled/>\r\n                                    </FormGroup>\r\n\r\n                                    <FormGroup>\r\n                                        <Label className='job-detail-section-label'>Vessel Name</Label>\r\n                                        <Input type=\"text\" className='job-detail-section-input'\r\n                                               value={vessel.vesselName} disabled/>\r\n                                    </FormGroup>\r\n                                </Col>\r\n                            </Row>\r\n                            <Divider className='job-detail-section-divider'/>\r\n                            {this.renderJobTimeDetails()}\r\n                            <Row>\r\n                                <Col xs={12} sm={6}>\r\n                                    <div className='d-flex align-items-center job-detail-section-heading'>\r\n                                        <div className='job-detail-green-circle'><strong>3</strong></div>\r\n                                        <h1 className='job-detail-section-header'>Delivery Details</h1>\r\n                                    </div>\r\n                                    <FormRB.Group>\r\n                                        <FormRB.Label className='job-detail-section-label'>Items to\r\n                                            Deliver</FormRB.Label>\r\n                                        <FormRB.Control as=\"input\"\r\n                                                        value={jobItemText.join(', ')}\r\n                                                        onClick={(e) => {\r\n                                                            this.setState({ItemsDeliverAnchorEl: e.currentTarget})\r\n                                                        }}\r\n                                                        disabled={!this.state.jobEdit}\r\n                                                        className='job-detail-section-input margin-bottom-zero'>\r\n                                        </FormRB.Control>\r\n                                        <span className='job-detail-section-label-helper-text'><i>Do let us know if you have refrigeration,fragile,etc items in the remarks</i></span>\r\n                                        <Popover\r\n                                            open={openDeliver}\r\n                                            anchorEl={this.state.ItemsDeliverAnchorEl}\r\n                                            onClose={this.handleDeliverClose}\r\n                                            anchorOrigin={{\r\n                                                vertical: 'bottom',\r\n                                                horizontal: 'left',\r\n                                            }}\r\n                                            transformOrigin={{\r\n                                                vertical: 'top',\r\n                                                horizontal: 'left',\r\n                                            }}\r\n                                        >\r\n                                            <JobItemInput jobItems={jobItems} setItems={(jobItems) => {\r\n                                                const job = this.state.job;\r\n                                                if (currentCareOffParty !== null) {\r\n                                                    currentCareOffParty.jobItems = jobItems;\r\n                                                } else {\r\n                                                    job.jobItems = jobItems;\r\n                                                }\r\n                                                this.setState({job});\r\n                                            }} disabled={!this.state.jobEdit}\r\n                                                          type={'delivery'}/>\r\n\r\n                                        </Popover>\r\n                                    </FormRB.Group>\r\n\r\n                                    <FormRB.Group>\r\n                                        <FormRB.Label className='job-detail-section-label'>Items to\r\n                                            Offland</FormRB.Label>\r\n                                        <FormRB.Control as=\"input\"\r\n                                                        value={jobOfflandItemsText.join(', ')}\r\n                                                        onClick={(e) => {\r\n                                                            this.setState({ItemsOfflandAnchorEl: e.currentTarget})\r\n                                                        }}\r\n                                                        disabled={!this.state.jobEdit}\r\n                                                        className='job-detail-section-input'>\r\n                                        </FormRB.Control>\r\n                                        <Popover\r\n                                            open={openOffland}\r\n                                            anchorEl={this.state.ItemsOfflandAnchorEl}\r\n                                            onClose={this.handleOfflandClose}\r\n                                            anchorOrigin={{\r\n                                                vertical: 'bottom',\r\n                                                horizontal: 'left',\r\n                                            }}\r\n                                            transformOrigin={{\r\n                                                vertical: 'top',\r\n                                                horizontal: 'left',\r\n                                            }}\r\n                                        >\r\n                                            <JobItemInput jobItems={jobOfflandItems}\r\n                                                          setItems={(jobOfflandItems) => {\r\n                                                              const job = this.state.job;\r\n                                                              if (currentCareOffParty !== null) {\r\n                                                                  currentCareOffParty.jobOfflandItems = jobOfflandItems;\r\n                                                              } else {\r\n                                                                  job.jobOfflandItems = jobOfflandItems;\r\n                                                              }\r\n                                                              this.setState({job});\r\n                                                          }} disabled={!this.state.jobEdit}/>\r\n\r\n                                        </Popover>\r\n                                    </FormRB.Group>\r\n\r\n                                    {/*<FormGroup>*/}\r\n                                    {/*    <Label><strong>Care-off Parties (If any)</strong></Label>*/}\r\n                                    {/*    <CareOffTableInput items={careOffParties} setItems={(careOffParties) => {*/}\r\n                                    {/*        const job = this.state.job;*/}\r\n                                    {/*        job.careOffParties = careOffParties;*/}\r\n                                    {/*        this.setState({job});*/}\r\n                                    {/*    }} disabled={!this.state.jobEdit} />*/}\r\n                                    {/*</FormGroup>*/}\r\n\r\n                                    <FormGroup>\r\n                                        <Label className='job-detail-section-label'>Remarks</Label>\r\n                                        <Input type=\"textarea\" value={remarks} rows=\"7\"\r\n                                               className='job-detail-section-input margin-bottom-zero'\r\n                                               onChange={this.handleRemarksChange} disabled={!this.state.jobEdit}/>\r\n                                        <span className='job-create-section-label-helper-text'><i>* Please let us know if you require any pick up and pick up location.</i></span>\r\n                                    </FormGroup>\r\n                                    {/*Implement help apply for DSA*/}\r\n                                    <FormControlLabel\r\n                                        value=\"dsa\"\r\n                                        control={<Checkbox color=\"default\" checked={createDSA}\r\n                                                           className='create-dsa-checkbox'/>}\r\n                                        label={renderText()}\r\n                                        onChange={this.handleCreateDSAChange}\r\n                                        disabled={!this.state.jobEdit}\r\n                                    />\r\n\r\n                                    {\r\n                                        this.state.jobEdit\r\n                                            ? <FormGroup className=\"text-center\">\r\n                                                <Button onClick={this.onSubmit}\r\n                                                        variant='success' className='job-details-save-button'>Save\r\n                                                    Changes</Button>\r\n                                                <Button onClick={(e) => this.setState({\r\n                                                    jobEdit: false,\r\n                                                    job: this.state.jobPrevState\r\n                                                })}\r\n                                                        variant='outline-success'\r\n                                                        className='job-details-cancel-button'>Cancel</Button>\r\n                                            </FormGroup>\r\n                                            : (this.state.job.jobTrackers.length > 1 && this.state.job.isCancelled !== \"Confirmed\") || this.props.auth.userType === \"Admin\"\r\n                                            ? <FormGroup className=\"text-center\">\r\n                                                <Button onClick={(e) =>\r\n                                                    this.setState({\r\n                                                        jobEdit: true,\r\n                                                        jobPrevState: JSON.parse(JSON.stringify(this.props.job))\r\n                                                    })}\r\n                                                        variant='success'\r\n                                                        className='job-details-update-button'>Edit</Button>\r\n                                            </FormGroup>\r\n                                            : \"\"\r\n                                    }\r\n                                </Col>\r\n                            </Row>\r\n                        </Container>\r\n                    </Form>\r\n                </Paper>\r\n\r\n                <InformationModal\r\n                    modal={this.state.jobUpdatedModal}\r\n                    toggle={(e) => this.setState({jobUpdatedModal: !this.state.jobUpdatedModal})}\r\n                    title=\"Job Changes saved.\"\r\n                    onClosed={(e) => this.setState({jobUpdatedModal: false})}\r\n                >\r\n                    <p>Your changes to the job details has been successfully saved.</p>\r\n                </InformationModal>\r\n\r\n                <AffirmationModal\r\n                    modal={this.state.showJobUpdateModal}\r\n                    toggle={(e) => this.setState({showJobUpdateModal: !this.state.showJobUpdateModal})}\r\n                    title=\"Save Changes?\"\r\n                    affirmativeAction={(e) => {\r\n                        this.setState({\r\n                            showJobUpdateModal: !this.state.showJobUpdateModal,\r\n                            jobEdit: !this.state.jobEdit\r\n                        });\r\n                        this.saveJobDetails();\r\n                    }}\r\n                    affirmativeText={'Yes'}\r\n                    cancelText={'No'}\r\n                >\r\n                    <p>Do you want to save changes? A notification will be sent to all parties involved.</p>\r\n                </AffirmationModal>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nconst mapStateToProps = ({auth}) => {\r\n    return {auth};\r\n};\r\n\r\nexport default withRouter(connect(mapStateToProps)(JobDetailsCard));","import React, { Component } from \"react\";\r\n\r\nclass FileDropzone extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.fileInputRef = React.createRef();\r\n  }\r\n\r\n  state = {\r\n    highlight: false\r\n  };\r\n\r\n  openFileDialog = () => {\r\n    if (this.props.disabled) return;\r\n    this.fileInputRef.current.click();\r\n  };\r\n\r\n  fileListToArray = list => {\r\n    const array = [];\r\n    for (let i = 0; i < list.length; i++) {\r\n      array.push(list.item(i));\r\n    }\r\n    return array;\r\n  };\r\n\r\n  onFilesAdded = evt => {\r\n    if (this.props.disabled) return;\r\n    const files = evt.target.files;\r\n    if (this.props.onFilesAdded) {\r\n      const array = this.fileListToArray(files);\r\n      this.props.onFilesAdded(array);\r\n    }\r\n  };\r\n\r\n  onDragOver = evt => {\r\n    evt.preventDefault();\r\n\r\n    if (this.props.disabled) return;\r\n    this.setState({ highlight: true });\r\n  };\r\n\r\n  onDragLeave = () => {\r\n    this.setState({ highlight: false });\r\n  };\r\n\r\n  onDrop = e => {\r\n    e.preventDefault();\r\n\r\n    if (this.props.disabled) return;\r\n\r\n    const files = e.dataTransfer.files;\r\n    if (this.props.onFilesAdded) {\r\n      const array = this.fileListToArray(files);\r\n      this.props.onFilesAdded(array);\r\n    }\r\n    this.setState({ highlight: false });\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <div\r\n        className={`job-file-upload-dropzone ${\r\n          this.state.highlight ? \"job-file-upload-highlight\" : \"\"\r\n        }`}\r\n        onDragOver={this.onDragOver}\r\n        onDragLeave={this.onDragLeave}\r\n        onDrop={this.onDrop}\r\n        onClick={this.openFileDialog}\r\n        style={{ cursor: this.props.disabled ? \"default\" : \"pointer\" }}\r\n      >\r\n        <img\r\n          alt=\"upload\"\r\n          className=\"job-file-upload-icon\"\r\n          src=\"./images/assets/job/baseline-cloud_upload-24px.svg\"\r\n        />\r\n        <input\r\n          ref={this.fileInputRef}\r\n          className=\"job-file-upload-fileInput\"\r\n          type=\"file\"\r\n          multiple\r\n          onChange={this.onFilesAdded}\r\n        />\r\n        <span style={{ color: \"#686868\" }}>\r\n          <strong>\r\n            Drop file here to attach or{\" \"}\r\n            <span style={{ textDecoration: \"underline\" }}>browse</span>\r\n          </strong>\r\n        </span>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default FileDropzone;\r\n","import React, { Component } from \"react\";\r\n\r\nimport FileDropzone from \"./FileDropzone\";\r\nimport { FaFileDownload } from \"react-icons/fa\";\r\nimport ButtonGroup from \"@material-ui/core/ButtonGroup\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport EditIcon from \"@material-ui/core/SvgIcon/SvgIcon\";\r\n\r\nclass FileUpload extends Component {\r\n  state = {\r\n    uploading: false,\r\n    hover: false\r\n  };\r\n\r\n  handleOnMouseEnter = () => {\r\n    this.setState({ hover: true });\r\n  };\r\n\r\n  handleOnMouseOut = () => {\r\n    this.setState({ hover: false });\r\n  };\r\n\r\n  renderUploadDisplay = () => {\r\n    return (\r\n      <div\r\n        className=\"job-file-upload-files-upload-section\"\r\n        style={{ marginBottom: 10 }}\r\n      >\r\n        <div className=\"job-file-upload-files-content\">\r\n          {this.props.file === null ? (\r\n            <FileDropzone\r\n              onFilesAdded={this.props.onFilesAdded}\r\n              disabled={false}\r\n            />\r\n          ) : (\r\n            <div\r\n              onMouseEnter={this.handleOnMouseEnter}\r\n              onMouseLeave={this.handleOnMouseOut}\r\n              style={{ width: \"20%\" }}\r\n            >\r\n              <div\r\n                className=\"d-flex flex-column align-items-center file-icon-background justify-content-center\"\r\n                style={{ height: \"140px\", padding: 8 }}\r\n              >\r\n                <FaFileDownload className=\"job-details-file-icon\" />\r\n                <p className=\"text-center\">{this.props.file.name}</p>\r\n              </div>\r\n            </div>\r\n          )}\r\n        </div>\r\n      </div>\r\n    );\r\n  };\r\n\r\n  render() {\r\n    return <div>{this.renderUploadDisplay()}</div>;\r\n  }\r\n}\r\n\r\nexport default FileUpload;\r\n","import React, { Component } from \"react\";\r\nimport { FaFileDownload } from \"react-icons/fa\";\r\nimport CloseIcon from \"@material-ui/icons/Close\";\r\nimport EditIcon from \"@material-ui/icons/Edit\";\r\nimport ButtonGroup from \"@material-ui/core/ButtonGroup\";\r\nimport Button from \"@material-ui/core/Button\";\r\n\r\nclass FileDisplay extends Component {\r\n  state = {\r\n    hover: false,\r\n    edit: false\r\n  };\r\n\r\n  handleOnMouseEnter = () => {\r\n    this.setState({ hover: true });\r\n  };\r\n\r\n  handleOnMouseOut = () => {\r\n    this.setState({ hover: false });\r\n  };\r\n\r\n  handleEdit = () => {\r\n    this.setState({ edit: true });\r\n  };\r\n\r\n  onKeyDown = e => {\r\n    if (e.keyCode === 13) {\r\n      this.setState({ edit: false });\r\n    }\r\n  };\r\n\r\n  render() {\r\n    const { jobFile } = this.props;\r\n\r\n    return (\r\n      <div\r\n        onMouseEnter={this.handleOnMouseEnter}\r\n        onMouseLeave={this.handleOnMouseOut}\r\n        style={{ width: \"20%\" }}\r\n      >\r\n        {!this.state.hover ? (\r\n          <div className=\"d-flex flex-column align-items-center file-icon-background justify-content-center\">\r\n            <a href={jobFile.fileURL}>\r\n              <FaFileDownload className=\"job-details-file-icon\" />\r\n            </a>\r\n            {this.state.edit ? (\r\n              <input\r\n                onChange={e => this.props.handleDocumentTitleChange(e, jobFile)}\r\n                onKeyDown={this.onKeyDown}\r\n              />\r\n            ) : (\r\n              <p>{jobFile.filename}</p>\r\n            )}\r\n          </div>\r\n        ) : (\r\n          <div className=\"d-flex flex-column align-items-center file-icon-background\">\r\n            <a href={jobFile.fileURL}>\r\n              <FaFileDownload className=\"job-details-file-icon\" />\r\n            </a>\r\n            {this.state.edit ? (\r\n              <input\r\n                onChange={e => this.props.handleDocumentTitleChange(e, jobFile)}\r\n                onKeyDown={this.onKeyDown}\r\n              />\r\n            ) : (\r\n              <p>{jobFile.filename}</p>\r\n            )}\r\n            <ButtonGroup>\r\n              <Button onClick={this.handleEdit} style={{ border: \"none\" }}>\r\n                <EditIcon />\r\n              </Button>\r\n              <Button\r\n                onClick={() => this.props.handleSingleDelete(jobFile)}\r\n                style={{ border: \"none\" }}\r\n              >\r\n                <CloseIcon />\r\n              </Button>\r\n            </ButtonGroup>\r\n          </div>\r\n        )}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default FileDisplay;\r\n","import React, {Component} from 'react';\r\nimport axios from 'axios';\r\n\r\nimport Radio from '@material-ui/core/Radio';\r\nimport RadioButtonUncheckedIcon from '@material-ui/icons/RadioButtonUnchecked';\r\nimport RadioButtonCheckedIcon from '@material-ui/icons/RadioButtonChecked';\r\nimport RadioGroup from '@material-ui/core/RadioGroup';\r\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\r\nimport FormControl from '@material-ui/core/FormControl';\r\nimport FormLabel from '@material-ui/core/FormLabel';\r\n\r\nimport Form from 'react-bootstrap/Form';\r\nimport Button from 'react-bootstrap/Button'\r\nimport FileUpload from \"./FileUpload\";\r\nimport FileDisplay from \"./FileDisplay\";\r\n\r\nimport './FileUploadSection.css';\r\nimport Col from \"react-bootstrap/Col\";\r\nimport {withRouter} from \"react-router-dom\";\r\nimport {connect} from \"react-redux\";\r\nimport {FormText} from \"reactstrap\";\r\n\r\nclass FileUploadSection extends Component {\r\n\r\n    state = {\r\n        requirements: {needPrintCopy: 'yes', signAndReturn: 'yes'},\r\n        remarks: '',\r\n        filename: '',\r\n        numCopies: 1,\r\n        documentType: 'Choose from Computer',\r\n        file: null,\r\n    };\r\n\r\n    componentDidMount() {\r\n        const jobFile = this.props.jobFile;\r\n        const req = this.state.requirements;\r\n        if (this.retrieveRequirement(this.props.jobFile, 'needPrintCopy').check) {\r\n            req.needPrintCopy = \"yes\";\r\n        } else {\r\n            req.needPrintCopy = \"no\";\r\n        }\r\n        if (this.retrieveRequirement(this.props.jobFile, 'signAndReturn').check) {\r\n            req.signAndReturn = \"yes\";\r\n        } else {\r\n            req.signAndReturn = \"no\";\r\n        }\r\n        this.setState({\r\n            remarks: jobFile.remarks,\r\n            filename: jobFile.filename,\r\n            numCopies: jobFile.numCopies,\r\n            requirements: req,\r\n        });\r\n\r\n    }\r\n\r\n    retrieveRequirement = (jobFile, key) => {\r\n        const {requirements} = jobFile;\r\n        for (let i = 0; i < requirements.length; i++) {\r\n            const requirement = requirements[i];\r\n            if (requirement.key === key) {\r\n                return requirement;\r\n            }\r\n        }\r\n\r\n        const fullRequirements = this.loadRequirements();\r\n        for (let i = 0; i < fullRequirements.length; i++) {\r\n            const requirement = fullRequirements[i];\r\n            if (requirement.key === key) {\r\n                const jobFileRequirements = jobFile.requirements;\r\n                jobFileRequirements.push(requirement);\r\n                jobFile.requirements = jobFileRequirements;\r\n                return requirement;\r\n            }\r\n        }\r\n    };\r\n\r\n    updateRequirement = (jobFile, key, boolean) => {\r\n        const newRequirements = [];\r\n        for (let i = 0; i < jobFile.requirements.length; i++) {\r\n            const requirement = jobFile.requirements[i];\r\n            if (requirement.key === key) {\r\n                requirement.check = boolean;\r\n            }\r\n            newRequirements.push(requirement);\r\n        }\r\n        jobFile.requirements = newRequirements;\r\n    };\r\n\r\n    handlePrintCopyChange = (e) => {\r\n        this.setState({\r\n            requirements: {\r\n                needPrintCopy: e.target.value,\r\n                signAndReturn: this.state.requirements.signAndReturn\r\n            }\r\n        });\r\n    };\r\n\r\n    handleSignAndReturnChange = (e) => {\r\n        this.setState({\r\n            requirements: {\r\n                needPrintCopy: this.state.requirements.needPrintCopy,\r\n                signAndReturn: e.target.value\r\n            }\r\n        });\r\n    };\r\n\r\n    handleDocumentTitleChange = (e, jobFile) => {\r\n        jobFile.filename = e.target.value;\r\n        this.setState({filename: e.target.value});\r\n    };\r\n\r\n    handleUploadType = (e) => {\r\n        this.setState({documentType: e.target.value});\r\n    };\r\n\r\n    handleNumberOfCopiesChange = (e) => {\r\n        this.setState({numCopies: e.target.value});\r\n    };\r\n\r\n    handleRemarksChange = (e) => {\r\n        this.setState({remarks: e.target.value});\r\n    };\r\n\r\n    handleAddDocument = () => {\r\n        if(this.state.requirements.needPrintCopy === 'yes'){\r\n            const jobFile = this.props.jobFile;\r\n            jobFile.filename = this.state.filename;\r\n\r\n            if (this.state.requirements.needPrintCopy === 'yes') {\r\n                this.updateRequirement(jobFile, \"needPrintCopy\", true);\r\n            } else {\r\n                this.updateRequirement(jobFile, \"needPrintCopy\", false);\r\n            }\r\n\r\n            if (this.state.requirements.signAndReturn === 'yes') {\r\n                this.updateRequirement(jobFile, \"signAndReturn\", true);\r\n            } else {\r\n                this.updateRequirement(jobFile, \"signAndReturn\", false);\r\n            }\r\n\r\n            if (this.state.remarks === '') {\r\n                jobFile.remarks = 'NIL'\r\n            } else {\r\n                jobFile.remarks = this.state.remarks\r\n            }\r\n\r\n            jobFile.numCopies = this.state.numCopies;\r\n\r\n            const formData = new FormData();\r\n            formData.append(\"file\", this.state.file);\r\n            formData.append(\"jobFile\", JSON.stringify(jobFile));\r\n            formData.append(\"jobID\", this.props.job._id);\r\n            axios.post('/api/job_files/upload_document', formData, {\r\n                headers: {\r\n                    'Content-Type': 'multipart/form-data'\r\n                }\r\n            }).catch((err) => {\r\n                console.log(err);\r\n            }).finally(() => {\r\n                window.location.reload();\r\n            });\r\n        } else{\r\n\r\n            if (this.state.filename === '') {\r\n                alert(\"Document name cannot be empty\");\r\n                return;\r\n            }\r\n\r\n            const jobFile = this.props.jobFile;\r\n            jobFile.filename = this.state.filename;\r\n\r\n            if (this.state.requirements.needPrintCopy === 'yes') {\r\n                this.updateRequirement(jobFile, \"needPrintCopy\", true);\r\n            } else {\r\n                this.updateRequirement(jobFile, \"needPrintCopy\", false);\r\n            }\r\n\r\n            if (this.state.requirements.signAndReturn === 'yes') {\r\n                this.updateRequirement(jobFile, \"signAndReturn\", true);\r\n            } else {\r\n                this.updateRequirement(jobFile, \"signAndReturn\", false);\r\n            }\r\n\r\n            if (this.state.remarks === '') {\r\n                jobFile.remarks = 'NIL'\r\n            } else {\r\n                jobFile.remarks = this.state.remarks\r\n            }\r\n\r\n            jobFile.numCopies = this.state.numCopies;\r\n\r\n            axios.post('/api/job_files/',{\r\n                ...jobFile,\r\n                jobID:this.props.job._id,\r\n            }).catch((err) => {\r\n                console.log(err);\r\n            }).finally(() => {\r\n                window.location.reload();\r\n            });\r\n\r\n        }\r\n    };\r\n\r\n    handleEditDocument = () => {\r\n        if (this.state.filename === '') {\r\n            alert(\"File name cannot be empty\");\r\n            return;\r\n        }\r\n\r\n        const jobFile = this.props.jobFile;\r\n        jobFile.filename = this.state.filename;\r\n\r\n        if (this.state.requirements.needPrintCopy === 'yes') {\r\n            this.updateRequirement(jobFile, \"needPrintCopy\", true);\r\n        } else {\r\n            this.updateRequirement(jobFile, \"needPrintCopy\", false);\r\n        }\r\n\r\n        if (this.state.requirements.signAndReturn === 'yes') {\r\n            this.updateRequirement(jobFile, \"signAndReturn\", true);\r\n        } else {\r\n            this.updateRequirement(jobFile, \"signAndReturn\", false);\r\n        }\r\n\r\n        if (this.state.remarks === '') {\r\n            jobFile.remarks = 'NIL'\r\n        } else {\r\n            jobFile.remarks = this.state.remarks\r\n        }\r\n\r\n        jobFile.numCopies = this.state.numCopies;\r\n\r\n        this.props.successClose();\r\n    };\r\n\r\n    renderUpload() {\r\n        if (this.props.jobFile.fileURL !== \"\") {\r\n            return (\r\n                <FileDisplay jobFile={this.props.jobFile} handleSingleDelete={this.props.handleSingleDelete}\r\n                             handleDocumentTitleChange={this.handleDocumentTitleChange}/>\r\n            );\r\n        } else {\r\n            switch (this.state.documentType) {\r\n                case \"Choose from Computer\":\r\n                    return (<FileUpload\r\n                        job={this.props.job}\r\n                        onFilesAdded={(files) => {\r\n                            this.setState({file: files[0]});\r\n                        }}\r\n                        file={this.state.file}\r\n                    />);\r\n                default:\r\n                    return '';\r\n            }\r\n        }\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <Form>\r\n                <FormControl>\r\n                    <FormLabel className='job-file-upload-label'>Do you want us to print copy/copies and bring it to the\r\n                        vessel?</FormLabel>\r\n                    <RadioGroup\r\n                        value={this.state.requirements.needPrintCopy}\r\n                        onChange={this.handlePrintCopyChange}\r\n                        row\r\n                    >\r\n                        <FormControlLabel value=\"yes\" control={<Radio color=\"default\" icon={<RadioButtonUncheckedIcon\r\n                            fontSize=\"small\"/>} checkedIcon={<RadioButtonCheckedIcon fontSize=\"small\"\r\n                                                                                     className='green-radio'/>}/>}\r\n                                          label=\"Yes\"/>\r\n                        <FormControlLabel value=\"no\" control={<Radio color=\"default\"\r\n                                                                     icon={<RadioButtonUncheckedIcon fontSize=\"small\"/>}\r\n                                                                     checkedIcon={<RadioButtonCheckedIcon\r\n                                                                         fontSize=\"small\" className='green-radio'/>}/>}\r\n                                          label=\"No\"/>\r\n                    </RadioGroup>\r\n                </FormControl>\r\n                <br/>\r\n                <FormControl>\r\n                    <FormLabel className='job-file-upload-label'>Do you need the document to be signed and\r\n                        return?</FormLabel>\r\n                    <RadioGroup\r\n                        value={this.state.requirements.signAndReturn}\r\n                        onChange={this.handleSignAndReturnChange}\r\n                        row\r\n                    >\r\n                        <FormControlLabel value=\"yes\" control={<Radio color=\"default\" icon={<RadioButtonUncheckedIcon\r\n                            fontSize=\"small\"/>} checkedIcon={<RadioButtonCheckedIcon fontSize=\"small\"\r\n                                                                                     className='green-radio'/>}/>}\r\n                                          label=\"Yes\"/>\r\n                        <FormControlLabel value=\"no\" control={<Radio color=\"default\"\r\n                                                                     icon={<RadioButtonUncheckedIcon fontSize=\"small\"/>}\r\n                                                                     checkedIcon={<RadioButtonCheckedIcon\r\n                                                                         fontSize=\"small\" className='green-radio'/>}/>}\r\n                                          label=\"No\"/>\r\n                    </RadioGroup>\r\n                </FormControl>\r\n\r\n                {this.state.requirements.needPrintCopy === 'yes' ?\r\n                    <div>\r\n\r\n                        <Form.Group className='d-flex flex-column'>\r\n                            <div className='d-flex align-items-center'>\r\n                            <Form.Label className='job-file-upload-label'>Attachment</Form.Label>\r\n                            <Form.Control as=\"select\" onChange={this.handleUploadType}\r\n                                          className='job-file-upload-attach-input'>\r\n                                <option>Choose from Computer</option>\r\n                                {/*<option>Google Drive</option>*/}\r\n                                {/*<option>DropBox</option>*/}\r\n                            </Form.Control>\r\n                            </div>\r\n                            <Form.Label className='job-detail-section-label-helper-text' style={{marginTop: 5}}>*Please ensure the documents uploaded are clear</Form.Label>\r\n                        </Form.Group>\r\n\r\n                        {this.renderUpload()}\r\n\r\n                    </div> :\r\n                    <Col xs={12} sm={6} className='col-no-padding'>\r\n                        <Form.Group className='d-flex flex-column'>\r\n                            <Form.Label className='job-file-upload-label' style={{marginBottom:0}}>Document Name</Form.Label>\r\n                            <Form.Label className='job-detail-section-label-helper-text' style={{marginTop: 5}}>*Please ensure the documents printed are clear</Form.Label>\r\n                            <Form.Control as=\"input\" placeholder='Enter Document Name'\r\n                                          type='text'\r\n                                          onChange={(e)=>this.handleDocumentTitleChange(e, this.props.jobFile)} value={this.state.filename}\r\n                                          className='job-file-upload-remarks-input'>\r\n                            </Form.Control>\r\n                        </Form.Group>\r\n                    </Col>\r\n                }\r\n\r\n                <Form.Group>\r\n                    <Form.Label className='job-file-upload-label'>Number of Copies</Form.Label>\r\n                    <Col xs={4} sm={2} className='col-no-padding'>\r\n                        <Form.Control as=\"input\" type='number' min=\"0\" onChange={this.handleNumberOfCopiesChange}\r\n                                      value={this.state.numCopies}\r\n                                      className='job-file-upload-numcopies-input'>\r\n                        </Form.Control>\r\n                    </Col>\r\n                </Form.Group>\r\n\r\n                <Col xs={12} sm={6} className='col-no-padding'>\r\n                    <Form.Group>\r\n                        <Form.Label className='job-file-upload-label'>Remarks (Optional)</Form.Label>\r\n                        <Form.Control as=\"textarea\" rows=\"4\" placeholder='Write any additional instructions '\r\n                                      type='text'\r\n                                      onChange={this.handleRemarksChange} value={this.state.remarks}\r\n                                      className='job-file-upload-remarks-input'>\r\n                        </Form.Control>\r\n                    </Form.Group>\r\n                </Col>\r\n                <div className='d-flex align-items-center justify-content-center' style={{marginTop: '20px'}}>\r\n                    <Button variant='outline-success' className='job-file-upload-cancel-btn'\r\n                            onClick={(e) => this.props.handleCancel(this.props.type)}>Cancel</Button>\r\n                    {this.props.type === 'upload' ?\r\n                        <Button variant='success' className='job-file-upload-submit-btn'\r\n                                onClick={this.handleAddDocument}>Submit</Button>\r\n                        : <Button variant='success' className='job-file-upload-submit-btn'\r\n                                  onClick={this.handleEditDocument}>Update</Button>}\r\n                </div>\r\n            </Form>\r\n        );\r\n    }\r\n\r\n}\r\n\r\nconst mapStateToProps = ({auth}) => {\r\n    return {auth};\r\n};\r\n\r\nexport default withRouter(connect(mapStateToProps)(FileUploadSection));\r\n","import React, { Fragment } from \"react\";\r\nimport { faDownload } from \"@fortawesome/free-solid-svg-icons\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport axios from \"axios\";\r\n\r\nconst FileDownloader = ({ files, children }) => {\r\n  const downloadSelectedFiles = e => {\r\n    e.stopPropagation();\r\n    if (files.length > 0) {\r\n      axios\r\n        .post(\r\n          `/api/job_files/files/download`,\r\n          {\r\n            jobFileUrls: files\r\n          },\r\n          { responseType: \"arraybuffer\" }\r\n        )\r\n        .then(res => {\r\n          let blob = new Blob([res.data], {\r\n            type: \"application/zip\"\r\n          });\r\n\r\n          const downloadUrl = URL.createObjectURL(blob);\r\n          let a = document.createElement(\"a\");\r\n          a.href = downloadUrl;\r\n          a.download = \"document.zip\";\r\n          document.body.appendChild(a);\r\n          a.click();\r\n          a.remove();\r\n        })\r\n        .catch(err => {\r\n          console.log(err.error);\r\n        });\r\n    } else if (Object.keys(files).length > 0) {\r\n      window.open(files.fileURL, \"_blank\");\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Fragment>\r\n      {(files.length > 0 || Object.keys(files).length > 0) && (\r\n        <span\r\n          className=\"file-downloader-container\"\r\n          onClick={e => downloadSelectedFiles(e)}\r\n        >\r\n          <FontAwesomeIcon icon={faDownload} /> {children}\r\n        </span>\r\n      )}\r\n    </Fragment>\r\n  );\r\n};\r\n\r\nexport default FileDownloader;\r\n","import React, { Fragment, useState } from \"react\";\r\nimport Modal from \"react-bootstrap/Modal\";\r\nimport ModalBody from \"react-bootstrap/ModalBody\";\r\nimport FileDownloader from \"./FileDownloader\";\r\n\r\n// import { Document, Page } from \"react-pdf\";\r\nimport \"./JobFileModal.css\";\r\n\r\n// import { pdfjs } from \"react-pdf\";\r\n// pdfjs.GlobalWorkerOptions.workerSrc = `//cdnjs.cloudflare.com/ajax/libs/pdf.js/${pdfjs.version}/pdf.worker.js`;\r\n\r\nconst JobFileModal = ({ file, showPreviewModal, setModalFlag }) => {\r\n  const fileUrlArray = file.fileURL.split(\".\");\r\n  const imageFileTypes = [\"jpeg.\", \"jpg\", \"png\", \"svg\", \"gif\"];\r\n  const docFileTypes = [\"docx\", \"doc\", \"xlsx\", \"pdf\"];\r\n  let fileType = \"\";\r\n  // if (fileUrlArray[fileUrlArray.length - 1] === \"pdf\") {\r\n  //     fileType = fileUrlArray[fileUrlArray.length - 1];\r\n  // }\r\n\r\n  if (\r\n    imageFileTypes.includes(fileUrlArray[fileUrlArray.length - 1].toLowerCase())\r\n  ) {\r\n    fileType = \"image\";\r\n  }\r\n\r\n  if (\r\n    docFileTypes.includes(fileUrlArray[fileUrlArray.length - 1].toLowerCase())\r\n  ) {\r\n    fileType = \"doc\";\r\n  }\r\n\r\n  let [pageTotal, setPageTotal] = useState(0);\r\n  const onDocumentLoadSuccess = ({ numPages }) => {\r\n    setPageTotal(numPages);\r\n  };\r\n\r\n  let [activePage, setActivePage] = useState(1);\r\n\r\n  const goToNextPage = e => {\r\n    if (activePage < pageTotal) setActivePage(++activePage);\r\n  };\r\n\r\n  const goToPreviousPage = e => {\r\n    if (activePage > 0) setActivePage(--activePage);\r\n  };\r\n\r\n  return (\r\n    <Fragment>\r\n      <Modal\r\n        show={showPreviewModal}\r\n        onHide={() => setModalFlag(false)}\r\n        dialogClassName=\"modal-90w file-preview-modal\"\r\n      >\r\n        <ModalBody>\r\n          <div>\r\n            <div\r\n              className=\"back-icon-container d-flex align-items-center\"\r\n              onClick={() => setModalFlag(false)}\r\n            >\r\n              <i className=\"material-icons\">arrow_back</i> {file.filename}\r\n            </div>\r\n            <div className=\"download-icon-container\">\r\n              <FileDownloader files={file}>Download</FileDownloader>\r\n            </div>\r\n            <div className=\"clearfix\" />\r\n          </div>\r\n          <div className=\"preview-container\">\r\n            {/* {fileType === \"pdf\" && (\r\n                            <Fragment>\r\n                                <Document\r\n                                    file={file.fileURL}\r\n                                    noData={<h4>Preview not Available</h4>}\r\n                                    onLoadSuccess={onDocumentLoadSuccess}\r\n                                >\r\n                                    {pageTotal && (\r\n                                        <Page pageNumber={activePage} />\r\n                                    )}\r\n                                </Document>\r\n                                <div className=\"preview-pagination-container\">\r\n                                    {activePage > 1 && (\r\n                                        <i\r\n                                            className=\"material-icons\"\r\n                                            onClick={() => goToPreviousPage()}\r\n                                        >\r\n                                            arrow_back_ios\r\n                                        </i>\r\n                                    )}\r\n                                    {`${activePage} of ${pageTotal}`}\r\n                                    {activePage < pageTotal && (\r\n                                        <i\r\n                                            className=\"material-icons\"\r\n                                            onClick={() => goToNextPage()}\r\n                                        >\r\n                                            arrow_forward_ios\r\n                                        </i>\r\n                                    )}\r\n                                </div>\r\n                            </Fragment>\r\n                        )} */}\r\n\r\n            {fileType === \"image\" && (\r\n              <img src={file.fileURL} alt={file.filename} />\r\n            )}\r\n\r\n            {fileType === \"doc\" && (\r\n              <iframe\r\n                title=\"document preview\"\r\n                className=\"document-container\"\r\n                src={`https://docs.google.com/viewer?url=${file.fileURL}&embedded=true`}\r\n              ></iframe>\r\n            )}\r\n\r\n            {fileType === \"\" && <h5>Preview not available</h5>}\r\n          </div>\r\n        </ModalBody>\r\n      </Modal>\r\n    </Fragment>\r\n  );\r\n};\r\n\r\nexport default JobFileModal;\r\n","import React from 'react';\r\nimport MaterialTable, {MTableBodyRow, MTableHeader} from \"material-table\";\r\nimport Paper from \"@material-ui/core/Paper\";\r\nimport IconButton from \"@material-ui/core/IconButton\";\r\nimport CreateIcon from '@material-ui/icons/Create';\r\nimport MoreIcon from '@material-ui/icons/MoreVert'\r\nimport ClearIcon from '@material-ui/icons/Clear';\r\nimport Dropdown from \"react-bootstrap/Dropdown\";\r\nimport LinesEllipsis from 'react-lines-ellipsis';\r\nimport SaveIcon from '@material-ui/icons/SaveAlt';\r\nimport PrintIcon from '@material-ui/icons/Print';\r\n\r\n\r\nimport './JobFileSummaryTable.css'\r\nimport JobFileModal from \"./FilePreview/JobFileModal\";\r\n\r\nfunction createData(job, name, copies, requirement, remarks) {\r\n    return {job, name, copies, requirement, remarks};\r\n}\r\n\r\nfunction retrieveRequirement(jobFile, key) {\r\n    const {requirements} = jobFile;\r\n    for (let i = 0; i < requirements.length; i++) {\r\n        const requirement = requirements[i];\r\n        if (requirement.key === key) {\r\n            return requirement;\r\n        }\r\n    }\r\n\r\n    const fullRequirements = this.loadRequirements();\r\n    for (let i = 0; i < fullRequirements.length; i++) {\r\n        const requirement = fullRequirements[i];\r\n        if (requirement.key === key) {\r\n            const jobFileRequirements = jobFile.requirements;\r\n            jobFileRequirements.push(requirement);\r\n            jobFile.requirements = jobFileRequirements;\r\n            this.jobFileChange(jobFile);\r\n            return requirement;\r\n        }\r\n    }\r\n};\r\n\r\n\r\nclass JobFileSummaryTable extends React.Component {\r\n\r\n    state = {\r\n        data: [],\r\n        hover: false,\r\n        hoverKey: '',\r\n        showDropdown: false,\r\n        file:null,\r\n        showModal:false,\r\n    };\r\n\r\n    componentWillReceiveProps(nextProps, nextContext) {\r\n        if (nextProps.refresh === true) {\r\n            this.setState({data: [],});\r\n            const rows = this.props.jobFiles.reduce((a, jobFile) => {\r\n                let needPrintCopy = retrieveRequirement(jobFile, 'needPrintCopy').check;\r\n                let signAndReturn = retrieveRequirement(jobFile, 'signAndReturn').check;\r\n                let req = 'No Requirement';\r\n                if (needPrintCopy && !signAndReturn) {\r\n                    req = 'Need Printed Copy'\r\n                }\r\n                if (signAndReturn && !needPrintCopy) {\r\n                    req = 'Sign and Return'\r\n                }\r\n                if (signAndReturn && needPrintCopy) {\r\n                    req = \"Need Printed Copy & Sign and Return\"\r\n                }\r\n                a.push(createData(jobFile, jobFile.filename, jobFile.numCopies, req, jobFile.remarks));\r\n                return a\r\n            }, []);\r\n            this.setState({data: rows})\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n        const rows = this.props.jobFiles.reduce((a, jobFile) => {\r\n            let needPrintCopy = retrieveRequirement(jobFile, 'needPrintCopy').check;\r\n            let signAndReturn = retrieveRequirement(jobFile, 'signAndReturn').check;\r\n            let req = 'No Requirement';\r\n            if (needPrintCopy && !signAndReturn) {\r\n                req = 'Need Printed Copy'\r\n            }\r\n            if (signAndReturn && !needPrintCopy) {\r\n                req = 'Sign and Return'\r\n            }\r\n            if (signAndReturn && needPrintCopy) {\r\n                req = \"Need Printed Copy & Sign and Return\"\r\n            }\r\n            a.push(createData(jobFile, jobFile.filename, jobFile.numCopies, req, jobFile.remarks));\r\n            return a\r\n        }, []);\r\n        this.setState({data: rows})\r\n    }\r\n\r\n    handleRowClick = (e, rd) => {\r\n        if (rd.job.fileURL && rd.job.fileURL !== '') {\r\n            this.setState({showModal:true,file:rd.job})\r\n        }\r\n    };\r\n\r\n    toggleModal = (value) =>{\r\n        this.setState({showModal:value})\r\n    };\r\n\r\n    handleDropdown = () => {\r\n        this.setState({showDropdown: !this.state.showDropdown})\r\n    };\r\n\r\n    handleDownload = (job) => {\r\n        if (job.fileURL !== '') {\r\n            window.open(job.fileURL);\r\n        }\r\n    };\r\n\r\n    render() {\r\n\r\n        return (\r\n            <div>\r\n                <MaterialTable\r\n                    columns={[\r\n                        {\r\n                            title: \"Name\", field: \"name\",\r\n                            render: rowData => (\r\n                                <LinesEllipsis\r\n                                    text={rowData.name}\r\n                                    maxLine='2'\r\n                                    ellipsis='...'\r\n                                    trimRight\r\n                                    basedOn='letters'\r\n                                />\r\n                            ),\r\n                        },\r\n                        {\r\n                            title: \"Copies\", field: \"copies\",\r\n                            cellStyle: {width:\"50px\"}\r\n                        },\r\n                        {\r\n                            title: \"Requirements\", field: \"requirement\",\r\n                            disableClick: true,\r\n                            render: rowData => (\r\n                                <div className='d-flex align-items-center remarks-container'>\r\n                                    <LinesEllipsis\r\n                                        text={rowData.requirement}\r\n                                        maxLine='2'\r\n                                        ellipsis='...'\r\n                                        trimRight\r\n                                        basedOn='letters'\r\n                                    />\r\n                                    <div className='hover-buttons'>\r\n                                        <IconButton onClick={() => {\r\n                                            this.props.editFile(rowData.job);\r\n                                        }}>\r\n                                            <CreateIcon fontSize=\"small\"/>\r\n                                        </IconButton>\r\n                                        <IconButton onClick={() => {\r\n                                            this.props.deleteFile(rowData.job);\r\n                                        }}>\r\n                                            <ClearIcon fontSize=\"small\"/>\r\n                                        </IconButton>\r\n                                        {/*<IconButton onClick={this.handleDropdown}>*/}\r\n                                        {/*    <MoreIcon fontSize=\"small\"/>*/}\r\n                                        {/*</IconButton>*/}\r\n                                        {/*<Dropdown show={this.state.showDropdown} alignRight drop='down'>*/}\r\n                                        {/*    <Dropdown.Menu>*/}\r\n                                        {/*        <Dropdown.Item onClick={() => {*/}\r\n                                        {/*            this.handleDownload(rowData.job)*/}\r\n                                        {/*        }}>Download</Dropdown.Item>*/}\r\n                                        {/*        /!*<Dropdown.Item>Rename</Dropdown.Item>*!/*/}\r\n                                        {/*    </Dropdown.Menu>*/}\r\n                                        {/*</Dropdown>*/}\r\n                                    </div>\r\n                                </div>\r\n                            )\r\n                        },\r\n                    ]}\r\n                    data={this.state.data}\r\n                    components={{\r\n                        Container: props => (\r\n                            <Paper {...props} elevation={0} style={{marginTop: '20px', minHeight: '60vh'}}/>\r\n                        ),\r\n                        Row: props => (\r\n                            <MTableBodyRow {...props}\r\n                                           // onMouseEnter={() => {\r\n                                           //\r\n                                           //     this.setState({hover: true, hoverKey: props.data.tableData.id})\r\n                                           // }}\r\n                                           // onMouseLeave={() => {\r\n                                           //     this.setState({hover: false, hoverKey: '', showDropdown: false})\r\n                                           // }}\r\n                                           className='row-hover'\r\n                            />\r\n                        ),\r\n\r\n                    }}\r\n                    options={{\r\n                        sorting: true,\r\n                        selection: true,\r\n                        headerStyle: {fontFamily: 'Roboto', fontSize: '16px', fontWeight: 'bold', color: '#707070'},\r\n                        rowStyle: {fontFamily: 'Roboto', fontSize: '14px', color: '#707070', height: '69px',},\r\n                        toolbarButtonAlignment: 'left',\r\n                        showTextRowsSelected: false,\r\n\r\n                    }}\r\n                    onRowClick={this.handleRowClick}\r\n                    title=''\r\n                    actions={[\r\n                        // {\r\n                        //     tooltip: 'Download Selected Items',\r\n                        //     icon: SaveIcon,\r\n                        //     onClick: (evt, data) => alert('You want to download ' + data.length + ' rows'),\r\n                        // },\r\n                        {\r\n                            tooltip: 'Delete Selected Items',\r\n                            icon: ClearIcon,\r\n                            onClick: (evt, data) => this.props.deleteMultipleFiles(data),\r\n                        },\r\n                        // {\r\n                        //     tooltip: 'Print Selected Items',\r\n                        //     icon: PrintIcon,\r\n                        //     onClick: (evt, data) => alert('You want to Print ' + data.length + ' rows'),\r\n                        // }\r\n                    ]}\r\n                />\r\n                {this.state.data.length>0 && this.state.file !== null && (\r\n                    <JobFileModal\r\n                        file={this.state.file}\r\n                        setModalFlag={value =>\r\n                            this.toggleModal(value)\r\n                        }\r\n                        showPreviewModal={this.state.showModal}\r\n                    />\r\n                )}\r\n            </div>\r\n\r\n\r\n        );\r\n    }\r\n}\r\n\r\nexport default JobFileSummaryTable;","import React, { Component } from \"react\";\r\nimport { Drawer } from \"@material-ui/core\";\r\nimport List from \"@material-ui/core/List\";\r\nimport ListItem from \"@material-ui/core/ListItem\";\r\nimport ListItemText from \"@material-ui/core/ListItemText\";\r\nimport Divider from \"@material-ui/core/Divider\";\r\nimport Paper from \"@material-ui/core/Paper\";\r\n\r\nclass JobFileSummaryTableMobileSlider extends Component {\r\n  handleDownload = job => {\r\n    if (job.fileURL !== \"\") {\r\n      window.open(job.fileURL);\r\n    }\r\n  };\r\n  render() {\r\n    return (\r\n      <Drawer\r\n        anchor=\"bottom\"\r\n        open={this.props.open}\r\n        onClose={this.props.onClose}\r\n        PaperProps={{\r\n          className:\r\n            \"MuiPaper-root MuiPaper-elevation16 MuiDrawer-paper MuiDrawer-paperAnchorBottom drawer-job-file-mobile\"\r\n        }}\r\n      >\r\n        <h3 onClick={this.props.onClose} className=\"job-slide-cancel\">\r\n          Cancel\r\n        </h3>\r\n        <Divider className=\"job-file-slider-drawer-divider\" />\r\n        <Paper elevation={0} className=\"job-file-slider-drawer-paper\">\r\n          <List>\r\n            <ListItem\r\n              button\r\n              onClick={() => {\r\n                this.props.onClose();\r\n                this.props.editFile(this.props.jobFile);\r\n              }}\r\n            >\r\n              <ListItemText>Edit</ListItemText>\r\n            </ListItem>\r\n          </List>\r\n          <List>\r\n            <ListItem button>\r\n              <ListItemText>Rename</ListItemText>\r\n            </ListItem>\r\n          </List>\r\n          <List>\r\n            <ListItem button onClick={this.handleDownload}>\r\n              <ListItemText>Download</ListItemText>\r\n            </ListItem>\r\n          </List>\r\n          <List>\r\n            <ListItem\r\n              button\r\n              onClick={() => {\r\n                this.props.onClose();\r\n                this.props.deleteFile(this.props.jobFile);\r\n              }}\r\n            >\r\n              <ListItemText style={{ color: \"red\" }}>Delete</ListItemText>\r\n            </ListItem>\r\n          </List>\r\n        </Paper>\r\n      </Drawer>\r\n    );\r\n  }\r\n}\r\n\r\nexport default JobFileSummaryTableMobileSlider;\r\n","import React from \"react\";\r\nimport MaterialTable from \"material-table\";\r\nimport Paper from \"@material-ui/core/Paper\";\r\nimport IconButton from \"@material-ui/core/IconButton\";\r\nimport MoreIcon from \"@material-ui/icons/MoreHoriz\";\r\nimport DeleteIcon from \"@material-ui/icons/Delete\";\r\n\r\nimport \"./JobFileSummaryTableMobile.css\";\r\nimport JobFileSummaryTableMobileSlider from \"./JobFileSummaryTableMobileSlider\";\r\n\r\nfunction createData(job, name, copies, requirement, remarks) {\r\n  return { job, name, copies, requirement, remarks };\r\n}\r\n\r\nfunction retrieveRequirement(jobFile, key) {\r\n  const { requirements } = jobFile;\r\n  for (let i = 0; i < requirements.length; i++) {\r\n    const requirement = requirements[i];\r\n    if (requirement.key === key) {\r\n      return requirement;\r\n    }\r\n  }\r\n\r\n  const fullRequirements = this.loadRequirements();\r\n  for (let i = 0; i < fullRequirements.length; i++) {\r\n    const requirement = fullRequirements[i];\r\n    if (requirement.key === key) {\r\n      const jobFileRequirements = jobFile.requirements;\r\n      jobFileRequirements.push(requirement);\r\n      jobFile.requirements = jobFileRequirements;\r\n      this.jobFileChange(jobFile);\r\n      return requirement;\r\n    }\r\n  }\r\n}\r\n\r\nclass JobFileSummaryTableMobile extends React.Component {\r\n  state = {\r\n    data: [],\r\n    showSlider: false,\r\n    jobFileSelected: null\r\n  };\r\n\r\n  componentWillReceiveProps(nextProps, nextContext) {\r\n    if (nextProps.refresh === true) {\r\n      this.setState({ data: [] });\r\n      const rows = this.props.jobFiles.reduce((a, jobFile) => {\r\n        let needPrintCopy = retrieveRequirement(jobFile, \"needPrintCopy\").check;\r\n        let signAndReturn = retrieveRequirement(jobFile, \"signAndReturn\").check;\r\n        let req = \"No Requirement\";\r\n        if (needPrintCopy && !signAndReturn) {\r\n          req = \"Need Print Copy\";\r\n        }\r\n        if (signAndReturn && !needPrintCopy) {\r\n          req = \"Sign and Return\";\r\n        }\r\n        if (signAndReturn && needPrintCopy) {\r\n          req = \"Need Print Copy & Sign and Return\";\r\n        }\r\n        a.push(\r\n          createData(\r\n            jobFile,\r\n            jobFile.filename,\r\n            jobFile.numCopies,\r\n            req,\r\n            jobFile.remarks\r\n          )\r\n        );\r\n        return a;\r\n      }, []);\r\n      this.setState({ data: rows });\r\n    }\r\n  }\r\n\r\n  componentDidMount() {\r\n    const rows = this.props.jobFiles.reduce((a, jobFile) => {\r\n      let needPrintCopy = retrieveRequirement(jobFile, \"needPrintCopy\").check;\r\n      let signAndReturn = retrieveRequirement(jobFile, \"signAndReturn\").check;\r\n      let req = \"No Requirement\";\r\n      if (needPrintCopy && !signAndReturn) {\r\n        req = \"Need Print Copy\";\r\n      }\r\n      if (signAndReturn && !needPrintCopy) {\r\n        req = \"Sign and Return\";\r\n      }\r\n      if (signAndReturn && needPrintCopy) {\r\n        req = \"Need Print Copy & Sign and Return\";\r\n      }\r\n      a.push(\r\n        createData(\r\n          jobFile,\r\n          jobFile.filename,\r\n          jobFile.numCopies,\r\n          req,\r\n          jobFile.remarks\r\n        )\r\n      );\r\n      return a;\r\n    }, []);\r\n    this.setState({ data: rows });\r\n  }\r\n\r\n  handleRowClick = (e, rd) => {\r\n    if (rd.jobFile.fileURL && rd.jobFile.fileURL !== \"\") {\r\n      window.open(rd.job.fileURL);\r\n    }\r\n  };\r\n\r\n  handleSlider = jobFile => {\r\n    this.setState({ showSlider: true, jobFileSelected: jobFile });\r\n  };\r\n\r\n  handleSliderClose = () => {\r\n    this.setState({ showSlider: false });\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <div>\r\n        <MaterialTable\r\n          columns={[\r\n            {\r\n              title: \"Name\",\r\n              field: \"name\",\r\n              render: rowData => (\r\n                <span className=\"job-table-text\">{rowData.name}</span>\r\n              ),\r\n              cellStyle: {\r\n                paddingRight: \"16px\"\r\n              }\r\n            },\r\n            {\r\n              title: \"\",\r\n              field: \"name\",\r\n              disableClick: true,\r\n              sorting: false,\r\n              render: rowData => (\r\n                <IconButton\r\n                  onClick={e => {\r\n                    this.handleSlider(rowData.job);\r\n                  }}\r\n                >\r\n                  <MoreIcon />\r\n                </IconButton>\r\n              ),\r\n              cellStyle: {\r\n                paddingRight: \"16px\"\r\n              }\r\n            }\r\n          ]}\r\n          data={this.state.data}\r\n          components={{\r\n            Container: props => (\r\n              <Paper\r\n                {...props}\r\n                elevation={0}\r\n                style={{ marginTop: \"20px\", minHeight: \"60vh\" }}\r\n              />\r\n            )\r\n          }}\r\n          options={{\r\n            sorting: true,\r\n            selection: true,\r\n            headerStyle: {\r\n              fontFamily: \"Roboto\",\r\n              fontSize: \"16px\",\r\n              fontWeight: \"bold\",\r\n              color: \"#707070\"\r\n            },\r\n            rowStyle: {\r\n              fontFamily: \"Roboto\",\r\n              fontSize: \"14px\",\r\n              color: \"#707070\",\r\n              height: \"69px\"\r\n            },\r\n            toolbarButtonAlignment: \"left\",\r\n            showTextRowsSelected: false,\r\n            showTitle: false,\r\n            paging: false\r\n          }}\r\n          onRowClick={this.handleRowClick}\r\n          actions={[\r\n            {\r\n              tooltip: \"Delete Selected Items\",\r\n              icon: DeleteIcon,\r\n              onClick: (evt, data) => this.props.deleteMultipleFiles(data)\r\n            }\r\n          ]}\r\n        />\r\n        <JobFileSummaryTableMobileSlider\r\n          jobFile={this.state.jobFileSelected}\r\n          open={this.state.showSlider}\r\n          onClose={this.handleSliderClose}\r\n          editFile={this.props.editFile}\r\n          deleteFile={this.props.deleteFile}\r\n        />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default JobFileSummaryTableMobile;\r\n","import React, {Component} from 'react';\r\nimport axios from 'axios';\r\nimport {withRouter} from \"react-router-dom\";\r\nimport {connect} from \"react-redux\";\r\n\r\nimport '../JobDetails.css';\r\n\r\nimport FileUploadSection from \"./FileUploadSection\"\r\nimport AffirmationModal from \"../../../ui/Modal/AffirmationModal\";\r\n\r\nimport {Paper} from '@material-ui/core';\r\n\r\nimport JobFileSummaryTable from \"./JobFileSummaryTable\";\r\nimport {FontAwesomeIcon} from \"@fortawesome/react-fontawesome\";\r\nimport {faPlusSquare} from \"@fortawesome/free-regular-svg-icons\";\r\nimport MediaQuery from \"react-responsive\";\r\nimport JobFileSummaryTableMobile from \"./JobFileSummaryTableMobile\";\r\n\r\n\r\nclass JobFilesDisplay extends Component {\r\n    state = {\r\n        jobFiles: null,\r\n        editJobFile: null,\r\n        showJobFileDeleteModal: false,\r\n        jobFileToDelete: [],\r\n        activeScreen: 'showFiles',\r\n        selectOption: true,\r\n        refresh: false,\r\n        numPages: null,\r\n        pageNumber: 1,\r\n    };\r\n\r\n    componentDidMount() {\r\n        this.getJobFiles();\r\n    }\r\n\r\n    getJobFiles = () => {\r\n        axios.get(`/api/job_files?jobID=${this.props.job._id}`).then(res => {\r\n            const jobFiles = res.data;\r\n            const userJobFiles = jobFiles.filter(o=> o.user === this.props.auth.user.id);\r\n            this.setState({jobFiles: userJobFiles});\r\n        }).catch(err => {\r\n            console.log(err);\r\n        });\r\n    };\r\n\r\n    jobFileChange = (jobFile) => {\r\n        const {jobFiles} = this.state;\r\n        const newJobFiles = [];\r\n        for (let i = 0; i < jobFiles.length; i++) {\r\n            if (jobFiles[i]._id === jobFile._id) {\r\n                newJobFiles.push(jobFile);\r\n            } else {\r\n                newJobFiles.push(jobFiles[i]);\r\n            }\r\n        }\r\n        this.setState({jobFiles: newJobFiles});\r\n    };\r\n\r\n    loadRequirements = () => {\r\n        return [\r\n            {\r\n                id: (+new Date() + Math.floor(Math.random() * 999999)).toString(36),\r\n                key: \"signAndReturn\",\r\n                name: \"Sign and Return\",\r\n                check: false\r\n            },\r\n            {\r\n                id: (+new Date() + Math.floor(Math.random() * 999999)).toString(36),\r\n                key: \"needPrintCopy\",\r\n                name: \"Need Printed Copy\",\r\n                check: false\r\n            }\r\n        ];\r\n    };\r\n\r\n    updateJobFiles = () => {\r\n        axios.put(`/api/job_files`, {\r\n            jobFiles: this.state.jobFiles\r\n        }).then(res => {\r\n            this.setState({jobFiles: res.data});\r\n        }).catch(err => {\r\n            console.log(err);\r\n        });\r\n    };\r\n\r\n    handleDeleteJobFiles = () => {\r\n        this.setState({refresh: true});\r\n        const jobFileToDelete = this.state.jobFileToDelete;\r\n        for (let i = 0; i < jobFileToDelete.length; i++) {\r\n            let jobFile = jobFileToDelete[i];\r\n            const index = this.state.jobFiles.indexOf(jobFile);\r\n            this.state.jobFiles.splice(index, 1);\r\n            this.deleteJobFiles(jobFile);\r\n        }\r\n        this.setState(this.state.jobFiles);\r\n        this.setState({jobFileToDelete: []});\r\n        window.setTimeout(() => {\r\n            this.setState({refresh: false});\r\n        }, 1000)\r\n\r\n    };\r\n\r\n    deleteJobFiles = (jobFileToDelete) => {\r\n        axios.delete(`/api/job_files`, {\r\n            data: {\r\n                jobFile: jobFileToDelete\r\n            }\r\n        }).catch(err => {\r\n            console.log(err);\r\n        });\r\n    };\r\n\r\n    handleSingleDelete = (jobFile) => {\r\n        this.state.jobFileToDelete.push(jobFile);\r\n        this.setState({showJobFileDeleteModal: true}\r\n        )\r\n    };\r\n\r\n    handleMultipleDelete = (data) => {\r\n        const delArray = data.reduce((a, jobFile) => {\r\n            a.push(jobFile.job);\r\n            return a\r\n        }, []);\r\n        this.setState({showJobFileDeleteModal: true, jobFileToDelete: delArray})\r\n    };\r\n\r\n    handleAddEvent = () => {\r\n        const jobFile = {\r\n            id: (+new Date() + Math.floor(Math.random() * 999999)).toString(36),\r\n            fileURL: \"\",\r\n            filename:'',\r\n            numCopies: 1,\r\n            requirements: this.loadRequirements(),\r\n            remarks: \"\",\r\n        };\r\n\r\n        const jobFiles = this.state.jobFiles;\r\n        jobFiles.push(jobFile);\r\n        this.setState({jobFiles: this.state.jobFiles, activeScreen: 'uploadFile'});\r\n    };\r\n\r\n    handleCancel = (type) => {\r\n        if (type === 'upload') {\r\n            this.state.jobFiles.splice(-1, 1);\r\n            this.setState({activeScreen: 'showFiles'});\r\n        } else {\r\n            this.setState({activeScreen: 'showFiles'});\r\n        }\r\n    };\r\n\r\n    handleUploadSuccess = () => {\r\n        this.updateJobFiles();\r\n        this.setState({activeScreen: 'showFiles'});\r\n    };\r\n\r\n    handleEditFile = (jobFile) => {\r\n        this.setState({activeScreen: 'editFile', editJobFile: jobFile});\r\n    };\r\n\r\n    handleEditCancel = () => {\r\n        this.setState({activeScreen: 'showFile', editJobFile: null});\r\n    };\r\n\r\n    render() {\r\n        switch (this.state.jobFiles) {\r\n            case null:\r\n                return <div></div>;\r\n            default:\r\n                switch (this.state.activeScreen) {\r\n                    case 'uploadFile':\r\n                        return (\r\n                            <div>\r\n                                <Paper square={true} className='job-detail-paper' elevation={0}>\r\n                                    {\r\n                                        this.state.jobFiles.length > 0 ?\r\n                                            <div>\r\n                                                <FileUploadSection\r\n                                                    handleCancel={this.handleCancel}\r\n                                                    successClose={this.handleUploadSuccess}\r\n                                                    jobFile={this.state.jobFiles[this.state.jobFiles.length - 1]}\r\n                                                    job={this.props.job}\r\n                                                    type='upload'\r\n                                                    handleSingleDelete={this.handleSingleDelete}\r\n                                                />\r\n                                            </div> : ''\r\n                                    }\r\n                                </Paper>\r\n                            </div>\r\n                        );\r\n                    case 'editFile':\r\n                        return (\r\n                            <div>\r\n                                <Paper square={true} className='job-detail-paper' elevation={0}>\r\n                                    {\r\n                                        this.state.editJobFile !== null ?\r\n                                            <div>\r\n                                                <FileUploadSection\r\n                                                    handleCancel={this.handleEditCancel}\r\n                                                    successClose={this.handleUploadSuccess}\r\n                                                    jobFile={this.state.editJobFile}\r\n                                                    job={this.props.job}\r\n                                                    type='edit'\r\n                                                    handleSingleDelete={this.handleSingleDelete}\r\n                                                />\r\n                                            </div> : ''\r\n                                    }\r\n                                </Paper>\r\n                            </div>\r\n                        );\r\n                    default:\r\n                        return (<div>\r\n                            <Paper square={true} className='job-detail-paper' elevation={0}>\r\n                                <div>\r\n                                    <div>\r\n                                        <div className='d-flex flex-row align-items-center'>\r\n                                            <FontAwesomeIcon icon={faPlusSquare} color=\"green\" size=\"3x\"\r\n                                                             className='job-files-add-file'\r\n                                                             onClick={this.handleAddEvent}\r\n                                            />\r\n                                            <h3 className='job-detail-section-header'>Upload your documents</h3>\r\n                                        </div>\r\n                                    </div>\r\n                                    {this.state.jobFiles.length > 0 ?\r\n                                        <div>\r\n                                            <MediaQuery minWidth={768}>\r\n                                                <JobFileSummaryTable\r\n                                                    jobFiles={this.state.jobFiles}\r\n                                                    deleteFile={this.handleSingleDelete}\r\n                                                    editFile={this.handleEditFile}\r\n                                                    deleteMultipleFiles={this.handleMultipleDelete}\r\n                                                    selectOption={this.state.selectOption}\r\n                                                    refresh={this.state.refresh}\r\n\r\n                                                />\r\n                                            </MediaQuery>\r\n                                            <MediaQuery maxWidth={767}>\r\n                                                <JobFileSummaryTableMobile\r\n                                                    jobFiles={this.state.jobFiles}\r\n                                                    deleteFile={this.handleSingleDelete}\r\n                                                    editFile={this.handleEditFile}\r\n                                                    deleteMultipleFiles={this.handleMultipleDelete}\r\n                                                    selectOption={this.state.selectOption}\r\n                                                    refresh={this.state.refresh}\r\n                                                />\r\n                                            </MediaQuery>\r\n                                        </div>\r\n                                        : <p>You have not uploaded any documents yet</p>}\r\n                                </div>\r\n\r\n                                <AffirmationModal\r\n                                    modal={this.state.showJobFileDeleteModal}\r\n                                    toggle={(e) => this.setState({showJobFileDeleteModal: !this.state.showJobFileDeleteModal})}\r\n                                    title=\"Delete Document?\"\r\n                                    affirmativeAction={(e) => {\r\n                                        this.setState({showJobFileDeleteModal: !this.state.showJobFileDeleteModal});\r\n                                        this.handleDeleteJobFiles();\r\n                                    }}\r\n                                    affirmativeText='Yes'\r\n                                    cancelText='No'\r\n                                >\r\n                                    <p>Are you sure you want to delete the document?</p>\r\n                                </AffirmationModal>\r\n                            </Paper>\r\n                        </div>);\r\n                }\r\n        }\r\n    }\r\n}\r\n\r\nconst mapStateToProps = ({auth}) => {\r\n    return {auth};\r\n};\r\n\r\nexport default withRouter(connect(mapStateToProps)(JobFilesDisplay));\r\n","import React, { Component } from \"react\";\r\nimport {\r\n  Button,\r\n  Col,\r\n  Container,\r\n  Form,\r\n  FormGroup,\r\n  Input,\r\n  Label,\r\n  Row\r\n} from \"reactstrap\";\r\nimport axios from \"axios\";\r\n\r\nimport AffirmationModal from \"../../ui/Modal/AffirmationModal\";\r\n\r\nclass JobDetailsEdit extends Component {\r\n  state = {\r\n    jobStatuses: [\r\n      {\r\n        index: 1,\r\n        title: \"Job booking pending confirmation\",\r\n        description:\r\n          \"We have received your job booking and are currently checking the details. We will send you a confirmation email once everything is verified.\",\r\n        trackingType: \"Electronic\"\r\n      },\r\n      {\r\n        index: 2,\r\n        title: \"Job booking confirmed\",\r\n        description:\r\n          \"We have confirmed your job booking. Please deliver the items to 'No. 6 Tuas Ave 6, Singapore 639311' at least 24 hours before the vessel arrives.\",\r\n        trackingType: \"Electronic\"\r\n      },\r\n      {\r\n        index: 3,\r\n        title: \"Pending items arrival at warehouse\",\r\n        description:\r\n          \"We have confirmed your job booking. Your job details have been passed to our operations side for processing.\",\r\n        trackingType: \"Storage\"\r\n      },\r\n      {\r\n        index: 4,\r\n        title: \"All items have arrived at warehouse\",\r\n        description:\r\n          \"We have received all of your indicated items at our warehouse. We will proceed to check that everything is in order.\",\r\n        trackingType: \"Storage\"\r\n      },\r\n      {\r\n        index: 5,\r\n        title: \"Items are on delivery\",\r\n        description:\r\n          \"Your items have been checked and loaded onto our trucks. It is currently on the way to the delivery destination.\",\r\n        trackingType: \"Truck\"\r\n      },\r\n      {\r\n        index: 6,\r\n        title: \"Items have been received by customer\",\r\n        description:\r\n          \"Your items have been successfully received by the customer.\",\r\n        trackingType: \"Truck\"\r\n      }\r\n    ],\r\n    jobStatus: null,\r\n    showCheckJobStatusModal: false,\r\n    cancellationConfirmationModal: false\r\n  };\r\n\r\n  updateJobStatus = () => {\r\n    axios\r\n      .post(\"/api/job_trackers\", {\r\n        ...this.state.jobStatus,\r\n        jobId: this.props.job._id\r\n      })\r\n      .then(res => {\r\n        window.location.reload();\r\n      })\r\n      .catch(err => {\r\n        console.log(err);\r\n      });\r\n  };\r\n\r\n  checkJobTracker = jobStatus => {\r\n    this.setState({\r\n      jobStatus,\r\n      showCheckJobStatusModal: true\r\n    });\r\n  };\r\n\r\n  cancelJob = () => {\r\n    const job = this.props.job;\r\n    job.isCancelled = \"Confirmed\";\r\n\r\n    axios\r\n      .put(\"/api/jobs\", {\r\n        job,\r\n        sendEmailUpdate: false\r\n      })\r\n      .then(res => {\r\n        window.location.reload();\r\n      })\r\n      .catch(err => {\r\n        console.log(err);\r\n      });\r\n  };\r\n\r\n  render() {\r\n    const job = this.props.job;\r\n    const jobTrackers = job.jobTrackers.sort((a, b) => {\r\n      return a.index - b.index;\r\n    });\r\n\r\n    return (\r\n      <Container fluid>\r\n        <Row>\r\n          <Col xs=\"12\" md={{ size: 4, offset: 4 }}>\r\n            <Button\r\n              type=\"button\"\r\n              color=\"danger\"\r\n              onClick={e =>\r\n                this.setState({ cancellationConfirmationModal: true })\r\n              }\r\n            >\r\n              Cancel Job\r\n            </Button>\r\n            <br />\r\n            <br />\r\n            <Form>\r\n              {this.state.jobStatuses.map((jobStatus, index) => {\r\n                return (\r\n                  <FormGroup check key={index}>\r\n                    <Label check>\r\n                      <Input\r\n                        type=\"checkbox\"\r\n                        disabled={!(jobStatus.index === jobTrackers.length + 1)}\r\n                        checked={jobStatus.index <= jobTrackers.length}\r\n                        onChange={e => this.checkJobTracker(jobStatus)}\r\n                      />{\" \"}\r\n                      {jobStatus.title}\r\n                    </Label>\r\n                  </FormGroup>\r\n                );\r\n              })}\r\n              <br />\r\n              <FormGroup>\r\n                <Button\r\n                  className=\"global-primary-button\"\r\n                  onClick={this.props.cancel}\r\n                >\r\n                  Back\r\n                </Button>\r\n              </FormGroup>\r\n            </Form>\r\n          </Col>\r\n        </Row>\r\n\r\n        <AffirmationModal\r\n          modal={this.state.showCheckJobStatusModal}\r\n          toggle={e =>\r\n            this.setState({\r\n              showCheckJobStatusModal: !this.state.showCheckJobStatusModal\r\n            })\r\n          }\r\n          title=\"Job Status Update\"\r\n          affirmativeAction={this.updateJobStatus}\r\n          affirmativeText=\"Yes\"\r\n          cancelText=\"No\"\r\n        >\r\n          Are you sure you want to update this job status?\r\n        </AffirmationModal>\r\n\r\n        <AffirmationModal\r\n          modal={this.state.cancellationConfirmationModal}\r\n          toggle={e =>\r\n            this.setState({\r\n              cancellationConfirmationModal: !this.state\r\n                .cancellationConfirmationModal\r\n            })\r\n          }\r\n          title=\"Job Cancellation\"\r\n          affirmativeAction={this.cancelJob}\r\n          affirmativeText=\"Confirm\"\r\n        >\r\n          Are you sure you want to cancel this job?\r\n        </AffirmationModal>\r\n      </Container>\r\n    );\r\n  }\r\n}\r\n\r\nexport default JobDetailsEdit;\r\n","import React, { Component } from \"react\";\r\nimport { withRouter } from \"react-router-dom\";\r\nimport { connect } from \"react-redux\";\r\n\r\nimport { Paper, Button } from \"@material-ui/core\";\r\n\r\nimport { Timeline, TimelineEvent } from \"react-event-timeline\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport { faTruck } from \"@fortawesome/free-solid-svg-icons\";\r\n\r\nimport JobDetailsEdit from \"../JobDetailsEdit\";\r\n\r\nimport \"rc-steps/assets/index.css\";\r\nimport \"rc-steps/assets/iconfont.css\";\r\nimport Steps, { Step } from \"rc-steps\";\r\n\r\nimport moment from \"moment\";\r\n\r\nimport \"./JobStatusDisplay.css\";\r\n\r\nclass JobStatusDisplay extends Component {\r\n  state = {\r\n    jobStatuses: [\r\n      {\r\n        index: 1,\r\n        title: \"Job booking pending confirmation\",\r\n        description:\r\n          \"We have received your job booking and are currently checking the details. We will send you a confirmation email once everything is verified.\",\r\n        trackingType: \"Electronic\"\r\n      },\r\n      {\r\n        index: 2,\r\n        title: \"Job booking confirmed\",\r\n        description:\r\n          \"We have confirmed your job booking. Please deliver the items to 'No. 6 Tuas Ave 6, Singapore 639311' at least 24 hours before the vessel arrives.\",\r\n        trackingType: \"Electronic\"\r\n      },\r\n      {\r\n        index: 3,\r\n        title: \"Pending items arrival at warehouse\",\r\n        description:\r\n          \"We have confirmed your job booking. Your job details have been passed to our operations side for processing.\",\r\n        trackingType: \"Storage\"\r\n      },\r\n      {\r\n        index: 4,\r\n        title: \"All items have arrived at warehouse\",\r\n        description:\r\n          \"We have received all of your indicated items at our warehouse. We will proceed to check that everything is in order.\",\r\n        trackingType: \"Storage\"\r\n      },\r\n      {\r\n        index: 5,\r\n        title: \"Items are on delivery\",\r\n        description:\r\n          \"Your items have been checked and loaded onto our trucks. It is currently on the way to the delivery destination.\",\r\n        trackingType: \"Truck\"\r\n      },\r\n      {\r\n        index: 6,\r\n        title: \"Items have been received by customer\",\r\n        description:\r\n          \"Your items have been successfully received by the customer.\",\r\n        trackingType: \"Truck\"\r\n      }\r\n    ],\r\n    showJobDetailsEdit: false\r\n  };\r\n\r\n  render() {\r\n    const steps = this.state.jobStatuses;\r\n    const job = this.props.job;\r\n    const jobTrackers = job.jobTrackers.sort((a, b) => {\r\n      return a.index - b.index;\r\n    });\r\n    const activeStep = jobTrackers.length;\r\n\r\n    const renderSteps = steps.map((step, i) => {\r\n      const jobStatus = jobTrackers.reduce((a, status) => {\r\n        a.push(status.index);\r\n        return a;\r\n      }, []);\r\n      if (!jobStatus.includes(step.index)) {\r\n        return (\r\n          <Step title={step.title} key={i} description={step.description} />\r\n        );\r\n      } else {\r\n        const statusSelected = jobTrackers.filter(o => {\r\n          return o.index === step.index;\r\n        })[0];\r\n        return (\r\n          <Step\r\n            title={statusSelected.title}\r\n            key={i}\r\n            description={\r\n              <div className=\"d-flex flex-column\">\r\n                <span>\r\n                  <i>\r\n                    {moment(statusSelected.timestamp).format(\r\n                      \"Do MMMM YYYY, h:mm:ss a\"\r\n                    )}\r\n                  </i>\r\n                </span>\r\n                <span>{statusSelected.description}</span>\r\n                {statusSelected.remarks !== \"\" ? (\r\n                  <span>Remarks: {statusSelected.remarks}</span>\r\n                ) : (\r\n                  \"\"\r\n                )}\r\n              </div>\r\n            }\r\n          />\r\n        );\r\n      }\r\n    });\r\n\r\n    //Overall Stepper View\r\n    switch (this.state.showJobDetailsEdit) {\r\n      case false:\r\n        return (\r\n          <div>\r\n            <Paper square={true} elevation={0} className=\"job-detail-paper\">\r\n              <div\r\n                className=\"d-flex align-items-center justify-content-center\"\r\n                style={{ margin: 10 }}\r\n              >\r\n                {this.props.auth.userType === \"Admin\" ? (\r\n                  <Button\r\n                    variant=\"contained\"\r\n                    onClick={e => this.setState({ showJobDetailsEdit: true })}\r\n                  >\r\n                    Edit Status\r\n                  </Button>\r\n                ) : (\r\n                  \"\"\r\n                )}\r\n              </div>\r\n              <Steps\r\n                direction=\"vertical\"\r\n                current={activeStep}\r\n                icons={{\r\n                  finish: <span className=\"status-finish\">&#10003;</span>\r\n                }}\r\n              >\r\n                {renderSteps}\r\n              </Steps>\r\n            </Paper>\r\n            {/*<Paper square={true} elevation={0}>*/}\r\n            {/*    <Timeline>*/}\r\n            {/*        {*/}\r\n            {/*            this.props.job.jobTrackers.sort((a, b) => {*/}\r\n            {/*                return b.index - a.index;*/}\r\n            {/*            }).map((jobTracker, index) => {*/}\r\n            {/*                return (*/}\r\n            {/*                    <TimelineEvent*/}\r\n            {/*                        key={index}*/}\r\n            {/*                        title={jobTracker.title}*/}\r\n            {/*                        createdAt={new Date(jobTracker.timestamp).toString()}*/}\r\n            {/*                        icon={<FontAwesomeIcon icon={faTruck}/>}*/}\r\n            {/*                        titleStyle={{fontWeight: \"400\"}}*/}\r\n            {/*                    >*/}\r\n            {/*                        {jobTracker.description}*/}\r\n            {/*                    </TimelineEvent>*/}\r\n            {/*                );*/}\r\n            {/*            })*/}\r\n            {/*        }*/}\r\n            {/*    </Timeline>*/}\r\n            {/*</Paper>*/}\r\n          </div>\r\n        );\r\n      default:\r\n        return (\r\n          <div>\r\n            {this.props.auth.userType === \"Admin\" ? (\r\n              <JobDetailsEdit\r\n                job={this.props.job}\r\n                cancel={e => this.setState({ showJobDetailsEdit: false })}\r\n              />\r\n            ) : (\r\n              \"\"\r\n            )}\r\n          </div>\r\n        );\r\n    }\r\n  }\r\n}\r\n\r\nconst mapStateToProps = ({ auth }) => {\r\n  return { auth };\r\n};\r\n\r\nexport default withRouter(connect(mapStateToProps)(JobStatusDisplay));\r\n","import React, { Component } from \"react\";\r\nimport { withRouter } from \"react-router-dom\";\r\nimport { connect } from \"react-redux\";\r\n\r\nimport { Paper } from \"@material-ui/core\";\r\nimport { Container, Row, Col, Button } from \"react-bootstrap\";\r\nimport FormControl from \"react-bootstrap/FormControl\";\r\n\r\nimport {\r\n  withScriptjs,\r\n  withGoogleMap,\r\n  GoogleMap,\r\n  Marker\r\n} from \"react-google-maps\";\r\n\r\nvar deliveryInAdvance = 6;\r\n\r\nclass JobDropoffDetail extends Component {\r\n  state = {\r\n    LogisticsCompanies: [\r\n      {\r\n        index: \"wsl\",\r\n        companyName: \"Allied Containers, Winspec Logistics Services Pte Ltd\",\r\n        address: \"No. 6 Tuas Ave 6, Singapore 639311\",\r\n        contactNumber: \"6558 6257\",\r\n        website: \"winspecgroup.com\",\r\n        openingHours:\r\n          \"Monday to Friday, from 8:30am to 5:30pm & Saturday, from 8:30am to 12:30pm, excluding PH\",\r\n        addLL: { lat: 1.3262, lng: 103.649817 }\r\n      }\r\n    ],\r\n    remarks: \"\",\r\n    currentCompany: \"\"\r\n  };\r\n\r\n  componentDidMount() {\r\n    //var company =  this.props.job.logisticsCompany;\r\n    var company = \"wsl\";\r\n    for (var i = 0; i < this.state.LogisticsCompanies.length; i++) {\r\n      if (this.state.LogisticsCompanies[i].index === company) {\r\n        this.setState({ currentCompany: this.state.LogisticsCompanies[i] });\r\n        break;\r\n      }\r\n    }\r\n  }\r\n\r\n  handleRemarks = e => {\r\n    this.setState({ remarks: e.target.value });\r\n  };\r\n\r\n  handleSaveRemarks = () => {\r\n    //Insert Backend Here\r\n    console.log(\"Saved Remarks for Logistics Company\");\r\n  };\r\n\r\n  getDropoffTime() {\r\n    var deliveryDate = new Date(this.props.job.vesselArrivalDateTime);\r\n    deliveryDate.setDate(deliveryDate.getHours() - deliveryInAdvance);\r\n    return (\r\n      \"\" +\r\n      deliveryDate.getDate() +\r\n      \"/\" +\r\n      deliveryDate.getMonth() +\r\n      \"/\" +\r\n      deliveryDate.getFullYear()\r\n    );\r\n  }\r\n\r\n  render() {\r\n    var deliveryDate = this.getDropoffTime();\r\n    var LCOpeningHours = this.state.currentCompany.openingHours;\r\n\r\n    const Map = withScriptjs(\r\n      withGoogleMap(props => (\r\n        <GoogleMap\r\n          defaultZoom={14}\r\n          defaultCenter={this.state.currentCompany.addLL}\r\n        >\r\n          <Marker position={this.state.currentCompany.addLL} />\r\n        </GoogleMap>\r\n      ))\r\n    );\r\n\r\n    return (\r\n      <div>\r\n        <Paper square={true} className=\"job-detail-paper\" elevation={0}>\r\n          <Container>\r\n            <Row style={{ marginBottom: 40 }}>\r\n              <Col>\r\n                <h3 className=\"job-detail-section-header\">Drop off Location</h3>\r\n                <p>\r\n                  {this.state.currentCompany.companyName},{\" \"}\r\n                  {this.state.currentCompany.address}\r\n                </p>\r\n              </Col>\r\n            </Row>\r\n            <Row style={{ marginBottom: 40 }}>\r\n              <Col>\r\n                <h3 className=\"job-detail-section-header\">Drop off Time</h3>\r\n                <p>\r\n                  Please Drop-off during office hours from {LCOpeningHours}.\r\n                </p>\r\n              </Col>\r\n            </Row>\r\n            {/*<Row>*/}\r\n            {/*    <Col>*/}\r\n            {/*        <h3 className='job-detail-section-header'>Remarks</h3>*/}\r\n            {/*        <FormControl as=\"textarea\" rows=\"4\" value={this.state.remarks} placeholder='Insert Remarks Here' onChange={this.handleRemarks} className='job-dropoff-remarks-text'/>*/}\r\n            {/*        /!*<Button onClick={this.handleSaveRemarks}>Save Changes</Button>*!/*/}\r\n            {/*    </Col>*/}\r\n            {/*</Row>*/}\r\n            <Row>\r\n              <Col>\r\n                <h3 className=\"job-detail-section-header\">Map</h3>\r\n                <Map\r\n                  googleMapURL=\"https://maps.googleapis.com/maps/api/js?key=AIzaSyCFL111s8lalFUoU08_GwV4O12asuIgo_w&v=3.exp&libraries=geometry,drawing,places\"\r\n                  loadingElement={<div style={{ height: `100%` }} />}\r\n                  containerElement={<div style={{ height: `400px` }} />}\r\n                  mapElement={<div style={{ height: `100%` }} />}\r\n                />\r\n              </Col>\r\n            </Row>\r\n          </Container>\r\n        </Paper>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = ({ auth }) => {\r\n  return { auth };\r\n};\r\n\r\nexport default withRouter(connect(mapStateToProps)(JobDropoffDetail));\r\n","import React, {Component} from 'react';\r\nimport {withRouter} from \"react-router-dom\";\r\nimport {connect} from \"react-redux\";\r\nimport {Paper} from \"@material-ui/core\";\r\nimport {Col, Container, Row, Button} from \"react-bootstrap\";/* \r\nimport JobCreatePriceTable from \"../../JobBilling/JobCreatePriceTable\"; */\r\n\r\nimport './JobBillingDetail.css';\r\nimport AffirmationModal from \"../../../ui/Modal/AffirmationModal\";\r\nimport axios from \"axios\";\r\n\r\nclass JobBillingDetail extends Component {\r\n    state = {\r\n        status: null,\r\n        showJobCancelModal: false,\r\n        paymentTrackers: [],\r\n        paymentTrackerList: [\r\n            {\r\n                index: 1,\r\n                label: 'Not Yet Invoiced',\r\n            },\r\n            {\r\n                index: 2,\r\n                label: 'Invoiced, Not Paid',\r\n            },\r\n            {\r\n                index: 3,\r\n                label: 'Paid',\r\n            },\r\n        ],\r\n    };\r\n\r\n    componentDidMount() {\r\n        const job = this.props.job;\r\n        const paymentTrackers = job.paymentTrackers;\r\n        if (this.props.auth.userType === \"Admin\") {\r\n            this.setState({status: job.isCancelled, paymentTrackers: paymentTrackers});\r\n        } else {\r\n            const userPaymentTrackers = paymentTrackers.filter(o => o.user === this.props.auth._id).sort((a, b) => {\r\n                return b.index - a.index;\r\n            });\r\n            this.setState({status: job.isCancelled, paymentTrackers: userPaymentTrackers});\r\n        }\r\n    };\r\n\r\n    updatePaymentTracker = (paymentTacker, user) => {\r\n        axios.post('/api/payment_trackers', {\r\n            index: paymentTacker.index,\r\n            label: paymentTacker.label,\r\n            jobId: this.props.job._id,\r\n            userId: user,\r\n        }).then(res => {\r\n            window.location.reload();\r\n        }).catch(err => {\r\n            console.log(err);\r\n        });\r\n    };\r\n\r\n    renderCancelProcedure = () => {\r\n        switch (this.state.status) {\r\n            case 'Pending':\r\n                return (\r\n                    <div className='job-billing-request-section'>\r\n                        <h3 className='job-billing-request-requested'>Cancellation Requested</h3>\r\n                        <span>We will do our best in cancelling this job for you.</span>\r\n                        <ul>\r\n                            <li>\r\n                                <span className='font-weight-bold'>If this item is canceled:</span>\r\n                                <br/>\r\n                                You will receive a confirmation email.\r\n                            </li>\r\n                            <li>\r\n                                <span className='font-weight-bold'>If this item is not canceled:</span>\r\n                                <br/>\r\n                                You will receive an email informing you<br/>that\r\n                                your request for cancellation is unsuccessful.\r\n                            </li>\r\n                        </ul>\r\n                    </div>\r\n                );\r\n            case 'Confirmed':\r\n                return (\r\n                    <div className='job-billing-request-section'>\r\n                        <h3 className='job-billing-request-success'>Cancellation Successful</h3>\r\n                        <p>Your request for cancellation has been approved.<br/>\r\n                            Your job has been successfully canceled.</p>\r\n                    </div>\r\n                );\r\n            case 'Denied':\r\n                return (\r\n                    <div className='job-billing-request-section'>\r\n                        <h3 className='job-billing-request-failure'>Cancellation Unsuccessful</h3>\r\n                        <span>Your request for cancellation was unsuccessful.<br/>\r\n                          We are not able to cancel your job.<br/>\r\n                          Contact us at service@simpfleet.com for any queries.</span>\r\n                    </div>\r\n                );\r\n            default:\r\n                return (\r\n                    <div className='job-billing-request-section'>\r\n                        <h6 className='job-billing-request-cancel-text' onClick={() => {\r\n                            this.setState({showJobCancelModal: true});\r\n                        }}>Request Cancellation</h6>\r\n                        <p>Please take note that if your cancellation is within 2 hours of the given loading time\r\n                            or vessel berthing time, we will charge the Full Rate Of The Delivery.</p>\r\n                    </div>\r\n                );\r\n        }\r\n    };\r\n\r\n    render() {\r\n\r\n        let renderAdminPaymentPanel;\r\n        if (this.props.auth.user.userType === \"Admin\") {\r\n            const partyList = this.state.paymentTrackers.reduce((a, tracker) => {\r\n                a.push(tracker.user);\r\n                return a;\r\n            }, []).filter((v, i, a) => a.indexOf(v) === i);\r\n            renderAdminPaymentPanel = partyList.map((id, index) => {\r\n                let userPaymentTracker = this.state.paymentTrackers.filter(o => o.user === id).sort((a, b) => {\r\n                    return b.index - a.index;\r\n                });\r\n                return (\r\n                    <div key={index} className='d-flex align-items-center'>\r\n                        <p>Payment Status: {userPaymentTracker[0].label}</p>\r\n                        {userPaymentTracker.length === 3 ? '' :\r\n                            <Button onClick={(e) => {\r\n                                const paymentIndex = userPaymentTracker.length;\r\n                                this.updatePaymentTracker(this.state.paymentTrackerList[paymentIndex], id)\r\n                            }}>Advance Payment</Button>}\r\n                    </div>\r\n                )\r\n            })\r\n        }\r\n\r\n        return (\r\n            <div>\r\n                <Paper square={true} className='job-detail-paper' elevation={0}>\r\n                    <Container>\r\n                        <Row>\r\n                            <Col xs={12} md={8}>\r\n                                {/*<h3 className='job-detail-section-header-price'>Price</h3>*/}\r\n                                {/*<JobCreatePriceTable jobItems={this.props.job.jobItems}/>*/}\r\n                                {this.state.paymentTrackers[0] ?\r\n                                    <div>\r\n                                        {this.props.auth.user.userType === \"Admin\" ?\r\n                                            <div>\r\n                                                {renderAdminPaymentPanel}\r\n                                            </div> :\r\n                                            <p>Payment Status: {this.state.paymentTrackers[0].label}</p>\r\n                                        }\r\n                                    </div> : ''}\r\n                                {this.renderCancelProcedure()}\r\n                                {\r\n                                    this.props.auth.userType === \"Admin\" &&\r\n                                    this.state.status === 'Pending'\r\n                                        ? <div>\r\n                                            <Button variant='danger' onClick={() => {\r\n                                                const job = this.props.job;\r\n                                                job.isCancelled = 'Denied';\r\n                                                this.props.saveJobCancellation(job);\r\n                                                this.setState({status: job.isCancelled});\r\n                                            }}>Decline</Button>\r\n                                            <Button variant='success' onClick={() => {\r\n                                                const job = this.props.job;\r\n                                                job.isCancelled = 'Confirmed';\r\n                                                this.props.saveJobCancellation(job);\r\n                                                this.setState({status: job.isCancelled});\r\n                                            }} style={{marginLeft: '15px'}}>Approve</Button>\r\n                                        </div>\r\n                                        : ''\r\n                                }\r\n                            </Col>\r\n                        </Row>\r\n                        <AffirmationModal\r\n                            modal={this.state.showJobCancelModal}\r\n                            toggle={(e) => this.setState({showJobCancelModal: !this.state.showJobCancelModal})}\r\n                            title=\"Cancellation\"\r\n                            affirmativeAction={() => {\r\n                                const job = this.props.job;\r\n                                job.isCancelled = 'Confirmed';\r\n                                this.props.saveJobCancellation(job);\r\n                                this.setState({status: job.isCancelled, showJobCancelModal: false});\r\n                            }}\r\n                            affirmativeText='Yes'\r\n                            cancelText=\"No\"\r\n                        >\r\n                            <p><strong>Are you sure you want to cancel job?</strong></p>\r\n                            <p>Please take note that if your cancellation is within 2 hours of the given loading time or vessel berthing time, we will charge the full rate of the delivery.</p>\r\n                        </AffirmationModal>\r\n                    </Container>\r\n                </Paper>\r\n            </div>\r\n\r\n        );\r\n    }\r\n};\r\n\r\nconst mapStateToProps = ({auth}) => {\r\n    return {auth};\r\n};\r\n\r\nexport default withRouter(connect(mapStateToProps)(JobBillingDetail));","import React, {Component} from 'react';\r\nimport axios from 'axios';\r\nimport queryString from 'query-string';\r\nimport {withRouter, Redirect} from \"react-router-dom\";\r\nimport {connect} from \"react-redux\";\r\n\r\nimport {\r\n    Paper,\r\n    Breadcrumbs,\r\n    Link,\r\n    Typography,\r\n    List,\r\n    ListItem,\r\n    ListItemText,\r\n    Snackbar,\r\n    IconButton,\r\n    Slide\r\n} from '@material-ui/core';\r\nimport NavigateNextIcon from '@material-ui/icons/NavigateNext';\r\nimport CloseIcon from '@material-ui/icons/Close';\r\nimport ShareIcon from '@material-ui/icons/Share';\r\n\r\nimport {Col, Container, Row, Button} from 'react-bootstrap'\r\n\r\nimport JobDetailCard from \"./JobDetailCard\";\r\nimport JobFilesDisplay from \"./Files/JobFilesDisplay\";\r\nimport JobShareModal from \"./JobShareModal/JobShareModal\";\r\nimport JobStatusDisplay from \"./JobStatusDisplay/JobStatusDisplay\";\r\nimport JobDropoffDetail from \"./JobDropoffDetail\";\r\nimport JobBillingDetail from \"./JobBillingDetail/JobBillingDetail\";\r\nimport './JobDetails.css';\r\nimport MediaQuery from \"react-responsive\";\r\nimport Tabs from \"@material-ui/core/Tabs\";\r\nimport Tab from \"@material-ui/core/Tab\";\r\nimport {withStyles} from '@material-ui/core/styles';\r\nimport JobShareSlide from \"../JobShareSlide/JobShareSlide\";\r\n\r\nimport Popover, {ArrowContainer} from \"react-tiny-popover\";\r\nimport {FocusOn} from \"react-focus-on\";\r\n\r\nconst AntTabs = withStyles({\r\n    root: {\r\n        borderBottom: '1px solid #e8e8e8',\r\n    },\r\n    indicator: {\r\n        backgroundColor: '#49AE86',\r\n    },\r\n})(Tabs);\r\n\r\nconst AntTab = withStyles(theme => ({\r\n    root: {\r\n        textTransform: 'none',\r\n        minWidth: 72,\r\n        fontWeight: theme.typography.fontWeightRegular,\r\n        marginRight: theme.spacing(0),\r\n        padding: 6,\r\n        fontFamily: 'Roboto',\r\n        '&:hover': {\r\n            color: '#707070',\r\n            opacity: 1,\r\n        },\r\n        '&$selected': {\r\n            color: '#707070',\r\n            fontWeight: theme.typography.fontWeightMedium,\r\n        },\r\n        '&:focus': {\r\n            color: '#707070',\r\n            outline: \"none\",\r\n        },\r\n    },\r\n    selected: {},\r\n}))(props => <Tab disableRipple {...props} />);\r\n\r\nclass JobDetails extends Component {\r\n    state = {\r\n        job: null,\r\n        jobLink: '',\r\n        activeScreen: 'jobDetails',\r\n        showSharingModal: false,\r\n        copied: false,\r\n        inputSelected: false,\r\n    };\r\n\r\n    componentDidMount() {\r\n        // Get job\r\n        axios.get(`/api/jobs/index?index=${queryString.parse(this.props.location.search).job}`).then(res => {\r\n            const job = res.data;\r\n            this.setState({job});\r\n\r\n            // Get job link\r\n            axios.get(`/api/job_links?jobIndex=${job.index}`).then(res => {\r\n                this.setState({jobLink: res.data});\r\n            }).catch(err => {\r\n                console.log(err);\r\n            });\r\n\r\n            const url = new URL(window.location.href);\r\n            const tab = url.searchParams.get(\"tab\");\r\n            if (tab !== null && tab !== '') {\r\n                this.setTabURL(tab);\r\n                this.setState({activeScreen: tab});\r\n            } else {\r\n                this.setState({activeScreen: 'jobDetails'});\r\n            }\r\n        }).catch(err => {\r\n            console.log(err);\r\n        });\r\n    }\r\n\r\n    setTabURL = (tabName) => {\r\n        const url = new URL(window.location.href);\r\n        url.searchParams.set(\"tab\", tabName);\r\n        window.history.pushState('page2', 'Title', url.toString());\r\n    };\r\n\r\n    generateInvitationLink = () => {\r\n        axios.post('/api/job_links', {\r\n            job: this.state.job\r\n        }).then(res => {\r\n            this.setState({jobLink: res.data});\r\n        }).catch(err => {\r\n            console.log(err);\r\n        });\r\n        this.setState({showSharingModal: true});\r\n    };\r\n\r\n    handleShareModalClose = () => {\r\n        this.setState({showSharingModal: false, inputSelected: false});\r\n    };\r\n\r\n    handleDrawerClick(key) {\r\n        this.setTabURL(key);\r\n        this.setState({activeScreen: key});\r\n    }\r\n\r\n    handleCopy = () => {\r\n        this.setState({copied: true});\r\n        window.setTimeout(() => {\r\n            this.setState({copied: false})\r\n        }, 5000)\r\n    };\r\n\r\n\r\n    handleClose = () => {\r\n        this.setState({copied: false})\r\n    };\r\n\r\n    SlideTransition = (props) => {\r\n        return <Slide {...props} direction=\"up\"/>\r\n    };\r\n\r\n    saveJobCancellation = (job) => {\r\n        // Save job details\r\n        axios.put('/api/jobs', {\r\n            job,\r\n            sendEmailUpdate: false\r\n        }).then(res => {\r\n            this.setState({job: res.data});\r\n        }).catch(err => {\r\n            console.log(err);\r\n        });\r\n    };\r\n\r\n    handleChangeTab = (event, newValue) => {\r\n        this.setTabURL(newValue);\r\n        this.setState({activeScreen: newValue})\r\n    };\r\n\r\n    handleSelect = (e) => {\r\n        this.setState({inputSelected: true});\r\n    };\r\n\r\n    render() {\r\n        const showComponent = () => {\r\n            switch (this.state.activeScreen) {\r\n                case 'jobDetails':\r\n                    return <JobDetailCard job={this.state.job}/>;\r\n                case 'document':\r\n                    return <JobFilesDisplay job={this.state.job}/>;\r\n                case 'status':\r\n                    return <JobStatusDisplay job={this.state.job}/>;\r\n                case 'dropoff':\r\n                    return <JobDropoffDetail job={this.state.job}/>;\r\n                case 'billing':\r\n                    return <JobBillingDetail job={this.state.job} saveJobCancellation={this.saveJobCancellation}/>;\r\n                default:\r\n                    return <JobDetailCard job={this.state.job}/>;\r\n            }\r\n        };\r\n\r\n        switch (this.props.auth) {\r\n            case null:\r\n                return <div></div>;\r\n            case false:\r\n                return <Redirect to=\"/\"/>;\r\n            default:\r\n                switch (this.state.job) {\r\n                    case null:\r\n                        return <div></div>;\r\n                    default:\r\n                        return (\r\n                            <div>\r\n                                <MediaQuery minWidth={769}>\r\n                                    <Container fluid style={{marginTop: 20, marginBottom: 30}}>\r\n                                        <Row>\r\n                                            <Col xs={12} md={{span: 10, offset: 1}}>\r\n                                                <Paper elevation={0} className='job-detail-breadcrumbs' square={true}>\r\n                                                    <Breadcrumbs separator={<NavigateNextIcon fontSize=\"small\"/>}\r\n                                                                 aria-label=\"Breadcrumb\">\r\n                                                        <Link href=\"#\" onClick={(e) => {\r\n                                                            this.props.history.push('/');\r\n                                                        }} className='job-detail-breadcrumbs-link'>\r\n                                                            Dashboard\r\n                                                        </Link>\r\n                                                        <h4>{this.state.job.vessel.vesselName.toUpperCase()}, {this.state.job.vessel.vesselIMOID}</h4>\r\n                                                    </Breadcrumbs>\r\n                                                </Paper>\r\n                                                <Paper square={true}>\r\n                                                    <Paper className='job-details-ship-title' square={true}>\r\n                                                        <div className='d-flex align-items-center'>\r\n                                                            <h1 className='job-detail-fonts'\r\n                                                                style={{marginBottom: '0px'}}>{this.state.job.vessel.vesselName.toUpperCase()} {this.state.job.vessel.vesselIMOID}</h1>\r\n                                                            <Button variant=\"outlined\"\r\n                                                                    onClick={this.generateInvitationLink}\r\n                                                                    className='job-details-share-button ml-auto'\r\n                                                                    href=\"#\">\r\n                                                                <ShareIcon className='job-detail-share-icon'/>\r\n                                                                Share\r\n                                                            </Button>\r\n                                                        </div>\r\n                                                    </Paper>\r\n                                                    <Paper square={true} className='job-detail-side-bar'>\r\n                                                        <Container fluid>\r\n                                                            <Row className='align-items-stretch'>\r\n                                                                <Col xs={3} className='col-no-padding job-details-menu'>\r\n                                                                    <Paper square={true}\r\n                                                                           className='job-details-menu-paper'\r\n                                                                           elevation={0}>\r\n                                                                        <List disablePadding={true}>\r\n                                                                            <ListItem button key='jobDetails'\r\n                                                                                      onClick={() => {\r\n                                                                                          this.handleDrawerClick('jobDetails')\r\n                                                                                      }}\r\n                                                                                      className={this.state.activeScreen === 'jobDetails' ? 'job-details-nav-active' : 'job-details-nav'}>\r\n                                                                                <ListItemText>Job Details</ListItemText>\r\n                                                                            </ListItem>\r\n                                                                            <ListItem button key='status'\r\n                                                                                      onClick={() => {\r\n                                                                                          this.handleDrawerClick('status')\r\n                                                                                      }}\r\n                                                                                      className={this.state.activeScreen === 'status' ? 'job-details-nav-active' : 'job-details-nav'}>\r\n                                                                                <ListItemText>Status</ListItemText>\r\n                                                                            </ListItem>\r\n                                                                            <ListItem button key='document'\r\n                                                                                      onClick={() => {\r\n                                                                                          this.handleDrawerClick('document')\r\n                                                                                      }}\r\n                                                                                      className={this.state.activeScreen === 'document' ? 'job-details-nav-active' : 'job-details-nav'}>\r\n                                                                                <ListItemText>Document</ListItemText>\r\n                                                                            </ListItem>\r\n                                                                            <ListItem button key='dropoff'\r\n                                                                                      onClick={() => {\r\n                                                                                          this.handleDrawerClick('dropoff')\r\n                                                                                      }}\r\n                                                                                      className={this.state.activeScreen === 'dropoff' ? 'job-details-nav-active' : 'job-details-nav'}>\r\n                                                                                <ListItemText>Drop Off</ListItemText>\r\n                                                                            </ListItem>\r\n                                                                            <ListItem button key='billing'\r\n                                                                                      onClick={() => {\r\n                                                                                          this.handleDrawerClick('billing')\r\n                                                                                      }}\r\n                                                                                      className={this.state.activeScreen === 'billing' ? 'job-details-nav-active' : 'job-details-nav'}>\r\n                                                                                <ListItemText>Billing</ListItemText>\r\n                                                                            </ListItem>\r\n                                                                        </List>\r\n                                                                    </Paper>\r\n                                                                </Col>\r\n                                                                <Col xs={9}\r\n                                                                     className='col-no-padding job-detail-content-border-rad'\r\n                                                                     as={Paper}>\r\n                                                                    {showComponent()}\r\n                                                                </Col>\r\n                                                            </Row>\r\n                                                        </Container>\r\n                                                    </Paper>\r\n                                                </Paper>\r\n\r\n                                                <div>\r\n                                                    <JobShareModal show={this.state.showSharingModal}\r\n                                                                   Close={this.handleShareModalClose}\r\n                                                                   joblinkurl={this.state.jobLink.url}\r\n                                                                   job={this.state.job}\r\n                                                                   copied={this.handleCopy}\r\n                                                    />\r\n                                                    <Snackbar anchorOrigin={{horizontal: 'left', vertical: 'bottom'}}\r\n                                                              open={this.state.copied}\r\n                                                              message={<span\r\n                                                                  id=\"message-id\">Link Has Been Copied</span>}\r\n                                                              action={\r\n                                                                  <IconButton\r\n                                                                      key=\"close\"\r\n                                                                      color=\"inherit\"\r\n                                                                      onClick={this.handleClose}\r\n                                                                  >\r\n                                                                      <CloseIcon/>\r\n                                                                  </IconButton>\r\n                                                              }\r\n                                                              TransitionComponent={this.SlideTransition}\r\n                                                    />\r\n                                                </div>\r\n                                            </Col>\r\n                                        </Row>\r\n                                    </Container>\r\n                                </MediaQuery>\r\n                                <MediaQuery maxWidth={768}>\r\n                                    <Container fluid\r\n                                               style={{ padding: \"5% 8%\", backgroundColor: '#F7F8F7'}}>\r\n                                        <Row>\r\n                                            <Paper elevation={0} square={true}\r\n                                                   className='d-flex align-items-center w-100' style={{backgroundColor: '#F7F8F7'}}>\r\n                                                <Breadcrumbs separator={<NavigateNextIcon fontSize=\"small\"/>}\r\n                                                             aria-label=\"Breadcrumb\">\r\n                                                    <Link href=\"#\" onClick={(e) => {\r\n                                                        this.props.history.push('/');\r\n                                                    }} className='job-detail-breadcrumbs-link'>\r\n                                                        Dashboard\r\n                                                    </Link>\r\n                                                    <h4 className='job-details-ship-title-font'>{this.state.job.vessel.vesselName.toUpperCase()}, {this.state.job.vessel.vesselIMOID}</h4>\r\n                                                </Breadcrumbs>\r\n                                                <div className='ml-auto'>\r\n                                                    <FocusOn enabled={this.props.isPopoverOpen}\r\n                                                             onClickOutside={this.props.handlePopoverClose}\r\n                                                             onEscapeKey={this.props.handlePopoverClose}>\r\n                                                        <Popover\r\n                                                            isOpen={this.props.isPopoverOpen}\r\n                                                            position={'bottom'}\r\n                                                            padding={10}\r\n                                                            containerStyle={{marginTop: '-10px'}}\r\n                                                            windowBorderPadding={15}\r\n                                                            onClickOutside={this.props.handlePopoverClose}\r\n                                                            content={({position, targetRect, popoverRect}) => (\r\n                                                                <ArrowContainer // if you'd like an arrow, you can import the ArrowContainer!\r\n                                                                    position={position}\r\n                                                                    targetRect={targetRect}\r\n                                                                    popoverRect={popoverRect}\r\n                                                                    arrowColor={'#666666'}\r\n                                                                    arrowSize={10}\r\n                                                                    arrowStyle={{opacity: 1}}\r\n                                                                >\r\n                                                                    <div\r\n                                                                        style={{\r\n                                                                            backgroundColor: '#666666',\r\n                                                                            opacity: 1,\r\n                                                                            width: \"80vw\",\r\n                                                                            padding: 16,\r\n                                                                            borderRadius: '5px'\r\n                                                                        }}\r\n                                                                        onClick={this.props.handlePopoverClose}\r\n                                                                    ><span style={{\r\n                                                                        fontFamily: 'Roboto',\r\n                                                                        fontSize: '14px',\r\n                                                                        color: 'white'\r\n                                                                    }}>Click on this button to share the job with\r\n                                                            anyone who is sending items to the same\r\n                                                            vessel!</span>\r\n                                                                    </div>\r\n                                                                </ArrowContainer>\r\n                                                            )}\r\n                                                        >\r\n                                                            <IconButton onClick={this.generateInvitationLink}>\r\n                                                                <ShareIcon\r\n                                                                    className='job-detail-share-icon-button'/>\r\n                                                            </IconButton>\r\n                                                        </Popover>\r\n                                                    </FocusOn>\r\n                                                </div>\r\n                                            </Paper>\r\n                                        </Row>\r\n                                        <Row>\r\n                                            <AntTabs value={this.state.activeScreen} onChange={this.handleChangeTab} variant=\"fullWidth\" centered className='w-100'>\r\n                                                <AntTab label='Job Details' value='jobDetails'/>\r\n                                                <AntTab label='Status' value='status'/>\r\n                                                <AntTab label='Documents' value='document'/>\r\n                                                <AntTab label='Drop-off' value='dropoff'/>\r\n                                                <AntTab label='Billing' value='billing'/>\r\n                                            </AntTabs>\r\n                                        </Row>\r\n                                        <Row>\r\n                                            <Paper square={true} elevation={5} className='w-100'>\r\n                                                {showComponent()}\r\n                                            </Paper>\r\n                                        </Row>\r\n                                        <div>\r\n                                            <JobShareSlide open={this.state.showSharingModal}\r\n                                                           onClose={this.handleShareModalClose}\r\n                                                           joblinkurl={this.state.jobLink.url}\r\n                                                           job={this.state.job}\r\n                                                           inputSelected={this.state.inputSelected}\r\n                                                           handleSelect={this.handleSelect}/>\r\n                                        </div>\r\n                                    </Container>\r\n                                </MediaQuery>\r\n                            </div>\r\n                        );\r\n                }\r\n        }\r\n    }\r\n}\r\n\r\n\r\nconst mapStateToProps = ({auth}) => {\r\n    return {auth};\r\n};\r\n\r\n\r\nexport default withRouter(connect(mapStateToProps)(JobDetails));","import React from \"react\";\r\n\r\nexport default function UserApprovalModal(props) {\r\n  return (\r\n    <React.Fragment>\r\n      <div className=\"modal-dialog\" role=\"document\">\r\n        <div className=\"modal-content\">\r\n          <div className=\"modal-header\">\r\n            <h5 className=\"modal-title\" id=\"exampleModalLabel\">\r\n              User Approval\r\n            </h5>\r\n            <button\r\n              type=\"button\"\r\n              className=\"close\"\r\n              data-dismiss=\"modal\"\r\n              aria-label=\"Close\"\r\n            >\r\n              <span aria-hidden=\"true\">&times;</span>\r\n            </button>\r\n          </div>\r\n          <div className=\"modal-body\">\r\n            Are you sure to {props.status} {props.user} to login?\r\n          </div>\r\n          <div className=\"modal-footer\">\r\n            <button\r\n              type=\"button\"\r\n              className=\"btn btn-secondary\"\r\n              data-dismiss=\"modal\"\r\n            >\r\n              Cancel\r\n            </button>\r\n            <button\r\n              type=\"button\"\r\n              className={`btn btn-${\r\n                props.status === \"disable\" ? \"danger\" : \"primary\"\r\n              }`}\r\n              onClick={() => props.onUpdateIsApprove(props.users)}\r\n              data-dismiss=\"modal\"\r\n            >\r\n              {props.status}\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </React.Fragment>\r\n  );\r\n}\r\n","import React, { Component } from \"react\";\r\nimport { Container } from \"reactstrap\";\r\nimport { Row, Table, Col } from \"reactstrap\";\r\nimport axios from \"axios\";\r\nimport UserApprovalModal from \"./UserApprovalModal\";\r\n\r\nclass UserApproval extends Component {\r\n  state = {\r\n    users: null\r\n  };\r\n\r\n  componentDidMount() {\r\n    axios.get(`/api/users`)\r\n      .then(res => {\r\n        let users = res.data;\r\n        this.setState({ users });\r\n      })\r\n      .catch(err => {\r\n        console.log(err);\r\n      });\r\n  }\r\n\r\n  onUpdateIsApprove = users => {\r\n    console.log(users);\r\n    axios.put(`/api/users`, users).then(\r\n        axios.get(`/api/users`)\r\n        .then(res => {\r\n          let users = res.data;\r\n          this.setState({ users });\r\n        })\r\n        .catch(err => {\r\n          console.log(err);\r\n        })\r\n    );\r\n  };\r\n\r\n  render() {\r\n    switch (this.state.users) {\r\n      case null:\r\n        return <div></div>;\r\n      default:\r\n        const content = Object.keys(this.state.users).map((key, index) => {\r\n          const users = this.state.users[key];\r\n          return (\r\n            <React.Fragment>\r\n              <tr key={index}>\r\n                <td>{users.firstName === \"\" ? \"-\" : users.firstName}</td>\r\n                <td>{users.lastName === \"\" ? \"-\" : users.lastName}</td>\r\n                <td>{users.email === \"\" ? \"-\" : users.email}</td>\r\n                <td>{users.companyName === \"\" ? \"-\" : users.companyName}</td>\r\n                <td>\r\n                  {users.contactNumber === \"\" ? \"-\" : users.contactNumber}\r\n                </td>\r\n                <td>\r\n                  {users.isApproved === true ? \"approved\" : \"not yet approved\"}\r\n                </td>\r\n                <td>\r\n                  <button\r\n                    className={`btn btn-${\r\n                      users.isApproved ? \"danger\" : \"primary\"\r\n                    }`}\r\n                    /* onClick={() => this.onUpdateIsApprove(users) } */\r\n                    data-toggle=\"modal\"\r\n                    data-target={`#approvemodal${users._id}`}\r\n                  >\r\n                    {users.isApproved ? \"disable\" : \"enable\"}\r\n                  </button>\r\n                </td>\r\n              </tr>\r\n              {/* modal approve */}\r\n              <div\r\n                className=\"modal fade\"\r\n                id={`approvemodal${users._id}`}\r\n                tabindex=\"-1\"\r\n                role=\"dialog\"\r\n                aria-labelledby=\"exampleModalLabel\"\r\n                aria-hidden=\"true\"\r\n              >\r\n                <UserApprovalModal\r\n                  user={\r\n                    users.firstName === \"\" ? \"this account\" : users.firstName\r\n                  }\r\n                  status={users.isApproved ? \"disable\" : \"enable\"}\r\n                  onUpdateIsApprove={this.onUpdateIsApprove}\r\n                  users={users}\r\n                />\r\n              </div>\r\n            </React.Fragment>\r\n          );\r\n        });\r\n        return (\r\n          <Container fluid>\r\n            <br />\r\n            <Row>\r\n              <Col cs=\"12\" md={{ size: 12, offset: 0 }} className=\"text-center\">\r\n                <h1>User Approval</h1>\r\n              </Col>\r\n              <Col cs=\"12\" md={{ size: 12, offset: 0 }}>\r\n                <Table striped hover bordered responsive>\r\n                  <tr>\r\n                    <th>First name</th>\r\n                    <th>Last name</th>\r\n                    <th>Email</th>\r\n                    <th>Company</th>\r\n                    <th>Contact</th>\r\n                    <th>Status</th>\r\n                    <th>Action</th>\r\n                  </tr>\r\n                  {content}\r\n                </Table>\r\n              </Col>\r\n            </Row>\r\n          </Container>\r\n        );\r\n    }\r\n  }\r\n}\r\nexport default UserApproval;\r\n","import React, { Component } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport \"./App.css\";\r\nimport { BrowserRouter as Router, Route, Switch } from \"react-router-dom\";\r\n\r\nimport VIP from \"./components/common/PrivateRoute\";\r\nimport ExNavbar from \"./components/layout/ExNavbar\";\r\nimport Footer from \"./components/layout/Footer\";\r\nimport Login from \"./components/auth/Login\";\r\nimport Register from \"./components/auth/Register\";\r\nimport Dashboard from \"./components/Dashboard/Dashboard\";\r\nimport History from \"./components/History/History\";\r\nimport JobAssignment from \"./components/Job/JobAssignment/JobAssignment\";\r\nimport SideMenuSlider from \"./components/SideMenuSlider/SideMenuSlider\";\r\nimport JobDetails from \"./components/Job/JobDetails/JobDetails\";\r\nimport UserApproval from \"./components/UserApproval/UserApproval\";\r\n\r\nclass DynamicImport extends Component {\r\n  state = {\r\n    component: null\r\n  };\r\n\r\n  componentDidMount() {\r\n    this.props.load().then(component => {\r\n      this.setState(() => ({\r\n        component: component.default ? component.default : component\r\n      }));\r\n    });\r\n  }\r\n\r\n  render() {\r\n    return this.props.children(this.state.component);\r\n  }\r\n}\r\nconst MainNavbar = props => (\r\n  <DynamicImport load={() => import(\"./components/layout/MainNavbar.js\")}>\r\n    {Component =>\r\n      Component === null ? <p>Loading</p> : <Component {...props} />\r\n    }\r\n  </DynamicImport>\r\n);\r\nconst Home = props => (\r\n  <DynamicImport load={() => import(\"./components/content/Home.js\")}>\r\n    {Component =>\r\n      Component === null ? <p>Loading</p> : <Component {...props} />\r\n    }\r\n  </DynamicImport>\r\n);\r\nconst Analytics = props => (\r\n  <DynamicImport load={() => import(\"./components/Analytics/Analytics.js\")}>\r\n    {Component =>\r\n      Component === null ? <p>Loading</p> : <Component {...props} />\r\n    }\r\n  </DynamicImport>\r\n);\r\nclass App extends Component {\r\n  state = {\r\n    openMenu: false,\r\n    isPopoverOpen: false\r\n  };\r\n\r\n  handleMenuStateChange = state => {\r\n    this.setState({ openMenu: state.isOpen });\r\n  };\r\n\r\n  handlePopoverOpen = () => {\r\n    this.setState({ isPopoverOpen: true });\r\n  };\r\n\r\n  handleOpenMenu = () => {\r\n    this.setState({ openMenu: true });\r\n  };\r\n\r\n  handleCloseMenu = () => {\r\n    this.setState({ openMenu: false });\r\n  };\r\n\r\n  render() {\r\n    const { isAuthenticated, user } = this.props.auth;\r\n    return (\r\n      <div className=\"App\">\r\n        <Router>\r\n          {isAuthenticated ? (\r\n            <SideMenuSlider\r\n              open={this.state.openMenu}\r\n              handleCloseMenu={this.handleCloseMenu}\r\n              handleMenuStateChange={this.handleMenuStateChange}\r\n              handlePopoverOpen={this.handlePopoverOpen}\r\n            />\r\n          ) : (\r\n            \"\"\r\n          )}\r\n          <Switch>\r\n            {isAuthenticated ? (\r\n              <Route\r\n                exact\r\n                path=\"/\"\r\n                render={props => (\r\n                  <MainNavbar {...props} handleOpenMenu={this.handleOpenMenu} />\r\n                )}\r\n              />\r\n            ) : (\r\n              <Route exact path=\"/\" component={ExNavbar} />\r\n            )}\r\n            <Route\r\n              path=\"/\"\r\n              render={props => (\r\n                <MainNavbar {...props} handleOpenMenu={this.handleOpenMenu} />\r\n              )}\r\n            />\r\n          </Switch>\r\n          <Route exact path=\"/\" component={Home} />\r\n          <div className=\"\">\r\n            <Route exact path=\"/login\" component={Login} />\r\n            <Route exact path=\"/register\" component={Register} />\r\n            <Route exact path=\"/dashboard\" component={Dashboard} />\r\n            <Route exact path=\"/history\" component={History} />\r\n            <Route\r\n              exact\r\n              path=\"/job_details\"\r\n              render={props => (\r\n                <JobDetails\r\n                  {...props}\r\n                  handlePopoverClose={this.handlePopoverClose}\r\n                  isPopoverOpen={this.state.isPopoverOpen}\r\n                />\r\n              )}\r\n            ></Route>\r\n            {user.userType === \"Admin\" ? (\r\n              <React.Fragment>\r\n                <Route path=\"/user_approval\" component={UserApproval} />\r\n                <Route exact path=\"/job_assignment\" component={JobAssignment} />\r\n                <Route path=\"/analytics\" component={Analytics} />\r\n              </React.Fragment>\r\n            ) : null}\r\n          </div>\r\n          <Footer />\r\n        </Router>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n  auth: state.auth\r\n});\r\n\r\nexport default connect(mapStateToProps)(App);\r\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import isEmpty from \"../validation/is-empty\";\r\n\r\nimport { SET_CURRENT_USER } from \"../actions/types\";\r\n\r\nconst initialState = {\r\n  isAuthenticated: false,\r\n  user: {}\r\n};\r\n\r\nexport default function(state = initialState, action) {\r\n  switch (action.type) {\r\n    case SET_CURRENT_USER:\r\n      return {\r\n        ...state,\r\n        isAuthenticated: !isEmpty(action.payload),\r\n        user: action.payload\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n","import { GET_ERRORS } from \"../actions/types\";\r\n\r\nconst initialState = {};\r\n\r\nexport default function(state = initialState, action) {\r\n  switch (action.type) {\r\n    case GET_ERRORS:\r\n      return action.payload;\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n","import { combineReducers } from \"redux\";\r\nimport authReducer from \"./authReducer\";\r\nimport errorReducer from \"./errorReducer\";\r\nexport default combineReducers({\r\n  auth: authReducer,\r\n  errors: errorReducer\r\n});\r\n","import { createStore, applyMiddleware, compose } from \"redux\";\r\nimport thunk from \"redux-thunk\";\r\nimport rootReducer from \"./reducers\";\r\n\r\nconst initialState = {};\r\n\r\nconst middleware = [thunk];\r\n\r\nconst store = createStore(\r\n  rootReducer,\r\n  initialState,\r\n  compose(\r\n    applyMiddleware(...middleware),\r\n    window.__REDUX_DEVTOOLS_EXTENSION__ && window.__REDUX_DEVTOOLS_EXTENSION__()\r\n  )\r\n);\r\n\r\nexport default store;\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport \"./index.css\";\r\nimport App from \"./App\";\r\nimport * as serviceWorker from \"./serviceWorker\";\r\nimport { Provider } from \"react-redux\";\r\nimport store from \"./store\";\r\nimport setAuthToken from \"./utility/setAuthToken\";\r\nimport jwt_decode from \"jwt-decode\";\r\nimport { setCurrentUser, logoutUser } from \"./actions/authAction\";\r\nif (localStorage.jwtToken) {\r\n  // Set auth token header auth\r\n  setAuthToken(localStorage.jwtToken);\r\n  // Decode token and get user info and exp\r\n  const decoded = jwt_decode(localStorage.jwtToken);\r\n  // Set user and isAuthenticated\r\n  store.dispatch(setCurrentUser(decoded));\r\n\r\n  // Check for expired token\r\n  const currentTime = Date.now() / 1000;\r\n  if (decoded.exp < currentTime) {\r\n    // Logout user\r\n    store.dispatch(logoutUser());\r\n    // Redirect to login\r\n    window.location.href = \"/login\";\r\n  }\r\n}\r\nReactDOM.render(\r\n  <Provider store={store}>\r\n    <App />\r\n  </Provider>,\r\n  document.getElementById(\"root\")\r\n);\r\nserviceWorker.unregister();\r\n","export const GET_ERRORS = \"GET_ERRORS\";\r\nexport const SET_CURRENT_USER = \"SET_CURRENT_USER\";\r\nexport const GET_JOBS_DATA = \"GET_JOB_DATA\";\r\n","import axios from \"axios\";\r\nimport setAuthToken from \"../utility/setAuthToken\";\r\nimport jwt_decode from \"jwt-decode\";\r\n\r\nimport { GET_ERRORS, SET_CURRENT_USER } from \"./types\";\r\n\r\n// Register User\r\nexport const registerUser = (userData, history) => dispatch => {\r\n  axios\r\n    .post(\"/api/users/register\", userData)\r\n    .then(res => {\r\n      window.alert(\r\n        `Dear, ${userData.firstName}. Thank you for signing up! Please wait for our confirmation email to gain access to your SimpFleet account. If however, you have something that is time sensitive and wish to reach us, please email us at service@simpfleet.com`\r\n      );\r\n      history.push(\"/login\");\r\n    })\r\n    .catch(err =>\r\n      dispatch({\r\n        type: GET_ERRORS,\r\n        payload: err.response.data\r\n      })\r\n    );\r\n};\r\n\r\n// Login - Get User Token\r\nexport const loginUser = userData => dispatch => {\r\n  axios\r\n    .post(\"/api/users/login\", userData)\r\n    .then(res => {\r\n      // Save to localStorage\r\n      const { token } = res.data;\r\n      // Set token to ls\r\n      localStorage.setItem(\"jwtToken\", token);\r\n\r\n      // Set token to Auth header\r\n      setAuthToken(token);\r\n      // Decode token to get user data\r\n      const decoded = jwt_decode(token);\r\n      // Set current user\r\n      dispatch(setCurrentUser(decoded));\r\n\r\n      window.alert(\"Welcome to SimpFleet Apps. you are logged.\");\r\n      window.location = \"/\";\r\n    })\r\n    .catch(err => {\r\n      dispatch({\r\n        type: GET_ERRORS,\r\n        payload: err.response.data\r\n      });\r\n      if (err.response.data.isApproved) {\r\n        window.alert(\r\n          \"Account not yet Approved. Please check your email or contact us.\"\r\n        );\r\n      }\r\n    });\r\n};\r\n\r\n// Set logged in user\r\nexport const setCurrentUser = decoded => {\r\n  return {\r\n    type: SET_CURRENT_USER,\r\n    payload: decoded\r\n  };\r\n};\r\n\r\n// Log user out\r\nexport const logoutUser = () => dispatch => {\r\n  // Remove token from localStorage\r\n  localStorage.removeItem(\"jwtToken\");\r\n  // Remove auth header for future requests\r\n  setAuthToken(false);\r\n  // Set current user to {} which will set isAuthenticated to false\r\n  dispatch(setCurrentUser({}));\r\n  window.location.href = \"/\";\r\n};\r\n","import axios from \"axios\";\r\n\r\nconst setAuthToken = token => {\r\n  if (token) {\r\n    // Apply to every request\r\n    axios.defaults.headers.common[\"Authorization\"] = `Bearer ${token}`;\r\n  } else {\r\n    // Delete auth header\r\n    delete axios.defaults.headers.common[\"Authorization\"];\r\n  }\r\n};\r\n\r\nexport default setAuthToken;\r\n","import \"./SidebarMenu.css\";\r\nimport React, { Component } from \"react\";\r\nimport { NavLink, withRouter } from \"react-router-dom\";\r\nimport { connect } from \"react-redux\";\r\n\r\nimport Fab from \"@material-ui/core/Fab\";\r\nimport Grid from \"@material-ui/core/Grid\";\r\nimport axios from \"axios\";\r\n\r\nimport CreateJobModal from \"../Job/CreateJobModal\";\r\n\r\nclass SidebarMenu extends Component {\r\n  state = {\r\n    sidebarOpen: true,\r\n    showModal: false,\r\n    showHistory: false\r\n  };\r\n\r\n  componentDidMount() {\r\n    axios\r\n      .get(`/api/jobs?archive_only=true&user_only=true`)\r\n      .then(res => {\r\n        this.setState({\r\n          showHistory: res.data.length >= 1\r\n        });\r\n      })\r\n      .catch(err => {\r\n        console.log(err);\r\n      });\r\n  }\r\n\r\n  handleOpenModal = () => {\r\n    this.setState({ showModal: true });\r\n  };\r\n\r\n  handleCloseModal = () => {\r\n    this.setState({ showModal: false });\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <div id=\"sidebar-body\">\r\n        <Grid container spacing={3}>\r\n          {/* {this.props.auth.user.userType !== \"Admin\" ? (\r\n            <Grid item xs={12} className=\"d-flex justify-content-center\">\r\n              <Fab\r\n                variant=\"extended\"\r\n                size=\"medium\"\r\n                className=\"side-bar-create-job-button\"\r\n                onClick={this.handleOpenModal}\r\n              >\r\n                + Create job\r\n              </Fab>\r\n            </Grid>\r\n          ) : (\r\n            \"\"\r\n          )} */}\r\n          <Grid item xs={12}>\r\n            <NavLink to=\"/\" className=\"sidebar-link\">\r\n              Upcoming Jobs\r\n            </NavLink>\r\n          </Grid>\r\n          <Grid item xs={12}>\r\n            <NavLink to=\"/dashboard\" className=\"sidebar-link\">\r\n              Dashboard\r\n            </NavLink>\r\n          </Grid>\r\n          {this.state.showHistory ? (\r\n            <Grid item xs={12}>\r\n              <NavLink to=\"/history\" className=\"sidebar-link\">\r\n                History\r\n              </NavLink>\r\n            </Grid>\r\n          ) : (\r\n            \"\"\r\n          )}\r\n          {this.props.auth.user.userType === \"Admin\" ? (\r\n            <Grid item xs={12}>\r\n              <NavLink to=\"/job_assignment\" className=\"sidebar-link\">\r\n                Job Assignment\r\n              </NavLink>\r\n            </Grid>\r\n          ) : (\r\n            \"\"\r\n          )}\r\n          {this.props.auth.user.userType === \"Admin\" ? (\r\n            <Grid item xs={12}>\r\n              <NavLink to=\"/analytics\" className=\"sidebar-link\">\r\n                Analytics\r\n              </NavLink>\r\n            </Grid>\r\n          ) : (\r\n            \"\"\r\n          )}\r\n          {this.props.auth.user.userType === \"Admin\" ? (\r\n            <Grid item xs={12}>\r\n              <NavLink to=\"/delivery_schedule\" className=\"sidebar-link\">\r\n                Job Schedule\r\n              </NavLink>\r\n            </Grid>\r\n          ) : (\r\n            \"\"\r\n          )}\r\n          {this.props.auth.user.userType === \"Admin\" ? (\r\n            <Grid item xs={12}>\r\n              <NavLink to=\"/user_approval\" className=\"sidebar-link\">\r\n                User Approval\r\n              </NavLink>\r\n            </Grid>\r\n          ) : (\r\n            \"\"\r\n          )}\r\n        </Grid>\r\n\r\n        <CreateJobModal\r\n          isOpen={this.state.showModal}\r\n          handleCloseModal={this.handleCloseModal}\r\n          fullScreen={false}\r\n        />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = ({ auth }) => {\r\n  return { auth };\r\n};\r\n\r\nexport default withRouter(connect(mapStateToProps)(SidebarMenu));\r\n","import React, {Component} from 'react';\r\nimport axios from 'axios';\r\n\r\nimport Button from '@material-ui/core/Button'\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport DialogActions from '@material-ui/core/DialogActions';\r\nimport DialogContent from '@material-ui/core/DialogContent';\r\nimport DialogTitle from '@material-ui/core/DialogTitle';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport CloseIcon from '@material-ui/icons/Close';\r\nimport InputGroup from 'react-bootstrap/InputGroup'\r\nimport ButtonB from 'react-bootstrap/Button'\r\nimport FormControl from 'react-bootstrap/FormControl'\r\nimport {CopyToClipboard} from 'react-copy-to-clipboard';\r\n\r\nimport TagsInput from 'react-tagsinput';\r\nimport LinesEllipsis from 'react-lines-ellipsis'\r\n\r\nimport 'react-tagsinput/react-tagsinput.css'\r\n\r\nimport './JobShareModal.css';\r\n\r\nimport Snackbar from \"@material-ui/core/Snackbar\";\r\nimport Slide from \"@material-ui/core/Slide\";\r\n\r\nfunction defaultRenderTag(props) {\r\n    let {tag, key, disabled, onRemove, classNameRemove, getTagDisplayValue, ...other} = props\r\n    return (\r\n        <div key={key} {...other}>\r\n            <div style={{maxWidth:400, wordBreak:\"break-all\"}}>\r\n                <LinesEllipsis\r\n                    text={getTagDisplayValue(tag)}\r\n                    maxLine='1'\r\n                    ellipsis='...'\r\n                    trimRight\r\n                    basedOn='letters'\r\n                />\r\n            </div>\r\n            {!disabled &&\r\n            <a className={classNameRemove} onClick={(e) => onRemove(key)}/>\r\n            }\r\n        </div>\r\n    )\r\n}\r\n\r\nclass JobShareModal extends Component {\r\n    // Props: Close=Function to handle close, joburllink=url link string, show=boolean to show modal, job=job object//\r\n    state = {\r\n        copied: false,\r\n        emailList: [],\r\n        message: '',\r\n        emailInputs: '',\r\n        mobileWebShare: false,\r\n        showSuccessSnackBar: false,\r\n    };\r\n\r\n    componentDidMount() {\r\n        // Set whether mobile web share is possible\r\n        this.setState({\r\n            mobileWebShare: navigator.share !== undefined && navigator.share\r\n        });\r\n    }\r\n\r\n    handleMessageChange = (e) => {\r\n        this.setState({message: e.target.value});\r\n    };\r\n\r\n    updateEmailList = (emailList) => {\r\n        this.setState({emailList})\r\n    };\r\n\r\n    handleEmailInputChange = (value) => {\r\n        this.setState({emailInputs: value});\r\n    };\r\n\r\n    handleInputClear = () => {\r\n        this.setState({emailInputs: ''})\r\n    };\r\n\r\n\r\n    //For Mobile Sharing\r\n    webShareJobLink = () => {\r\n        if (this.state.mobileWebShare) {\r\n            navigator.share({\r\n                title: `Job Invitation - ${this.props.job.jobId}`,\r\n                text: `Click this link to join my delivery job to ${this.props.job.vessel.vesselName}`,\r\n                url: this.props.joblinkurl\r\n            })\r\n                .then(() => console.log('Successful share'))\r\n                .catch((error) => console.log('Error sharing', error));\r\n        }\r\n    };\r\n\r\n    sendEmail = () => {\r\n        const emailList = this.state.emailList;\r\n        if (this.state.emailInputs.includes('@')) {\r\n            emailList.push(this.state.emailInputs)\r\n        }\r\n\r\n        for (let i = 0; i < emailList.length; i++) {\r\n            const email = emailList[i];\r\n\r\n            if (email.trim() !== \"\") {\r\n                axios.post('/api/job_links/share', {\r\n                    email,\r\n                    job: this.props.job,\r\n                    message: this.state.message,\r\n                }).then(res => {\r\n                    this.setState({showSuccessSnackBar: true, emailList: [], emailInputs: '', message: ''});\r\n                    window.setTimeout(() => this.setState({showSuccessSnackBar: false}), 5000)\r\n                }).catch(err => {\r\n                    console.log(err);\r\n                });\r\n            }\r\n        }\r\n    };\r\n\r\n    SlideTransition = (props) => {\r\n        return <Slide {...props} direction=\"up\"/>\r\n    };\r\n\r\n    handleSnackBarClose = () => {\r\n        this.setState({showSuccessSnackBar: false})\r\n    };\r\n\r\n\r\n    render() {\r\n        return (\r\n            <div>\r\n                <Dialog open={this.props.show} onClose={this.props.Close} maxWidth=\"sm\" fullWidth={true}>\r\n                    <DialogTitle id=\"alert-dialog-title\" className='job-share-modal-top'>\r\n                        <div className='d-flex align-items-center'>\r\n                            <p className='job-share-modal-title'>{this.props.job.vessel.vesselName.toUpperCase()}, {this.props.job.vessel.vesselIMOID}</p>\r\n                            <IconButton aria-label=\"Close\" className='job-share-modal-close ml-auto'\r\n                                        onClick={this.props.Close}>\r\n                                <CloseIcon/>\r\n                            </IconButton>\r\n                        </div>\r\n                    </DialogTitle>\r\n                    <DialogContent className='job-share-modal-content'>\r\n                        <div className='job-share-modal-copy'>\r\n                            <h6 className='job-share-modal-copy-title'>Do you know anyone sending items\r\n                                to {this.props.job.vessel.vesselName.toUpperCase()}, {this.props.job.vessel.vesselIMOID}?</h6>\r\n                            <InputGroup className='job-share-modal-url'>\r\n                                <FormControl\r\n                                    value={this.props.joblinkurl}\r\n                                    disabled={true}\r\n                                    className='job-share-modal-url-link'\r\n                                />\r\n                                <InputGroup.Append>\r\n                                    <CopyToClipboard text={this.props.joblinkurl}\r\n                                                     onCopy={this.props.copied}\r\n                                    >\r\n                                        {\r\n                                            this.state.mobileWebShare\r\n                                                ? <ButtonB variant=\"outline-secondary\"\r\n                                                           className='job-share-modal-url-link'\r\n                                                           onClick={this.webShareJobLink}>Share</ButtonB>\r\n                                                : <ButtonB variant=\"outline-secondary\"\r\n                                                           className='job-share-modal-url-link'>Copy Link</ButtonB>\r\n                                        }\r\n                                    </CopyToClipboard>\r\n                                </InputGroup.Append>\r\n                            </InputGroup>\r\n                            <p style={{\r\n                                fontFamily: 'Roboto',\r\n                                fontSize: '10px',\r\n                                color: '#707070',\r\n                                marginTop: 5,\r\n                            }}><i>Please ensure that the other party using the link has an account and is logged in\r\n                                before entering the above link.</i></p>\r\n\r\n                        </div>\r\n                        <div className='job-share-modal-email'>\r\n                            <h6 className='job-share-modal-copy-title'>People</h6>\r\n                            <InputGroup>\r\n                                <div style={{width: '100%'}}>\r\n                                    <TagsInput value={this.state.emailList} onChange={this.updateEmailList}\r\n                                               className='form-control job-share-email-inputbox'\r\n                                               onChangeInput={this.handleEmailInputChange}\r\n                                               inputValue={this.state.emailInputs}\r\n                                               inputProps={{\r\n                                                   className: 'react-tagsinput-input job-share-email-input',\r\n                                                   placeholder: 'Please Enter Email Address'\r\n                                               }}\r\n                                               tagProps={{\r\n                                                   className: 'react-tagsinput-tag job-share-email-tag',\r\n                                                   classNameRemove: 'react-tagsinput-remove'\r\n                                               }}\r\n                                               validate={this.validate}\r\n                                               addKeys={[9, 13, 186]}\r\n                                               renderTag={defaultRenderTag}\r\n\r\n                                    />\r\n                                    <p style={{\r\n                                        fontFamily: 'Roboto',\r\n                                        fontSize: '10px',\r\n                                        color: '#707070',\r\n                                        marginBottom: '8px',\r\n                                    }}>for multiple recipients, please use semicolon to separate</p>\r\n                                </div>\r\n                            </InputGroup>\r\n                            <FormControl placeholder='Add a note (Optional)' value={this.state.message} as=\"textarea\"\r\n                                         rows=\"4\" onChange={this.handleMessageChange}\r\n                                         className='job-share-modal-message'/>\r\n                        </div>\r\n                    </DialogContent>\r\n                    <DialogActions className='d-flex justify-content-center job-share-modal-bottom'>\r\n                        <Button onClick={(e) => {\r\n                            if (this.state.emailList.length === 0 && this.state.emailInputs === '') {\r\n                                alert('Email Cannot be Empty!')\r\n                            } else {\r\n                                this.props.Close();\r\n                                this.sendEmail();\r\n                            }\r\n                        }} variant=\"contained\" size=\"large\" className='job-share-modal-button'>\r\n                            Send\r\n                        </Button>\r\n                    </DialogActions>\r\n                </Dialog>\r\n                <Snackbar anchorOrigin={{horizontal: 'left', vertical: 'bottom'}}\r\n                          open={this.state.showSuccessSnackBar}\r\n                          message={<span id=\"message-id\">Message has been sent!</span>}\r\n                          action={\r\n                              <IconButton\r\n                                  key=\"close\"\r\n                                  color=\"inherit\"\r\n                                  onClick={this.handleSnackBarClose}\r\n                              >\r\n                                  <CloseIcon/>\r\n                              </IconButton>\r\n                          }\r\n                          TransitionComponent={this.SlideTransition}\r\n                />\r\n            </div>\r\n        );\r\n    }\r\n\r\n    validate = (tag) => {\r\n        return tag.includes('@')\r\n    }\r\n\r\n}\r\n\r\nexport default JobShareModal;","import React, { Component } from \"react\";\r\nimport axios from \"axios\";\r\n\r\nimport InputGroup from \"react-bootstrap/InputGroup\";\r\nimport ButtonB from \"react-bootstrap/Button\";\r\nimport FormControl from \"react-bootstrap/FormControl\";\r\nimport { CopyToClipboard } from \"react-copy-to-clipboard\";\r\n\r\nimport { Drawer } from \"@material-ui/core\";\r\n\r\nimport \"./JobShareSlide.css\";\r\nimport Divider from \"@material-ui/core/Divider\";\r\nimport Paper from \"@material-ui/core/Paper\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport clsx from \"clsx\";\r\nimport TagsInput from \"react-tagsinput\";\r\n\r\nclass JobShareSlide extends Component {\r\n  state = {\r\n    copied: false,\r\n    emailList: [],\r\n    message: \"\",\r\n    emailInputs: \"\",\r\n    mobileWebShare: false,\r\n    showSuccessSnackBar: false\r\n  };\r\n\r\n  componentDidMount() {\r\n    // Set whether mobile web share is possible\r\n    this.setState({\r\n      mobileWebShare: navigator.share !== undefined && navigator.share\r\n    });\r\n  }\r\n\r\n  handleMessageChange = e => {\r\n    this.setState({ message: e.target.value });\r\n  };\r\n\r\n  updateEmailList = emailList => {\r\n    this.setState({ emailList });\r\n  };\r\n\r\n  handleEmailInputChange = value => {\r\n    this.setState({ emailInputs: value });\r\n  };\r\n\r\n  handleInputClear = () => {\r\n    this.setState({ emailInputs: \"\" });\r\n  };\r\n\r\n  webShareJobLink = () => {\r\n    if (this.state.mobileWebShare) {\r\n      navigator\r\n        .share({\r\n          title: `Job Invitation - ${this.props.job.jobId}`,\r\n          text: `Click this link to join my delivery job to ${this.props.job.vessel.vesselName}`,\r\n          url: this.props.joblinkurl\r\n        })\r\n        .then(() => console.log(\"Successful share\"))\r\n        .catch(error => console.log(\"Error sharing\", error));\r\n    }\r\n  };\r\n\r\n  sendEmail = () => {\r\n    const emailInputs = this.state.emailInputs;\r\n    const emailList = emailInputs.split(\";\");\r\n\r\n    for (let i = 0; i < emailList.length; i++) {\r\n      const email = emailList[i];\r\n\r\n      if (email.trim() !== \"\") {\r\n        axios\r\n          .post(\"/api/job_links/share\", {\r\n            email,\r\n            job: this.props.job\r\n          })\r\n          .catch(err => {\r\n            console.log(err);\r\n          });\r\n      }\r\n    }\r\n  };\r\n\r\n  render() {\r\n    let renderContent;\r\n    if (this.props.inputSelected) {\r\n      renderContent = (\r\n        <div className=\"job-share-modal-copy\">\r\n          <h6 className=\"job-share-modal-copy-title\">Message</h6>\r\n          <FormControl\r\n            placeholder=\"Add a note (Optional)\"\r\n            value={this.state.message}\r\n            as=\"textarea\"\r\n            rows=\"6\"\r\n            onChange={this.handleMessageChange}\r\n            className=\"job-share-modal-message\"\r\n          />\r\n          <Button\r\n            onClick={e => {\r\n              this.props.onClose();\r\n              this.sendEmail();\r\n            }}\r\n            variant=\"contained\"\r\n            size=\"large\"\r\n            className=\"job-share-modal-button\"\r\n            fullWidth\r\n          >\r\n            Send\r\n          </Button>\r\n        </div>\r\n      );\r\n    } else {\r\n      renderContent = (\r\n        <div className=\"job-share-modal-copy\">\r\n          <h6 className=\"job-share-modal-copy-title\">\r\n            Do you know anyone sending items to{\" \"}\r\n            {this.props.job.vessel.vesselName.toUpperCase()},{\" \"}\r\n            {this.props.job.vessel.vesselIMOID}?\r\n          </h6>\r\n          <InputGroup className=\"job-share-modal-url\">\r\n            <FormControl\r\n              onChange={() => {}}\r\n              value={this.props.joblinkurl}\r\n              disabled={true}\r\n              className=\"job-share-modal-url-link\"\r\n            />\r\n            <InputGroup.Append>\r\n              <CopyToClipboard\r\n                text={this.props.joblinkurl}\r\n                onCopy={this.props.copied}\r\n              >\r\n                {this.state.mobileWebShare ? (\r\n                  <ButtonB\r\n                    variant=\"outline-secondary\"\r\n                    className=\"job-share-modal-url-link\"\r\n                    onClick={this.webShareJobLink}\r\n                  >\r\n                    Share\r\n                  </ButtonB>\r\n                ) : (\r\n                  <ButtonB\r\n                    variant=\"outline-secondary\"\r\n                    className=\"job-share-modal-url-link\"\r\n                  >\r\n                    Copy Link\r\n                  </ButtonB>\r\n                )}\r\n              </CopyToClipboard>\r\n            </InputGroup.Append>\r\n          </InputGroup>\r\n        </div>\r\n      );\r\n    }\r\n\r\n    return (\r\n      <Drawer\r\n        anchor=\"bottom\"\r\n        open={this.props.open}\r\n        onClose={this.props.onClose}\r\n        PaperProps={{\r\n          className: clsx(\r\n            \"MuiPaper-root MuiPaper-elevation16 MuiDrawer-paper MuiDrawer-paperAnchorBottom drawer-job-share\",\r\n            this.props.inputSelected && \"full-height-drawer\"\r\n          )\r\n        }}\r\n      >\r\n        <h3 onClick={this.props.onClose} className=\"job-slide-cancel\">\r\n          Cancel\r\n        </h3>\r\n        <Divider className=\"job-share-drawer-divider\" />\r\n        <Paper elevation={0} className=\"job-share-drawer-paper\">\r\n          <div className=\"job-share-modal-email\">\r\n            <h6 className=\"job-share-modal-copy-title\">Send to</h6>\r\n            <InputGroup>\r\n              <div style={{ width: \"100%\" }} onClick={this.props.handleSelect}>\r\n                <TagsInput\r\n                  value={this.state.emailList}\r\n                  onChange={this.updateEmailList}\r\n                  className=\"form-control job-share-email-inputbox\"\r\n                  onChangeInput={this.handleEmailInputChange}\r\n                  inputValue={this.state.emailInputs}\r\n                  inputProps={{\r\n                    className: \"react-tagsinput-input job-share-email-input\",\r\n                    placeholder: \"Please Enter Email Address\"\r\n                  }}\r\n                  tagProps={{\r\n                    className: \"react-tagsinput-tag job-share-email-tag\",\r\n                    classNameRemove: \"react-tagsinput-remove\"\r\n                  }}\r\n                  validate={this.validate}\r\n                  addKeys={[9, 13, 186]}\r\n                />\r\n                <p\r\n                  style={{\r\n                    fontFamily: \"Roboto\",\r\n                    fontSize: \"10px\",\r\n                    color: \"#707070\",\r\n                    marginBottom: \"8px\"\r\n                  }}\r\n                >\r\n                  for multiple recipients, please use semicolon to separate\r\n                </p>\r\n              </div>\r\n            </InputGroup>\r\n          </div>\r\n          {renderContent}\r\n        </Paper>\r\n      </Drawer>\r\n    );\r\n  }\r\n}\r\n\r\nexport default JobShareSlide;\r\n","import 'rc-time-picker/assets/index.css';\r\nimport \"react-datepicker/dist/react-datepicker.css\"\r\nimport 'react-bootstrap-typeahead/css/Typeahead.css';\r\nimport 'react-bootstrap-typeahead/css/Typeahead-bs4.css';\r\nimport \"./CreateJob.css\";\r\nimport React, { Component } from \"react\";\r\nimport { withRouter } from \"react-router-dom\";\r\nimport { connect } from \"react-redux\";\r\nimport { Container, Row, Col, Button } from \"react-bootstrap\";\r\nimport _ from \"lodash\";\r\nimport {Form, FormGroup, Input, Label, FormText} from \"reactstrap\";\r\nimport FormRB from 'react-bootstrap/Form';\r\nimport {Divider, Popover, FormControlLabel, Checkbox} from \"@material-ui/core\";\r\nimport TimePicker from 'rc-time-picker';\r\nimport moment from \"moment\";\r\n/* import JobItemInput from \"./JobDetails/Form/JobItemInput\";\r\nimport DateInputComponent from \"./JobDetails/Form/DateInputComponent\"; */\r\nimport {AsyncTypeahead, Typeahead, Highlighter, TypeaheadMenu} from 'react-bootstrap-typeahead';\r\nimport FormControl from \"@material-ui/core/FormControl\";\r\nimport RadioGroup from \"@material-ui/core/RadioGroup\";\r\nimport FormLabel from \"@material-ui/core/FormLabel\";\r\nimport Radio from \"@material-ui/core/Radio\";\r\n\r\nclass CreateJob extends Component {\r\n  state = {\r\n    jobId: \"\",\r\n    vesselIMOID: \"\",\r\n    vesselName: \"\",\r\n    vesselCallsign: \"\",\r\n    vesselLoadingLocation: \"PSA\",\r\n    vesselArrivalDateTime: new Date().toISOString(),\r\n    uploadedFile: null,\r\n    jobItems: [],\r\n    jobOfflandItems: [],\r\n    careOffParties: [],\r\n    remarks: \"\",\r\n    psaBerthingDateTime: \"\",\r\n    psaUnberthingDateTime: \"\",\r\n    vesselLoadingDateTime: new Date().toISOString(),\r\n    createDSA: false,\r\n    activeStep: 0,\r\n    steps: [\r\n      { title: \"Vessel Information\" },\r\n      { title: \"Vessel Location\" },\r\n      { title: \"Item Details\" },\r\n      { title: \"Confirmation\" }\r\n    ],\r\n    ItemsDeliverAnchorEl: null,\r\n    ItemsOfflandAnchorEl: null,\r\n    job: null,\r\n    vessels: [],\r\n    vesselLighterName: \"\",\r\n    //vesselLighterDateTime: new Date().toISOString(),\r\n    vesselLighterLocation: \"Marina South Wharves\",\r\n    vesselLighterRemarks: \"\",\r\n    otherVesselLocation: \"\",\r\n    submitButtonActive: true,\r\n    isLoading: false,\r\n    vesselQueryResults: [],\r\n    vesselSelected: \"\"\r\n  };\r\n\r\n  componentDidMount() {\r\n  }\r\n\r\n  handleJobIdChange = (e) => {\r\n      this.setState({jobId: e.target.value});\r\n  };\r\n\r\n  handleVesselLoadingLocationChange = (e) => {\r\n      this.setState({vesselLoadingLocation: e.target.value});\r\n  };\r\n\r\n  handleRemarksChange = (e) => {\r\n      this.setState({remarks: e.target.value});\r\n  };\r\n\r\n  handleVesselLighterRemarksChange = (e) => {\r\n      this.setState({vesselLighterRemarks: e.target.value});\r\n  };\r\n\r\n  validateItems = (items) => {\r\n      // Check for empty item entries\r\n      const filteredItems = [];\r\n      for (let i = 0; i < items.length; i++) {\r\n          const item = items[i];\r\n          if (item.quantity !== '' && item.uom !== '') {\r\n              delete item['id'];\r\n              filteredItems.push(item);\r\n          }\r\n      }\r\n      return filteredItems;\r\n  };\r\n\r\n  validateCareOffs = () => {\r\n      // Check for empty care-off entries\r\n      const careOffParties = this.state.careOffParties;\r\n      const filteredCareOffParties = [];\r\n      for (let i = 0; i < careOffParties.length; i++) {\r\n          const careOffParty = careOffParties[i];\r\n          if (careOffParty.companyName !== '' && careOffParty.personName !== '' && careOffParty.contactNumber !== '' && careOffParty.email !== '') {\r\n              delete careOffParty['id'];\r\n              filteredCareOffParties.push(careOffParty);\r\n          }\r\n      }\r\n      return filteredCareOffParties;\r\n  };\r\n\r\n  onSubmit = async (e) => {\r\n      e.preventDefault();\r\n\r\n      // Check for empty item entries\r\n      const filteredItems = this.validateItems(this.state.jobItems);\r\n      const filteredJobOfflandItems = this.validateItems(this.state.jobOfflandItems);\r\n\r\n      // Check for empty care-off entries\r\n      const filteredCareOffParties = this.validateCareOffs();\r\n\r\n      /* if (this.state.vesselQueryResults.length > 1) {\r\n          let vesselSelected = this.state.vesselQueryResults.filter((o) => o.vesselIMOID === this.state.vesselSelected)[0]\r\n          await this.setState({\r\n              vesselIMOID: vesselSelected.vesselIMOID ? vesselSelected.vesselIMOID : '',\r\n              vesselName: vesselSelected ? vesselSelected.vesselName : '',\r\n              vesselCallsign: vesselSelected ? vesselSelected.vesselCallsign : '',\r\n              isLoading: false,\r\n          });\r\n      }\r\n */\r\n      /* if (this.state.vesselIMOID === '' && this.state.vesselCallsign === '') {\r\n          window.alert('Either Vessel IMO or Callsign must be filled');\r\n      } else if (this.state.vesselName === '') {\r\n          window.alert('Vessel Name must be filled');\r\n      } else if (this.state.vesselLoadingLocation !== 'PSA' && (new Date(this.state.vesselLoadingDateTime) - new Date()) < 0) {\r\n          window.alert('Vessel Loading Time cannot be before now')\r\n      } else if (this.state.vesselLoadingDateTime === '') {\r\n          window.alert('Vessel Loading Date and Time must be filled');\r\n      } else if (isNaN(this.state.vesselIMOID) || this.state.vesselIMOID.length !== 7) {\r\n          window.alert('Vessel IMO must contain exactly 7 digits only');\r\n      } else if (filteredItems.length < 1) {\r\n          window.alert('At least one item must be submitted for delivery!');\r\n      } else if (this.state.vesselArrivalDateTime === '') {\r\n          window.alert('Vessel ETA must be filled');\r\n      } else {\r\n          // Disable submit button to prevent duplicate bookings\r\n          this.setState({submitButtonActive: false});\r\n\r\n          // Create job\r\n          axios.post('/api/jobs', {\r\n              jobId: this.state.jobId,\r\n              vesselIMOID: this.state.vesselIMOID,\r\n              vesselCallsign: this.state.vesselCallsign,\r\n              vesselName: this.state.vesselName,\r\n              vesselLoadingLocation: this.state.vesselLoadingLocation,\r\n              vesselArrivalDateTime: this.state.vesselArrivalDateTime,\r\n              jobItems: filteredItems,\r\n              jobOfflandItems: filteredJobOfflandItems,\r\n              careOffParties: filteredCareOffParties,\r\n              remarks: this.state.remarks,\r\n              psaBerthingDateTime: this.state.psaBerthingDateTime,\r\n              psaUnberthingDateTime: this.state.psaUnberthingDateTime,\r\n              vesselLoadingDateTime: this.state.vesselLoadingDateTime,\r\n              createDSA: this.state.createDSA,\r\n              vesselLighterName: this.state.vesselLighterName,\r\n              vesselLighterLocation: this.state.vesselLighterLocation,\r\n              vesselLighterRemarks: this.state.vesselLighterRemarks,\r\n              otherVesselLocation: this.state.otherVesselLocation\r\n          }).then(res => {\r\n              const job = res.data;\r\n\r\n              // Set job tracker to job approved automatically\r\n              axios.post('/api/job_trackers', {\r\n                  index: 2,\r\n                  title: 'Job booking confirmed',\r\n                  description: 'We have confirmed your job booking. Please deliver the items to \\'No. 6 Tuas Ave 6, Singapore 639311\\' at least 24 hours before the vessel arrives.',\r\n                  trackingType: 'Electronic',\r\n                  jobId: job._id\r\n              }).then(res => {\r\n                  axios.post('/api/job_links', {\r\n                      job\r\n                  }).then(res => {\r\n                      this.setState({activeStep: 2, job});\r\n                  }).catch(err => {\r\n                      console.log(err);\r\n                  });\r\n              }).catch(err => {\r\n                  console.log(err);\r\n              });\r\n          }).catch(err => {\r\n              console.log(err);\r\n          });\r\n      } */this.setState({activeStep: 2/* , job */});\r\n  };\r\n\r\n  handleVesselArrivalTimeChange = (value) => {\r\n      this.setState({vesselArrivalDateTime: value.toDate().toISOString()});\r\n  };\r\n\r\n  handleVesselArrivalDateChange = (vesselArrivalDateTime) => {\r\n      this.setState({vesselArrivalDateTime: vesselArrivalDateTime.toISOString()});\r\n  };\r\n\r\n  handleVesselLoadingTimeChange = (value) => {\r\n      this.setState({vesselLoadingDateTime: value.toDate().toISOString()});\r\n  };\r\n\r\n  handleVesselLoadingDateChange = (vesselLoadingDateTime) => {\r\n      this.setState({vesselLoadingDateTime: vesselLoadingDateTime.toISOString()});\r\n  };\r\n\r\n  handleVesselLighterNameChange = (e) => {\r\n      this.setState({vesselLighterName: e.target.value});\r\n  };\r\n\r\n  handleVesselLighterLocationChange = (e) => {\r\n      this.setState({vesselLighterLocation: e.target.value});\r\n  };\r\n\r\n  handleOtherVesselLocationChange = (e) => {\r\n      this.setState({otherVesselLocation: e.target.value});\r\n  };\r\n\r\n  handleDeliverClose = () => {\r\n      this.setState({ItemsDeliverAnchorEl: null})\r\n  };\r\n\r\n  handleOfflandClose = () => {\r\n      this.setState({ItemsOfflandAnchorEl: null})\r\n  };\r\n\r\n  handleCreateDSAChange = (e) => {\r\n      this.setState({createDSA: e.target.checked})\r\n  };\r\n\r\n  handleNextStep = async () => {\r\n      const filteredItems = this.validateItems(this.state.jobItems);\r\n      const filteredJobOfflandItems = this.validateItems(this.state.jobOfflandItems);\r\n\r\n      // Check for empty care-off entries\r\n      const filteredCareOffParties = this.validateCareOffs();\r\n\r\n      const now = new Date();\r\n\r\n      /* if (this.state.vesselIMOID === '' && this.state.vesselCallsign === '') { */\r\n          this.setState({isLoading: true});\r\n          const queryVesselName = this.state.vesselName;\r\n\r\n          try {\r\n              /* const res = await axios.get(`/api/vessels/search?query=${queryVesselName}`); */\r\n              /* const result = res.data;\r\n              if (result.length === 1) {\r\n                  this.setState({\r\n                      vesselIMOID: result[0].vesselIMOID ? result[0].vesselIMOID : '',\r\n                      vesselName: result[0] ? result[0].vesselName : '',\r\n                      vesselCallsign: result[0] ? result[0].vesselCallsign : '',\r\n                      isLoading: false,\r\n                  });\r\n              } else if (result.length > 1) {\r\n                  this.setState({vesselQueryResults: result})\r\n              } else {\r\n                  this.setState({isLoading: false});\r\n                  window.alert(`There is no such Vessel with Name: ${queryVesselName}`)\r\n                  return;\r\n              } */\r\n          } catch (err) {\r\n              console.log(err);\r\n          }/* \r\n      } */\r\n\r\n\r\n      /* if (this.state.vesselName === '') {\r\n          window.alert('Vessel Name must be filled');\r\n      } else if (this.state.vesselLoadingLocation !== 'PSA' && (new Date(this.state.vesselLoadingDateTime) - now.setHours( now.getHours() + 2 )) < 0) {\r\n          window.alert('Vessel Loading Time cannot be 2 hours before Arrival of Vessel')\r\n      } else if (this.state.vesselLoadingDateTime === '') {\r\n          window.alert('Vessel Loading Date and Time must be filled');\r\n      } else if (filteredItems.length < 1) {\r\n          window.alert('At least one item must be submitted for delivery!');\r\n      } else if (this.state.vesselArrivalDateTime === '') {\r\n          window.alert('Vessel ETA must be filled');\r\n      } else if (this.state.vesselLoadingLocation === 'Others' && this.state.otherVesselLocation === '') {\r\n          window.alert('Vessel Loading Location must be filled');\r\n      } else { */\r\n          this.setState({activeStep: 1});\r\n      /* } */\r\n  }; \r\n\r\n  handlePaymentBack = () => {\r\n      this.setState({activeStep: 0});\r\n  };\r\n\r\n  renderText = () => {\r\n      return (\r\n          <div className='d-flex flex-column'>\r\n              <span className='job-create-section-input-label' style={{marginBottom: '0px'}}><strong>I would like SimpFleet to produce DSA(JP LTs) or Entry/Export Permit(PSA) for me</strong></span>\r\n              <span className='job-create-section-label-helper-text'><i>It would cost extra fees if Simpfleet produces the DSA(JP LTs) or Entry/Export Permit(PSA)</i></span>\r\n          </div>);\r\n  };\r\n\r\n  renderJobTimeInfo = () => {\r\n      const vesselLoadingTime = moment(this.state.vesselLoadingDateTime);\r\n      const vesselArrivalTime = moment(this.state.vesselArrivalDateTime);\r\n      switch (this.state.vesselLoadingLocation) {\r\n          case \"PSA\":\r\n              return <div></div>;\r\n          default:\r\n              return (\r\n                  <div>\r\n                      <Row className='job-create-section'>\r\n                          <Col xs={12} sm={9}>\r\n                              <div className='d-flex align-items-center job-create-section-heading'>\r\n                                  <div className='job-create-green-circle'><strong>2</strong></div>\r\n                                  <h1 className='job-create-section-header'>Time</h1>\r\n                              </div>\r\n                              <FormGroup>\r\n                                  <Label className='job-create-section-label'>\r\n                                      {\r\n                                          this.state.vesselLoadingLocation === 'Jurong Port'\r\n                                              ? 'Lighter Loading Date & Time'\r\n                                              : 'Vessel Loading Date & Time'\r\n                                      }\r\n                                  </Label>\r\n                                  <Container fluid style={{paddingRight: \"0px\", paddingLeft: '0px'}}>\r\n                                      <Row>\r\n                                          <Col xs={7}>\r\n                                              {/* <DateInputComponent DateTime={this.state.vesselLoadingDateTime}\r\n                                                                  handleDateChange={this.handleVesselLoadingDateChange}\r\n                                                                  disabled={false}/> */}\r\n                                          </Col>\r\n                                          <Col xs={5}>\r\n                                              <TimePicker\r\n                                                  showSecond={false}\r\n                                                  defaultValue={vesselLoadingTime}\r\n                                                  value={vesselLoadingTime}\r\n                                                  onChange={this.handleVesselLoadingTimeChange}\r\n                                                  allowEmpty={false}\r\n                                                  className='job-create-section-input'\r\n                                              />\r\n                                          </Col></Row></Container>\r\n                              </FormGroup>\r\n                          </Col>\r\n                      </Row>\r\n                      <Divider className='job-create-section-divider'/>\r\n                  </div>\r\n              );\r\n      }\r\n  };\r\n\r\n  _renderMenuItemChildren = (option, props, index) => {\r\n      return [\r\n          <Highlighter key=\"vesselIMOID\" search={props.text}>\r\n              {option.vesselIMOID}\r\n          </Highlighter>,\r\n          <div key=\"vesselName\">\r\n              <small>\r\n                  Vessel Name: {option.vesselName}\r\n              </small>\r\n          </div>,\r\n      ];\r\n  };\r\n\r\n  renderMenu = (results, menuProps) => {\r\n      results.sort((a, b) => a.priority - b.priority);\r\n      // const sortedResults = results.slice(0,8);\r\n      return <TypeaheadMenu {...menuProps} options={results}/>;\r\n  };\r\n\r\n  handleTypeAheadVesselNameChange = (value) => {\r\n      this.setState({\r\n          vesselName: value.trim()\r\n      });\r\n  };\r\n\r\n  handleKeyDown = (e) => {\r\n      if (e.keyCode === 13) {\r\n          const query = e.target.value;\r\n      }\r\n  };\r\n\r\n  handleTypeAheadVesselSelect = (selected) => {\r\n      if (selected[0]) {\r\n          this.setState({\r\n              vesselIMOID: selected[0].vesselIMOID ? selected[0].vesselIMOID : '',\r\n              vesselName: selected[0] ? selected[0].vesselName : '',\r\n              vesselCallsign: selected[0] ? selected[0].vesselCallsign : ''\r\n          });\r\n      } else {\r\n          this.setState({\r\n              vesselIMOID: '',\r\n              vesselName: '',\r\n              vesselCallsign: ''\r\n          });\r\n      }\r\n  };\r\n\r\n  handleVesselSelectChange = (event) => {\r\n      this.setState({vesselSelected: event.target.value});\r\n  };\r\n\r\n  filter = (option, props) => {\r\n      let text = props.text.toLowerCase();\r\n      if (option.vesselCallsign.toLowerCase().indexOf(text) !== -1 ||\r\n          option.vesselIMOID.toLowerCase().indexOf(text) !== -1 ||\r\n          option.vesselName.toLowerCase().indexOf(text) !== -1) {\r\n          option.priority = 1;\r\n          return true\r\n      }\r\n      let textArr = text.split(' ');\r\n      let res = false;\r\n      for (let i = 0; i < textArr.length; i++) {\r\n          const o = textArr[i];\r\n          if (o.length >= 3 && (option.vesselCallsign.toLowerCase().split(' ').includes(o) ||\r\n              option.vesselIMOID.toLowerCase().split(' ').includes(o) ||\r\n              option.vesselName.toLowerCase().split(' ').includes(o))) {\r\n              option.priority = 2;\r\n              res = true;\r\n              break;\r\n          }\r\n      }\r\n      return res\r\n  };\r\n\r\n  renderJobInfo = () => {\r\n      const openDeliver = Boolean(this.state.ItemsDeliverAnchorEl);\r\n      let jobItemText = this.state.jobItems.reduce((a, item) => {\r\n          a.push(item.quantity.toString().concat(' '.concat(item.uom)));\r\n          return a;\r\n      }, []);\r\n      const openOffland = Boolean(this.state.ItemsOfflandAnchorEl);\r\n      let jobOfflandItemsText = this.state.jobOfflandItems.reduce((a, item) => {\r\n          a.push(item.quantity.toString().concat(' '.concat(item.uom)));\r\n          return a;\r\n      }, []);\r\n      return (\r\n          <div>\r\n              <Row className='job-create-section'>\r\n                  <Col xs={12} sm={9}>\r\n                      <div className='d-flex align-items-center job-create-section-heading'>\r\n                          <div className='job-create-green-circle'><strong>1</strong></div>\r\n                          <h1 className='job-create-section-header'>Vessel Information</h1>\r\n                      </div>\r\n\r\n                      <FormGroup>\r\n                          <Label className='job-create-section-label'>Job Number</Label>\r\n                          <Input type=\"text\" onChange={this.handleJobIdChange} value={this.state.jobId}\r\n                                 placeholder='Enter Job Number' className='job-create-section-input'/>\r\n                          <FormText color=\"red\" className=\"job-create-section-formtext\">* If left blank, Job Number\r\n                              will be auto-generated.</FormText>\r\n                      </FormGroup>\r\n\r\n                      <FormGroup>\r\n                          <Label className='job-create-section-label'>Vessel Loading Location</Label>\r\n                          <Input type=\"select\" value={this.state.vesselLoadingLocation}\r\n                                 onChange={this.handleVesselLoadingLocationChange}\r\n                                 className='job-create-section-input'>\r\n                              <option>PSA</option>\r\n                              <option>Jurong Port</option>\r\n                              <option>Others</option>\r\n                          </Input>\r\n                          {\r\n                              this.state.vesselLoadingLocation === 'PSA'\r\n                                  ?\r\n                                  <FormText color=\"red\" className=\"job-create-section-formtext\">* For PSA deliveries,\r\n                                      please note that delivery time will be based on the closest upcoming vessel\r\n                                      berth.</FormText>\r\n                                  : ''\r\n                          }\r\n                          <FormText color=\"red\" className=\"job-create-section-formtext\">* 'Jurong Port' here refers to\r\n                              the JP Lighterage Terminals. For Jurong Port, please select 'Others'.</FormText>\r\n                      </FormGroup>\r\n\r\n                      {\r\n                          this.state.vesselLoadingLocation === 'Others'\r\n                              ? <FormGroup>\r\n                                  <Label className='job-create-section-label'>Address of Vessel Loading Location</Label>\r\n                                  <Input type=\"text\" value={this.state.otherVesselLocation}\r\n                                         onChange={this.handleOtherVesselLocationChange}\r\n                                         className='job-create-section-input'\r\n                                         required\r\n                                  >\r\n                                  </Input>\r\n                              </FormGroup>\r\n                              : ''\r\n                      }\r\n\r\n                      <FormGroup>\r\n                          <Label className='job-create-section-label'>Vessel Name</Label>\r\n                          <Typeahead id='vesselNameInput'\r\n                                     renderMenuItemChildren={this._renderMenuItemChildren}\r\n                                     renderMenu={this.renderMenu}\r\n                                     labelKey=\"vesselName\"\r\n                                     options={this.state.vessels}\r\n                                     placeholder=\"Enter Vessel Name\"\r\n                                     maxResults={1000}\r\n                                     paginate={false}\r\n                                     minLength={3}\r\n                                     onInputChange={this.handleTypeAheadVesselNameChange}\r\n                                     onChange={(selected) => {\r\n                                         this.handleTypeAheadVesselSelect(selected);\r\n                                     }}\r\n                                     inputProps={{className: 'job-create-section-input margin-bottom-zero'}}\r\n                                     filterBy={this.filter}\r\n                                     emptyLabel={false}\r\n                          />\r\n                          <span className='job-create-section-label-helper-text'><i>If vessel is not listed, it is okay to just submit the form.</i></span>\r\n                      </FormGroup>\r\n\r\n                      {\r\n                          this.state.vesselIMOID !== ''\r\n                              ? <FormGroup>\r\n                                  <Label className='job-create-section-label'>Vessel IMO</Label>\r\n                                  <Input type=\"text\" className='job-create-section-input' value={this.state.vesselIMOID}\r\n                                         disabled/>\r\n                              </FormGroup> : ''\r\n                      }\r\n\r\n                      {\r\n                          this.state.vesselCallsign !== ''\r\n                              ? <FormGroup>\r\n                                  <Label className='job-create-section-label'>Vessel Callsign</Label>\r\n                                  <Input type=\"text\" className='job-create-section-input'\r\n                                         value={this.state.vesselCallsign} disabled/>\r\n                              </FormGroup> : ''\r\n                      }\r\n\r\n                      {this.state.vesselLoadingLocation === 'Jurong Port'\r\n                          ? <div>\r\n                              <FormGroup style={{marginBottom: '0px'}}>\r\n                                  <Label className='job-create-section-label'>Lighter Name\r\n                                      (Optional)</Label>\r\n                                  <Input type=\"text\"\r\n                                         onChange={this.handleVesselLighterNameChange}\r\n                                         value={this.state.vesselLighterName}\r\n                                         className='job-create-section-input'\r\n                                         placeholder='Enter Lighter Name'/>\r\n                              </FormGroup>\r\n                              <FormGroup>\r\n                                  <Label className='job-create-section-label'>Lighter Location</Label>\r\n                                  <Input type=\"select\" value={this.state.vesselLighterLocation}\r\n                                         onChange={this.handleVesselLighterLocationChange}\r\n                                         className='job-create-section-input'>\r\n                                      <option>Marina South Wharves</option>\r\n                                      <option>Penjuru Terminal</option>\r\n                                  </Input>\r\n                              </FormGroup>\r\n                              <FormGroup>\r\n                                  <Label className='job-create-section-label'>Lighter Contact Remarks\r\n                                      (Optional)</Label>\r\n                                  <Input type=\"textarea\" value={this.state.vesselLighterRemarks} rows=\"3\"\r\n                                         className='job-create-section-input'\r\n                                         style={{marginBottom: 0}}\r\n                                         onChange={this.handleVesselLighterRemarksChange}/>\r\n                                  <span className='job-create-section-label-helper-text'><i>Please enter contact details for lighter here</i></span>\r\n                              </FormGroup>\r\n                          </div>\r\n                          : ''\r\n                      }\r\n                  </Col>\r\n              </Row>\r\n              <Divider className='job-create-section-divider'/>\r\n\r\n              {this.renderJobTimeInfo()}\r\n\r\n              <Row className='job-create-section'>\r\n                  <Col xs={12} sm={9}>\r\n                      <div className='d-flex align-items-center job-create-section-heading'>\r\n                          <div className='job-create-green-circle'>\r\n                              <strong>{this.state.vesselLoadingLocation === 'PSA' ? '2' : '3'}</strong></div>\r\n                          <h1 className='job-create-section-header'>Delivery Details</h1>\r\n                      </div>\r\n                      <FormRB.Group>\r\n                          <FormRB.Label className='job-create-section-label'>Items to\r\n                              Deliver</FormRB.Label>\r\n                          <FormRB.Control as=\"input\"\r\n                                          value={jobItemText.join(', ')}\r\n                                          onClick={(e) => {\r\n                                              this.setState({ItemsDeliverAnchorEl: e.currentTarget})\r\n                                          }}\r\n                                          style={{marginBottom: 0}}\r\n                                          className='job-create-section-input' onChange={() => {\r\n                          }}>\r\n                          </FormRB.Control>\r\n                          <span className='job-create-section-label-helper-text'><i>* Please let us know if you have any refrigeration, fragile, dangerous or over-sized items in the remarks</i></span>\r\n                          <br/>\r\n                          <span className='job-create-section-label-helper-text'><i>* Please let us know whether blue bin needs to be provided in the remarks</i></span>\r\n                          <br/>\r\n                          <span className='job-create-section-label-helper-text' style={{color: 'red'}}><i>* We have a standard sizing, please refer to our Terms of Services</i></span>\r\n                          <Popover\r\n                              open={openDeliver}\r\n                              anchorEl={this.state.ItemsDeliverAnchorEl}\r\n                              onClose={this.handleDeliverClose}\r\n                              anchorOrigin={{\r\n                                  vertical: 'bottom',\r\n                                  horizontal: 'left',\r\n                              }}\r\n                              transformOrigin={{\r\n                                  vertical: 'top',\r\n                                  horizontal: 'left',\r\n                              }}\r\n                          >\r\n                              {/* <JobItemInput jobItems={this.state.jobItems}\r\n                                            job={this.state.job}\r\n                                            setItems={(jobItems) => this.setState({jobItems})}\r\n                                            disabled={false}\r\n                                            type={\"delivery\"}\r\n                              /> */}\r\n\r\n                          </Popover>\r\n                      </FormRB.Group>\r\n\r\n                      <FormRB.Group>\r\n                          <FormRB.Label className='job-create-section-label'>Items to\r\n                              Offland (Optional)</FormRB.Label>\r\n                          <FormRB.Control as=\"input\"\r\n                                          value={jobOfflandItemsText.join(', ')}\r\n                                          onClick={(e) => {\r\n                                              this.setState({ItemsOfflandAnchorEl: e.currentTarget})\r\n                                          }}\r\n                                          className='job-create-section-input' onChange={() => {\r\n                          }}>\r\n                          </FormRB.Control>\r\n                          <Popover\r\n                              open={openOffland}\r\n                              anchorEl={this.state.ItemsOfflandAnchorEl}\r\n                              onClose={this.handleOfflandClose}\r\n                              anchorOrigin={{\r\n                                  vertical: 'bottom',\r\n                                  horizontal: 'left',\r\n                              }}\r\n                              transformOrigin={{\r\n                                  vertical: 'top',\r\n                                  horizontal: 'left',\r\n                              }}\r\n                          >\r\n                              {/* <JobItemInput jobItems={this.state.jobOfflandItems}\r\n                                            job={this.state.job}\r\n                                            setItems={(jobOfflandItems) => this.setState({jobOfflandItems})}\r\n                                            disabled={false}\r\n                                            type={\"Offland\"}\r\n                              /> */}\r\n                          </Popover>\r\n                      </FormRB.Group>\r\n                      <FormGroup>\r\n                          <Label className='job-create-section-label'>Remarks (Optional)</Label>\r\n                          <Input type=\"textarea\" value={this.state.remarks} rows=\"7\"\r\n                                 className='job-create-section-input margin-bottom-zero'\r\n                                 onChange={this.handleRemarksChange}/>\r\n                          <span className='job-create-section-label-helper-text'><i>* If you require pickup, please input address in the remarks.</i></span>\r\n                      </FormGroup>\r\n                      <FormControlLabel\r\n                          value=\"dsa\"\r\n                          control={<Checkbox color=\"default\" checked={this.state.createDSA}\r\n                                             className='create-dsa-checkbox'/>}\r\n                          onChange={this.handleCreateDSAChange}\r\n                          label={this.renderText()}\r\n                      />\r\n                  </Col>\r\n              </Row>\r\n              <Row className='job-create-section-action'>\r\n                  <Col xs={12}>\r\n                      <div className='d-flex align-items-center justify-content-center'>\r\n                          <Button variant='success' className='job-create-submit-btn'\r\n                                  onClick={this.handleNextStep}>Submit</Button>\r\n                          <Button variant='outline-success' className='job-create-cancel-btn'\r\n                                  onClick={this.props.handleCloseModal}>Cancel</Button>\r\n\r\n                      </div>\r\n                  </Col>\r\n              </Row>\r\n          </div>\r\n\r\n      );\r\n  };\r\n\r\n  renderJobPayment = () => {\r\n      if (this.state.vesselQueryResults.length > 1) {\r\n          return (\r\n              <div>\r\n                  <Row className='job-create-section full-height'>\r\n                      <Col>\r\n                          <div className='d-flex align-items-center job-create-section-heading-price'>\r\n                              <h1 className='job-create-section-header-price'>Confirm Booking?</h1>\r\n                          </div>\r\n                          <div>\r\n                              <FormControl component=\"fieldset\">\r\n                                  <FormLabel component=\"legend\" className='job-create-section-label'\r\n                                             style={{paddingTop: 10, paddingBottom: 10}}>Please Select a\r\n                                      Vessel:</FormLabel>\r\n                                  <RadioGroup\r\n                                      value={this.state.vesselSelected}\r\n                                      onChange={this.handleVesselSelectChange}\r\n                                  >\r\n                                      {this.state.vesselQueryResults.map((obj, index) => {\r\n                                          return (\r\n                                              <FormControlLabel key={index} value={obj.vesselIMOID} control={<Radio/>}\r\n                                                                label={`${obj.vesselName}, ${obj.vesselIMOID}`}/>\r\n                                          );\r\n                                      })}\r\n                                  </RadioGroup>\r\n                              </FormControl>\r\n                          </div>\r\n                          <div className='d-flex align-items-center justify-content-center'\r\n                               style={{marginTop: \"20px\"}}>\r\n                              <Button disabled={!this.state.submitButtonActive} variant='success'\r\n                                      className='job-create-submit-btn'\r\n                                      type=\"submit\">Yes</Button>\r\n                              <Button variant='outline-success' className='job-create-cancel-btn'\r\n                                      onClick={this.props.handleCloseModal}>No</Button>\r\n                          </div>\r\n                      </Col>\r\n                  </Row>\r\n              </div>\r\n          );\r\n      } else {\r\n          return (\r\n              <div>\r\n                  <Row className='job-create-section full-height'>\r\n                      <Col>\r\n                          <div className='d-flex align-items-center job-create-section-heading-price'>\r\n                              <h1 className='job-create-section-header-price'>Confirm Booking?</h1>\r\n                          </div>\r\n\r\n                          <div className='d-flex align-items-center justify-content-center'\r\n                               style={{marginTop: \"20px\"}}>\r\n                              <Button disabled={!this.state.submitButtonActive} variant='success'\r\n                                      className='job-create-submit-btn'\r\n                                      type=\"submit\">Yes</Button>\r\n                              <Button variant='outline-success' className='job-create-cancel-btn'\r\n                                      onClick={this.props.handleCloseModal}>No</Button>\r\n                          </div>\r\n                      </Col>\r\n                  </Row>\r\n              </div>\r\n          );\r\n      }\r\n      // return (<div>\r\n      //     <Row className='job-create-section full-height'>\r\n      //         <Col>\r\n      //             <div className='d-flex align-items-center job-create-section-heading-price'>\r\n      //                 <h1 className='job-create-section-header-price'>Price</h1>\r\n      //             </div>\r\n      //             <JobCreatePriceTable tableHeading=\"Items to Deliver\" jobItems={this.state.jobItems}/>\r\n      //             <br/>\r\n      //             {\r\n      //                 this.state.jobOfflandItems.length > 0\r\n      //                     ?\r\n      //                     <JobCreatePriceTable tableHeading=\"Items to Offland\" jobItems={this.state.jobOfflandItems}/>\r\n      //                     : ''\r\n      //             }\r\n      //             <div className='d-flex align-items-center justify-content-center' style={{marginTop: \"20px\"}}>\r\n      //                 <Button variant='success' className='job-create-submit-btn'\r\n      //                         type=\"submit\">Submit</Button>\r\n      //                 <Button variant='outline-success' className='job-create-cancel-btn'\r\n      //                         onClick={this.props.handleCloseModal}>Cancel</Button>\r\n      //             </div>\r\n      //         </Col>\r\n      //     </Row>\r\n      // </div>)\r\n  };\r\n\r\n  renderSuccess = () => {\r\n      return (\r\n          <Row className='job-create-section-success'>\r\n              <Col>\r\n                  <div\r\n                      className='d-flex align-items-center justify-content-center flex-column job-create-section-heading-price'>\r\n                      <svg className=\"checkmark\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 52 52\">\r\n                          <circle className=\"checkmark__circle\" cx=\"26\" cy=\"26\" r=\"25\" fill=\"none\"/>\r\n                          <path className=\"checkmark__check\" fill=\"none\" d=\"M14.1 27.2l7.1 7.2 16.7-16.8\"/>\r\n                      </svg>\r\n                      <p className='job-create-success-text text-center'>You have successfully booked a job with\r\n                          Simpfleet.</p>\r\n                      <Button variant='success' className='job-create-details-btn' onClick={() => {\r\n                          /* this.props.history.push(`/job_details?job=${this.state.job.index}`); */\r\n                          if (this.props.mobile) {\r\n                              this.props.handlePopoverOpen();\r\n                              this.props.handleCloseModal();\r\n                              this.props.handleCloseMenu();\r\n                          }\r\n                          ;\r\n                      }}>View your job details</Button>\r\n                  </div>\r\n              </Col>\r\n          </Row>\r\n      );\r\n  };\r\n\r\n  renderForm = () => {\r\n      let formDisplay;\r\n      if (this.state.activeStep === 0) {\r\n          formDisplay = this.renderJobInfo();\r\n      } else if (this.state.activeStep === 1) {\r\n          formDisplay = this.renderJobPayment();\r\n      } else if (this.state.activeStep === 2) {\r\n          formDisplay = this.renderSuccess();\r\n      }\r\n\r\n      return (\r\n          <Form onSubmit={this.onSubmit} style={{height: \"100%\"}}>\r\n              {formDisplay}\r\n          </Form>\r\n      );\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <Container fluid style={{ height: \"100%\" }}>\r\n        <Row style={{ height: \"100%\" }}>\r\n          <Col xs={12}> {this.renderForm()} </Col>\r\n        </Row>\r\n      </Container>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = ({ auth }) => {\r\n  return { auth };\r\n};\r\n\r\nexport default withRouter(connect(mapStateToProps)(CreateJob));\r\n","import \"./CreateJobModal.css\";\r\nimport React, { Component } from \"react\";\r\n\r\nimport Dialog from \"@material-ui/core/Dialog\";\r\nimport DialogContent from \"@material-ui/core/DialogContent\";\r\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\r\nimport IconButton from \"@material-ui/core/IconButton\";\r\nimport CloseIcon from \"@material-ui/icons/Close\";\r\nimport CreateJob from \"./CreateJob\";\r\n\r\nexport default class CreateJobModal extends Component {\r\n  render() {\r\n    return (\r\n      <div className=\"job-create-modal\">\r\n        <Dialog\r\n          open={this.props.isOpen}\r\n          onClose={this.props.handleCloseModal}\r\n          maxWidth=\"sm\"\r\n          fullWidth={true}\r\n          fullScreen={this.props.fullScreen}\r\n        >\r\n          <DialogTitle id=\"alert-dialog-title\" className=\"job-share-modal-top\">\r\n            <div className=\"d-flex align-items-center\">\r\n              <p className=\"job-share-modal-title\">Job Booking</p>\r\n              <IconButton\r\n                aria-label=\"Close\"\r\n                className=\"job-share-modal-close ml-auto\"\r\n                onClick={this.props.handleCloseModal}\r\n              >\r\n                <CloseIcon />\r\n              </IconButton>\r\n            </div>\r\n          </DialogTitle>\r\n          <DialogContent className=\"job-create-modal-content\">\r\n            <CreateJob\r\n              handleCloseModal={this.props.handleCloseModal}\r\n              handlePopoverOpen={this.props.handlePopoverOpen}\r\n              handleCloseMenu={this.props.handleCloseMenu}\r\n              mobile={this.props.fullScreen}\r\n            />\r\n          </DialogContent>\r\n        </Dialog>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import React, { Component } from \"react\";\r\nimport { registerUser } from \"../../../../actions/authAction\";\r\nimport \"./regForm.css\";\r\nimport { withRouter } from \"react-router\";\r\nimport { connect } from \"react-redux\";\r\nimport PropTypes from \"prop-types\";\r\nimport Container from \"@material-ui/core/Container\";\r\nimport Grid from \"@material-ui/core/Grid\";\r\nimport TextField from \"@material-ui/core/TextField\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\n\r\nclass RegForm extends Component {\r\n  constructor() {\r\n    super();\r\n    this.state = {\r\n      firstName: \"\",\r\n      lastName: \"\",\r\n      cantactNumber: \"\",\r\n      email: \"\",\r\n      companyName: \"\",\r\n      password: \"\",\r\n      password2: \"\",\r\n      showSignUpSuccessModal: false,\r\n      errors: {}\r\n    };\r\n\r\n    this.onChange = this.onChange.bind(this);\r\n    this.onSubmit = this.onSubmit.bind(this);\r\n  }\r\n\r\n  componentWillReceiveProps(nextProps) {\r\n    if (nextProps.errors) {\r\n      this.setState({ errors: nextProps.errors });\r\n    }\r\n  }\r\n\r\n  onChange(e) {\r\n    this.setState({ [e.target.name]: e.target.value });\r\n  }\r\n\r\n  onSubmit(e) {\r\n    e.preventDefault();\r\n    const newUser = {\r\n      firstName: this.state.firstName,\r\n      lastName: this.state.lastName,\r\n      contactNumber: this.state.contactNumber,\r\n      email: this.state.email,\r\n      companyName: this.state.companyName,\r\n      password: this.state.password,\r\n      password2: this.state.password2\r\n    };\r\n    this.props.registerUser(newUser, this.props.history);\r\n  }\r\n  render() {\r\n    const { errors } = this.state;\r\n    return (\r\n      <Container>\r\n        <form onSubmit={this.onSubmit}>\r\n          <Grid container spacing={2}>\r\n            <Grid item xs={12}>\r\n              <h3 className=\"text-center signup-title\">\r\n                Sign up with SimpFleet\r\n              </h3>\r\n              <h5 className=\"text-center signup-subtitle\">\r\n                Get started with us by signing up\r\n              </h5>\r\n            </Grid>\r\n            <Grid item xs={12} sm={6}>\r\n              <TextField\r\n                //autoComplete=\"given-name\"\r\n                name=\"firstName\"\r\n                variant=\"outlined\"\r\n                fullWidth\r\n                id=\"given-name\"\r\n                label=\"First Name\"\r\n                autoFocus\r\n                onChange={this.onChange}\r\n                value={this.state.firstName}\r\n                required\r\n              />\r\n              <Typography\r\n                variant=\"caption\"\r\n                display=\"block\"\r\n                style={{ color: \"red\" }}\r\n              >\r\n                {errors.firstName}\r\n              </Typography>\r\n            </Grid>\r\n\r\n            <Grid item xs={12} sm={6}>\r\n              <TextField\r\n                variant=\"outlined\"\r\n                fullWidth\r\n                id=\"family-name\"\r\n                label=\"Last Name\"\r\n                name=\"lastName\"\r\n                //autoComplete=\"family-name\"\r\n                onChange={this.onChange}\r\n                value={this.state.lastName}\r\n                required\r\n              />\r\n              <Typography\r\n                variant=\"caption\"\r\n                display=\"block\"\r\n                style={{ color: \"red\" }}\r\n              >\r\n                {errors.lastName}\r\n              </Typography>\r\n            </Grid>\r\n            <Grid item xs={12}>\r\n              <TextField\r\n                variant=\"outlined\"\r\n                fullWidth\r\n                id=\"phone-signup\"\r\n                label=\"Contact Number\"\r\n                name=\"contactNumber\"\r\n                //autoComplete=\"tel\"\r\n                onChange={this.onChange}\r\n                value={this.state.contactNumber}\r\n                required\r\n              />\r\n              <Typography\r\n                variant=\"caption\"\r\n                display=\"block\"\r\n                style={{ color: \"red\" }}\r\n              >\r\n                {errors.contactNumber}\r\n              </Typography>\r\n            </Grid>\r\n\r\n            <Grid item xs={12}>\r\n              <TextField\r\n                variant=\"outlined\"\r\n                fullWidth\r\n                id=\"email-signup\"\r\n                label=\"Email Address\"\r\n                name=\"email\"\r\n                // autoComplete=\"email\"\r\n                type=\"email\"\r\n                value={this.state.email}\r\n                onChange={this.onChange}\r\n                required\r\n              />\r\n              <Typography\r\n                variant=\"caption\"\r\n                display=\"block\"\r\n                style={{ color: \"red\" }}\r\n              >\r\n                {errors.email}\r\n              </Typography>\r\n            </Grid>\r\n            <Grid item xs={12}>\r\n              <TextField\r\n                variant=\"outlined\"\r\n                fullWidth\r\n                id=\"companyName\"\r\n                label=\"Company Name\"\r\n                name=\"companyName\"\r\n                onChange={this.onChange}\r\n                value={this.state.companyName}\r\n                required\r\n              />\r\n              <Typography\r\n                variant=\"caption\"\r\n                display=\"block\"\r\n                style={{ color: \"red\" }}\r\n              >\r\n                {errors.companyName}\r\n              </Typography>\r\n            </Grid>\r\n            <Grid item xs={12}>\r\n              <TextField\r\n                variant=\"outlined\"\r\n                fullWidth\r\n                name=\"password\"\r\n                label=\"Password\"\r\n                type=\"password\"\r\n                id=\"password\"\r\n                //autoComplete=\"current-password\"\r\n                onChange={this.onChange}\r\n                value={this.state.password}\r\n                required\r\n              />\r\n              <Typography\r\n                variant=\"caption\"\r\n                display=\"block\"\r\n                style={{ color: \"red\" }}\r\n              >\r\n                {errors.password}\r\n              </Typography>\r\n            </Grid>\r\n            <Grid item xs={12}>\r\n              <TextField\r\n                variant=\"outlined\"\r\n                fullWidth\r\n                name=\"password2\"\r\n                label=\"Confirm Password\"\r\n                type=\"password\"\r\n                id=\"confirmPassword\"\r\n                //autoComplete=\"current-password\"\r\n                onChange={this.onChange}\r\n                value={this.state.password2}\r\n                required\r\n              />\r\n              <Typography\r\n                variant=\"caption\"\r\n                display=\"block\"\r\n                style={{ color: \"red\" }}\r\n              >\r\n                {errors.password2}\r\n              </Typography>\r\n            </Grid>\r\n            <Grid item xs={12}>\r\n              <Button\r\n                type=\"submit\"\r\n                fullWidth\r\n                className=\"hover\"\r\n                variant=\"contained\"\r\n                color=\"primary\"\r\n              >\r\n                SIGN UP NOW\r\n              </Button>\r\n            </Grid>\r\n          </Grid>\r\n\r\n          {/*<Button color=\"primary\" onClick={() => {\r\n              this.setState({ showSignUpSuccessModal: true })\r\n          }}>\r\n          Open alert dialog\r\n      </Button>*/}\r\n        </form>\r\n      </Container>\r\n    );\r\n  }\r\n}\r\nRegForm.propTypes = {\r\n  registerUser: PropTypes.func.isRequired,\r\n  auth: PropTypes.object.isRequired,\r\n  errors: PropTypes.object.isRequired\r\n};\r\n\r\nconst mapStateToProps = state => ({\r\n  auth: state.auth,\r\n  errors: state.errors\r\n});\r\n\r\nexport default withRouter(\r\n  connect(\r\n    mapStateToProps,\r\n    { registerUser }\r\n  )(RegForm)\r\n);\r\n","const isEmpty = value =>\r\n  value === undefined ||\r\n  value === null ||\r\n  (typeof value === \"object\" && Object.keys(value).length === 0) ||\r\n  (typeof value === \"string\" && value.trim().length === 0);\r\n\r\nmodule.exports = isEmpty;\r\n"],"sourceRoot":""}