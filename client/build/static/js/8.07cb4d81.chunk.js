(window.webpackJsonpclient=window.webpackJsonpclient||[]).push([[8],{1417:function(e,t,a){"use strict";a.r(t);var n=a(12),l=a(10),r=a(15),o=a(16),c=a(17),u=a(0),i=a.n(u),s=a(7),m=a(20),d=a.n(m),h=function(e){function t(){return Object(n.a)(this,t),Object(r.a)(this,Object(o.a)(t).apply(this,arguments))}return Object(c.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props.jobMonthCategory;switch(e){case null:return i.a.createElement("div",null);default:var t=Object.keys(e).map(function(t,a){for(var n=e[t],l=0,r=0,o=0,c=0,u=[],s=[],m=[],d=0;d<n.length;d++){var h=n[d];if("Confirmed"===h.isCancelled)u.push(h);else{6===h.jobTrackers.length?m.push(h):s.push(h);var g=h.jobItems,b=h.jobOfflandItems;if(g&&g.length>0){o++;for(var p=0;p<g.length;p++){l+=g[p].quantity}}if(b&&b.length>0){c++;for(var E=0;E<b.length;E++){r+=b[E].quantity}}}}return i.a.createElement("tr",{key:a},i.a.createElement("td",null,t),i.a.createElement("td",null,n.length),i.a.createElement("td",{style:{color:"red"}},u.length),i.a.createElement("td",null,s.length),i.a.createElement("td",null,m.length),i.a.createElement("td",null,l),i.a.createElement("td",null,0===l?"0":(l/o).toFixed(2)),i.a.createElement("td",null,r),i.a.createElement("td",null,0===r?"0":(r/c).toFixed(2)))});return i.a.createElement(s.v,null,i.a.createElement(s.f,{cs:"12",md:{size:12,offset:0},className:"text-center"},i.a.createElement("h1",null,"Job breakdown by month")),i.a.createElement(s.f,{cs:"12",md:{size:12,offset:0}},i.a.createElement(s.w,{striped:!0,hover:!0,bordered:!0,responsive:!0},i.a.createElement("thead",null,i.a.createElement("tr",{style:{backgroundColor:"#49AE4B",color:"white",textAlign:"center"}},i.a.createElement("th",null,"Month"),i.a.createElement("th",null,"Total jobs"),i.a.createElement("th",{style:{color:"red"}},"Cancelled jobs"),i.a.createElement("th",null,"Ongoing jobs"),i.a.createElement("th",null,"Completed jobs"),i.a.createElement("th",null,"No. of Pallets (Delivery)"),i.a.createElement("th",null,"Avg No. of Pallets per Delivery"),i.a.createElement("th",null,"No. of Pallets (Offland)"),i.a.createElement("th",null,"Avg No. of Pallets per Offland"))),i.a.createElement("tbody",null,t))))}}}]),t}(u.Component),g=function(e){function t(){return Object(n.a)(this,t),Object(r.a)(this,Object(o.a)(t).apply(this,arguments))}return Object(c.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props.jobDeliveryCategory;switch(e){case null:return i.a.createElement("div",null);default:var t=0,a=0,n=0,l=0,r=[],o=[],c=[],u=[],m=[],d=[],h=Object.keys(e).map(function(s,h){var g=e[s],b=0,p=0,E=[],f=[],y=[];if("PSA"===s||"Jurong Port"===s){for(var v=0;v<g.length;v++){var j=g[v];if("Confirmed"===j.isCancelled)E.push(j),r.push(j);else{6===j.jobTrackers.length?(y.push(j),c.push(j)):(f.push(j),o.push(j));var D=j.jobItems,k=j.jobOfflandItems;if(D&&D.length>0)for(var C=0;C<D.length;C++){var O=D[C];b+=O.quantity,n+=O.quantity}if(k&&k.length>0)for(var w=0;w<k.length;w++){var B=k[w];p+=B.quantity,l+=B.quantity}}}return i.a.createElement("tr",{key:h},i.a.createElement("td",null,s),i.a.createElement("td",null,b),i.a.createElement("td",null,p),i.a.createElement("td",null,f.length),i.a.createElement("td",null,y.length),i.a.createElement("td",{style:{color:"red"}},E.length),i.a.createElement("td",null,g.length))}if("PSA"!==s||"Jurong Port"!==s)for(var A=0;A<g.length;A++){var q=g[A];if("Confirmed"===q.isCancelled)u.push(q);else{6===q.jobTrackers.length?d.push(q):m.push(q);var T=q.jobItems,S=q.jobOfflandItems;if(T&&T.length>0)for(var I=0;I<T.length;I++){var J=T[I];t+=J.quantity}if(S&&S.length>0)for(var N=0;N<S.length;N++){var P=S[N];a+=P.quantity}}}});return i.a.createElement(s.v,null,i.a.createElement(s.f,{cs:"12",md:{size:12,offset:0},className:"text-center"},i.a.createElement("h1",null,"Job breakdown by Delivery Locations")),i.a.createElement(s.f,{cs:"12",md:{size:12,offset:0}},i.a.createElement(s.w,{striped:!0,hover:!0,bordered:!0,responsive:!0},i.a.createElement("thead",null,i.a.createElement("tr",{style:{backgroundColor:"#49AE4B",color:"white",textAlign:"center"}},i.a.createElement("th",null,"Delivery Location"),i.a.createElement("th",null,"No. of Pallets (Delivery)"),i.a.createElement("th",null,"No. of Pallets (Offland)"),i.a.createElement("th",null,"Ongoing Jobs"),i.a.createElement("th",null,"Completed Jobs"),i.a.createElement("th",{style:{color:"red"}},"Cancelled Jobs"),i.a.createElement("th",null,"Total Jobs"))),i.a.createElement("tbody",null,h,i.a.createElement("tr",null,i.a.createElement("td",null,"Others"),i.a.createElement("td",null,t),i.a.createElement("td",null,a),i.a.createElement("td",null,m.length),i.a.createElement("td",null,d.length),i.a.createElement("td",{style:{color:"red"}},u.length),i.a.createElement("td",null,m.length+d.length+u.length))),i.a.createElement("br",null),i.a.createElement("tfoot",null,i.a.createElement("tr",null,i.a.createElement("th",null,"Total"),i.a.createElement("th",null,t+n," Pallets"),i.a.createElement("th",null,a+l," Pallets"),i.a.createElement("th",null,m.length+o.length," Jobs"),i.a.createElement("th",null,d.length+c.length," ","Jobs"),i.a.createElement("th",{style:{color:"red"}},u.length+r.length," ","jobs"),i.a.createElement("th",null,m.length+d.length+u.length+(o.length+c.length+r.length)," ","Jobs"))))))}}}]),t}(u.Component),b=function(e){function t(){return Object(n.a)(this,t),Object(r.a)(this,Object(o.a)(t).apply(this,arguments))}return Object(c.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props,t=e.jobVesselsCategory,a=e.Vessel;switch(t&&a){case null:return i.a.createElement("div",null);default:var n=[],l=0,r=[],o=[],c=[],u=0,m=0,d=0;a.map(function(e){Object.keys(t).map(function(a,u){var i=t[a],s=[],m=[],d=[];if(a===e._id){for(var h=0;h<i.length;h++){var g=i[h];"confirmed"===g.isCancelled?(s.push(g),r.push(g)):6===g.jobTrackers.length?(d.push(g),c.push(g)):(m.push(g),o.push(g))}var b={id:"".concat(l++),vessel:"".concat(e.vesselName),vesselIMO:"".concat(e.vesselIMOID),vesselCallsign:"".concat(e.vesselCallsign),ongoing:"".concat(m.length),completed:"".concat(d.length),cancelled:"".concat(s.length),total:"".concat(m.length+d.length+s.length)};n.push(b)}})});n.sort(function(e,t){return t.total-e.total});var h=n.map(function(e,t){if(t<50)return i.a.createElement("tr",{key:e.id},i.a.createElement("td",null,e.vessel?e.vessel:"-"),i.a.createElement("td",null,e.vesselIMO),i.a.createElement("td",null,e.vesselCallsign?e.vesselCallsign:"-"),i.a.createElement("td",null,e.ongoing),i.a.createElement("td",null,e.completed),i.a.createElement("td",{style:{color:"red"}},e.cancelled),i.a.createElement("td",null,e.total));m+=parseInt(e.ongoing),d+=parseInt(e.completed),u+=parseInt(e.cancelled)});return i.a.createElement(s.v,null,i.a.createElement(s.f,{cs:"12",md:{size:12,offset:0},className:"text-center"},i.a.createElement("h1",null,"Job breakdown by Vessels")),i.a.createElement(s.f,{cs:"12",md:{size:12,offset:0}},i.a.createElement(s.w,{striped:!0,hover:!0,bordered:!0,responsive:!0},i.a.createElement("thead",null,i.a.createElement("tr",{style:{backgroundColor:"#49AE4B",color:"white",textAlign:"center"}},i.a.createElement("th",null,"Vessels Name"),i.a.createElement("th",null,"Vessels IMO"),i.a.createElement("th",null,"Vessels Callsign"),i.a.createElement("th",null,"Ongoing Jobs"),i.a.createElement("th",null,"Completed Jobs"),i.a.createElement("th",null,"Cancelled Jobs"),i.a.createElement("th",null,"Total Jobs"))),i.a.createElement("tbody",null,h,i.a.createElement("tr",null,i.a.createElement("td",null,"Others"),i.a.createElement("td",null),i.a.createElement("td",null),i.a.createElement("td",null,m),i.a.createElement("td",null,d),i.a.createElement("td",{style:{color:"red"}},u),i.a.createElement("td",null,m+d+u))),i.a.createElement("br",null),i.a.createElement("tfoot",null,i.a.createElement("tr",null,i.a.createElement("th",{colSpan:"3"},"Total"),i.a.createElement("th",null,o.length," Jobs"),i.a.createElement("th",null,c.length," Jobs"),i.a.createElement("th",{style:{color:"red"}},r.length," jobs"),i.a.createElement("th",null,o.length+c.length+r.length," ","Jobs"))))))}}}]),t}(u.Component),p=function(e){function t(){return Object(n.a)(this,t),Object(r.a)(this,Object(o.a)(t).apply(this,arguments))}return Object(c.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props,t=e.jobCompaniesCategory,a=e.Company;switch(t&&a){case null:return i.a.createElement("div",null);default:var n=[],l=0,r=[],o=[],c=[],u=[],m=[],d=[],h=[];Object.keys(a).map(function(e,i){var s=a[e][0].name,g=[],b=[],p=[],E=[],f=[],y=[],v=[],j=(Object.keys(t).map(function(a,n){var l=t[a];if(e===a)for(var i=0;i<l.length;i++){var s=l[i];void 0!==s.vesselLoadingLocation&&null!==s.vesselLoadingLocation&&void 0!==s.vesselLoadingLocation.name&&null!==s.vesselLoadingLocation.name&&("PSA"===s.vesselLoadingLocation.name?(E.push(s),u.push(s)):"Jurong Port"===s.vesselLoadingLocation.name?(f.push(s),m.push(s)):"Shipyard"===s.vesselLoadingLocation.name?(y.push(s),d.push(s)):(v.push(s),h.push(s))),"Confirmed"===s.isCancelled?(g.push(s),r.push(s)):6===s.jobTrackers.length?(p.push(s),c.push(s)):(b.push(s),o.push(s))}}),{id:"".concat(l++),company:"".concat(s),ongoing:"".concat(b.length),completed:"".concat(p.length),cancelled:"".concat(g.length),total:"".concat(b.length+p.length+g.length),psa:"".concat(E.length),jp:"".concat(f.length),shipyard:"".concat(y.length),others:"".concat(v.length)});n.push(j)});n.sort(function(e,t){return t.total-e.total});var g=n.map(function(e){return i.a.createElement("tr",{key:e.id},i.a.createElement("td",null,e.company),i.a.createElement("td",null,e.ongoing),i.a.createElement("td",null,e.completed),i.a.createElement("td",{style:{color:"red"}},e.cancelled),i.a.createElement("td",null,e.total),i.a.createElement("td",null,e.psa),i.a.createElement("td",null,e.jp),i.a.createElement("td",null,e.shipyard),i.a.createElement("td",null,e.others))});return i.a.createElement(s.v,null,i.a.createElement(s.f,{cs:"12",md:{size:12,offset:0},className:"text-center"},i.a.createElement("h1",null,"Job breakdown by Companies")),i.a.createElement(s.f,{cs:"12",md:{size:12,offset:0}},i.a.createElement(s.w,{striped:!0,hover:!0,bordered:!0,responsive:!0},i.a.createElement("thead",{style:{backgroundColor:"#49AE4B",color:"white",textAlign:"center"}},i.a.createElement("tr",null,i.a.createElement("th",{rowSpan:"2",style:{verticalAlign:"middle"}},"Companies"),i.a.createElement("th",{rowSpan:"2",style:{verticalAlign:"middle"}},"Ongoing Jobs"),i.a.createElement("th",{rowSpan:"2",style:{verticalAlign:"middle"}},"Completed Jobs"),i.a.createElement("th",{style:{color:"red",verticalAlign:"middle"},rowSpan:"2"},"Cancelled Jobs"),i.a.createElement("th",{rowSpan:"2",style:{verticalAlign:"middle"}},"Total Jobs"),i.a.createElement("th",{colSpan:"4"},"Delivery Location")),i.a.createElement("tr",null,i.a.createElement("th",null,"PSA Port"),i.a.createElement("th",null,"Jurong Port-LT"),i.a.createElement("th",null,"Shipyard"),i.a.createElement("th",null,"Others"))),i.a.createElement("tbody",null,g),i.a.createElement("br",null),i.a.createElement("tfoot",null,i.a.createElement("tr",null,i.a.createElement("th",null,"Total"),i.a.createElement("th",null,o.length," Jobs"),i.a.createElement("th",null,c.length," Jobs"),i.a.createElement("th",{style:{color:"red"}},r.length," Jobs"),i.a.createElement("th",null,o.length+c.length+r.length," ","Jobs"),i.a.createElement("th",null,u.length," Jobs"),i.a.createElement("th",null,m.length," Jobs"),i.a.createElement("th",null,d.length," Jobs"),i.a.createElement("th",null,h.length," Jobs"))))))}}}]),t}(u.Component),E=a(1307),f=function(e){function t(){return Object(n.a)(this,t),Object(r.a)(this,Object(o.a)(t).apply(this,arguments))}return Object(c.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props,t=e.jobMonthAnalys,a=e.jobDeliveryCategory;switch(t&&a){case null:return i.a.createElement("div",null);default:var n=[],l=[],r=[],o=[],c=[],u=[],m=[],d=[],h=[],g=(Object.keys(t).map(function(e,t){var i=0,s=0,g=0,b=0,p=[],E=[],f=[],y=[];Object.keys(a).map(function(t){var n=a[t];if("PSA"===t)for(var l=0;l<n.length;l++){var r=n[l];if(e==="".concat(new Date(r.jobBookingDateTime).getMonth()+1,"/").concat(new Date(r.jobBookingDateTime).getFullYear())&&0!==r.jobItems.length&&"Confirmed"!==r.isCancelled){for(var o=0;o<r.jobItems.length;o++)i+=r.jobItems[o].quantity;p.push(r)}}else if("Jurong Port"===t)for(var c=0;c<n.length;c++){var u=n[c];if(e==="".concat(new Date(u.jobBookingDateTime).getMonth()+1,"/").concat(new Date(u.jobBookingDateTime).getFullYear())&&0!==u.jobItems.length&&"Confirmed"!==u.isCancelled){for(var m=0;m<u.jobItems.length;m++)s+=u.jobItems[m].quantity;E.push(u)}}else if("Shipyard"===t)for(var d=0;d<n.length;d++){var h=n[d];if(e==="".concat(new Date(h.jobBookingDateTime).getMonth()+1,"/").concat(new Date(h.jobBookingDateTime).getFullYear())&&0!==h.jobItems.length&&"Confirmed"!==h.isCancelled){for(var v=0;v<h.jobItems.length;v++)g+=h.jobItems[v].quantity;f.push(h)}}else for(var j=0;j<n.length;j++){var D=n[j];if(e==="".concat(new Date(D.jobBookingDateTime).getMonth()+1,"/").concat(new Date(D.jobBookingDateTime).getFullYear())&&0!==D.jobItems.length&&"Confirmed"!==D.isCancelled){for(var k=0;k<D.jobItems.length;k++)b+=D.jobItems[k].quantity;y.push(D)}}});"1/"==="".concat(e.charAt(0)).concat(e.charAt(1))?n.push("Jan"):"2/"===String("".concat(e.charAt(0)).concat(e.charAt(1)))?n.push("Feb"):"3/"===String("".concat(e.charAt(0)).concat(e.charAt(1)))?n.push("Mar"):"4/"===String("".concat(e.charAt(0)).concat(e.charAt(1)))?n.push("Apr"):"5/"===String("".concat(e.charAt(0)).concat(e.charAt(1)))?n.push("May"):"6/"===String("".concat(e.charAt(0)).concat(e.charAt(1)))?n.push("Jun"):"7/"===String("".concat(e.charAt(0)).concat(e.charAt(1)))?n.push("Jul"):"8/"===String("".concat(e.charAt(0)).concat(e.charAt(1)))?n.push("Aug"):"9/"===String("".concat(e.charAt(0)).concat(e.charAt(1)))?n.push("Sep"):"10"===String("".concat(e.charAt(0)).concat(e.charAt(1)))?n.push("Oct"):"11"===String("".concat(e.charAt(0)).concat(e.charAt(1)))?n.push("Nov"):"12"===String("".concat(e.charAt(0)).concat(e.charAt(1)))&&n.push("Dec"),u.push(i),m.push(s),d.push(g),h.push(b),l.push(p.length),r.push(E.length),o.push(f.length),c.push(y.length)}),{labels:n,datasets:[{label:"PSA Port",stack:"Stack 0",data:l,backgroundColor:"rgb(161, 217, 180)"},{label:"JP-LT",stack:"Stack 0",data:r,backgroundColor:"rgb(28, 201, 140)"},{label:"Shipyard",stack:"Stack 0",data:o,backgroundColor:"rgb(13, 140, 100)"},{label:"Others",stack:"Stack 0",data:c,backgroundColor:"rgb(10, 92, 60)"}]}),b={labels:n,datasets:[{label:"PSA Port",stack:"Stack 0",data:l,backgroundColor:"rgb(161, 217, 180)"},{label:"JP-LT",stack:"Stack 0",data:r,backgroundColor:"rgb(28, 201, 140)"},{label:"Shipyard",stack:"Stack 0",data:o,backgroundColor:"rgb(13, 140, 100)"},{label:"Others",stack:"Stack 0",data:c,backgroundColor:"rgb(10, 92, 60)"}]};return i.a.createElement(s.v,{style:{marginBottom:"15px"}},i.a.createElement(s.f,{cs:"6",md:{size:6,offset:0}},i.a.createElement(s.b,null,i.a.createElement(s.c,null,i.a.createElement(s.e,{style:{textDecoration:"bold"}},"No Of Deliveries"),i.a.createElement(s.d,null,i.a.createElement(E.a,{data:g,options:{legend:{display:!0,position:"bottom"},scales:{yAxes:[{ticks:{callback:function(e,t,a){return e+" Deliveries"},beginAtZero:!0}}]}}}))))),i.a.createElement(s.f,{cs:"6",md:{size:6,offset:0}},i.a.createElement(s.b,null,i.a.createElement(s.c,null,i.a.createElement(s.e,null,"No Of Items"),i.a.createElement(s.d,null,i.a.createElement(E.a,{data:b,options:{legend:{display:!0,position:"bottom"},scales:{yAxes:[{ticks:{callback:function(e,t,a){return e+" Items"},beginAtZero:!0}}]}}}))))))}}}]),t}(u.Component),y=function(e){function t(){return Object(n.a)(this,t),Object(r.a)(this,Object(o.a)(t).apply(this,arguments))}return Object(c.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props,t=e.WeeksData,a=e.Company;switch(t){case null:return i.a.createElement("div",null);default:var n=Object.keys(t).map(function(e,n){for(var l=t[e],r=[],o=0,c=0,u=0,s=0,m=0,d=0,h=0,g=0,b=0,p=0,E=0,f=0,y=0,v=0,j=0,D=0,k=0,C=0,O=0,w=0,B=0,A=0,q=0,T=0,S=0,I=0,J=0,N=0,P=0,L=0,M=0,F=0,x=0,Y=[],z=[],V=[],_=[],W=[],Z=[],$=[],U=function(e){var t=l[e];if("Confirmed"===t.isCancelled)Y.push(t);else if(6===t.jobTrackers.length?V.push(t):z.push(t),"PSA"===t.vesselLoadingLocation){_.push(t);var n=t.jobItems,i=t.jobOfflandItems;if(n&&n.length>0)for(var U=0;U<n.length;U++){var G=n[U];"Pallet"===G.uom?(p++,c+=G.quantity,o+=G.price,C+=G.quantity):"Bundle"===G.uom?(E++,u+=G.quantity,o+=G.price,O+=G.quantity):"Carton"===G.uom?(f++,s+=G.quantity,o+=G.price,w+=G.quantity):"Bluebin"===G.uom&&(y++,m+=G.quantity,o+=G.price,B+=G.quantity)}if(i&&i.length>0)for(var H=0;H<i.length;H++){var K=i[H];"Pallet"===K.uom?(v++,d+=K.quantity,o+=K.price,C+=K.quantity):"Bundle"===K.uom?(j++,h+=K.quantity,o+=K.price,O+=K.quantity):"Carton"===K.uom?(D++,g+=K.quantity,o+=K.price,w+=K.quantity):"Bluebin"===K.uom&&(k++,b+=K.quantity,o+=K.price,B+=K.quantity)}}else if("Jurong Port"===t.vesselLoadingLocation){W.push(t);var Q=t.jobItems,R=t.jobOfflandItems;if(Q&&Q.length>0)for(var X=0;X<Q.length;X++){var ee=Q[X];"Pallet"===ee.uom?(p++,c+=ee.quantity,o+=ee.price,A+=ee.quantity):"Bundle"===ee.uom?(E++,u+=ee.quantity,o+=ee.price,q+=ee.quantity):"Carton"===ee.uom?(f++,s+=ee.quantity,o+=ee.price,T+=ee.quantity):"Bluebin"===ee.uom&&(y++,m+=ee.quantity,o+=ee.price,S+=ee.quantity)}if(R&&R.length>0)for(var te=0;te<R.length;te++){var ae=R[te];"Pallet"===ae.uom?(v++,d+=ae.quantity,o+=ae.price,A+=ae.quantity):"Bundle"===ae.uom?(j++,h+=ae.quantity,o+=ae.price,q+=ae.quantity):"Carton"===ae.uom?(D++,g+=ae.quantity,o+=ae.price,T+=ae.quantity):"Bluebin"===ae.uom&&(k++,b+=ae.quantity,o+=ae.price,S+=ae.quantity)}}else if("Shipyard"===t.vesselLoadingLocation){Z.push(t);var ne=t.jobItems,le=t.jobOfflandItems;if(ne&&ne.length>0)for(var re=0;re<ne.length;re++){var oe=ne[re];"Pallet"===oe.uom?(p++,c+=oe.quantity,o+=oe.price,I+=oe.quantity):"Bundle"===oe.uom?(E++,u+=oe.quantity,o+=oe.price,J+=oe.quantity):"Carton"===oe.uom?(f++,s+=oe.quantity,o+=oe.price,N+=oe.quantity):"Bluebin"===oe.uom&&(y++,m+=oe.quantity,o+=oe.price,P+=oe.quantity)}if(le&&le.length>0)for(var ce=0;ce<le.length;ce++){var ue=le[ce];"Pallet"===ue.uom?(v++,d+=ue.quantity,o+=ue.price,I+=ue.quantity):"Bundle"===ue.uom?(j++,h+=ue.quantity,o+=ue.price,J+=ue.quantity):"Carton"===ue.uom?(D++,g+=ue.quantity,o+=ue.price,N+=ue.quantity):"Bluebin"===ue.uom&&(k++,b+=ue.quantity,o+=ue.price,P+=ue.quantity)}}else{$.push(t);var ie=t.jobItems,se=t.jobOfflandItems;if(ie&&ie.length>0)for(var me=0;me<ie.length;me++){var de=ie[me];"Pallet"===de.uom?(p++,c+=de.quantity,o+=de.price,L+=de.quantity):"Bundle"===de.uom?(E++,u+=de.quantity,o+=de.price,M+=de.quantity):"Carton"===de.uom?(f++,s+=de.quantity,o+=de.price,F+=de.quantity):"Bluebin"===de.uom&&(y++,m+=de.quantity,o+=de.price,x+=de.quantity)}if(se&&se.length>0)for(var he=0;he<se.length;he++){var ge=se[he];"Pallet"===ge.uom?(v++,d+=ge.quantity,o+=ge.price,L+=ge.quantity):"Bundle"===ge.uom?(j++,h+=ge.quantity,o+=ge.price,M+=ge.quantity):"Carton"===ge.uom?(D++,g+=ge.quantity,o+=ge.price,F+=ge.quantity):"Bluebin"===ge.uom&&(k++,b+=ge.quantity,o+=ge.price,x+=ge.quantity)}}if(null!==t.user.userCompany)Object.keys(a).map(function(e,n){var l=a[e][0].name;if(t.user.userCompany===e){var o=r[l];o||(o=[],r[l]=o),o.push(t)}})},G=0;G<l.length;G++)U(G);r.sort(function(e,t){return e.length-t.length});var H=Object.keys(r);return i.a.createElement("tr",{key:n},i.a.createElement("td",null,e),i.a.createElement("td",null,H[0]),i.a.createElement("td",null,z.length),i.a.createElement("td",null,Y.length),i.a.createElement("td",null,V.length),i.a.createElement("td",null,z.length+Y.length+V.length),i.a.createElement("td",null,c),i.a.createElement("td",null,0===c?"0":(c/p).toFixed(2)),i.a.createElement("td",null,u),i.a.createElement("td",null,0===u?"0":(u/E).toFixed(2)),i.a.createElement("td",null,s),i.a.createElement("td",null,0===s?"0":(s/f).toFixed(2)),i.a.createElement("td",null,m),i.a.createElement("td",null,0===m?"0":(m/y).toFixed(2)),i.a.createElement("td",null,d),i.a.createElement("td",null,0===d?"0":(d/v).toFixed(2)),i.a.createElement("td",null,h),i.a.createElement("td",null,0===h?"0":(h/j).toFixed(2)),i.a.createElement("td",null,g),i.a.createElement("td",null,0===g?"0":(g/D).toFixed(2)),i.a.createElement("td",null,b),i.a.createElement("td",null,0===b?"0":(b/k).toFixed(2)),i.a.createElement("td",null,_.length),i.a.createElement("td",null,C),i.a.createElement("td",null,O),i.a.createElement("td",null,w),i.a.createElement("td",null,B),i.a.createElement("td",null,W.length),i.a.createElement("td",null,A),i.a.createElement("td",null,q),i.a.createElement("td",null,T),i.a.createElement("td",null,S),i.a.createElement("td",null,Z.length),i.a.createElement("td",null,I),i.a.createElement("td",null,J),i.a.createElement("td",null,N),i.a.createElement("td",null,P),i.a.createElement("td",null,$.length),i.a.createElement("td",null,L),i.a.createElement("td",null,M),i.a.createElement("td",null,F),i.a.createElement("td",null,x),i.a.createElement("td",null,i.a.createElement("i",null,"$ ",o,".")))});return i.a.createElement(s.v,null,i.a.createElement(s.f,null,i.a.createElement(s.w,{striped:!0,bordered:!0,responsive:!0,size:"sm",style:{minWidth:"7100px"}},i.a.createElement("thead",{style:{backgroundColor:"#49AE4B",color:"white",textAlign:"center"}},i.a.createElement("tr",null,i.a.createElement("td",{rowSpan:"2",style:{verticalAlign:"middle"}},"Week"),i.a.createElement("td",{rowSpan:"2",style:{verticalAlign:"middle"}},"Top Client"),i.a.createElement("td",{rowSpan:"2",style:{verticalAlign:"middle"}},"Ongoing Jobs"),i.a.createElement("td",{rowSpan:"2",style:{color:"red",verticalAlign:"middle"}},"Cancelled Jobs"),i.a.createElement("td",{rowSpan:"2",style:{verticalAlign:"middle"}},"Completed Jobs"),i.a.createElement("td",{rowSpan:"2",style:{verticalAlign:"middle"}},"Total Jobs"),i.a.createElement("td",{colSpan:"8"},"Delivery"),i.a.createElement("td",{colSpan:"8"},"Offland"),i.a.createElement("td",{colSpan:"5"},"PSA"),i.a.createElement("td",{colSpan:"5"},"Jurong Port-LT"),i.a.createElement("td",{colSpan:"5"},"Shipyard"),i.a.createElement("td",{colSpan:"5"},"Others"),i.a.createElement("td",{rowSpan:"2",style:{verticalAlign:"middle"}},"Billing ($)")),i.a.createElement("tr",null,i.a.createElement("td",null,"Number Of Pallets"),i.a.createElement("td",null,"Average number of pallets per delivery"),i.a.createElement("td",null,"Number Of Bundles"),i.a.createElement("td",null,"Average number of bundles per delivery"),i.a.createElement("td",null,"Number Of Cartons"),i.a.createElement("td",null,"Average number of cartons per delivery"),i.a.createElement("td",null,"Number Of Bluebins"),i.a.createElement("td",null,"Average number of bluebins per delivery"),i.a.createElement("td",null,"Number Of Pallets"),i.a.createElement("td",null,"Average number of pallets per delivery"),i.a.createElement("td",null,"Number Of Bundles"),i.a.createElement("td",null,"Average number of bundles per delivery"),i.a.createElement("td",null,"Number Of Cartons"),i.a.createElement("td",null,"Average number of cartons per delivery"),i.a.createElement("td",null,"Number Of Bluebins"),i.a.createElement("td",null,"Average number of bluebins per delivery"),i.a.createElement("td",null,"Number Of Trips"),i.a.createElement("td",null,"Number Of Pallets"),i.a.createElement("td",null,"Number Of Bundles"),i.a.createElement("td",null,"Number Of Cartons"),i.a.createElement("td",null,"Number Of Bluebins"),i.a.createElement("td",null,"Number Of Trips"),i.a.createElement("td",null,"Number Of Pallets"),i.a.createElement("td",null,"Number Of Bundles"),i.a.createElement("td",null,"Number Of Cartons"),i.a.createElement("td",null,"Number Of Bluebins"),i.a.createElement("td",null,"Number Of Trips"),i.a.createElement("td",null,"Number Of Pallets"),i.a.createElement("td",null,"Number Of Bundles"),i.a.createElement("td",null,"Number Of Cartons"),i.a.createElement("td",null,"Number Of Bluebins"),i.a.createElement("td",null,"Number Of Trips"),i.a.createElement("td",null,"Number Of Pallets"),i.a.createElement("td",null,"Number Of Bundles"),i.a.createElement("td",null,"Number Of Cartons"),i.a.createElement("td",null,"Number Of Bluebins"))),i.a.createElement("tbody",null,n))))}}}]),t}(u.Component),v=function(e){function t(){var e,a;Object(n.a)(this,t);for(var l=arguments.length,c=new Array(l),u=0;u<l;u++)c[u]=arguments[u];return(a=Object(r.a)(this,(e=Object(o.a)(t)).call.apply(e,[this].concat(c)))).state={userCompany:null,vessel:null,jobMonthCategories:null,jobDeliveryCategories:null,jobCompaniesCategories:null,AnalysData:null,jobVesselsCategories:null,jobWeeks:null},a}return Object(c.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this;d.a.get("/api/company/usercompany").then(function(t){for(var a=t.data,n={},l=0;l<a.length;l++){var r=a[l],o=r._id,c=n[o];c||(c=[],n[o]=c),c.push(r)}e.setState({userCompany:n})}),d.a.get("/api/vessels").then(function(t){e.setState({vessel:t.data})}),d.a.get("/api/jobs?user_only=false&numLimit=false&archive_only=false&non_archive_only=false&page=false&limit=false").then(function(t){for(var a=t.data,n={},l={},r={},o={},c={},u={},i=0;i<a.length;i++){var s=a[i],m="".concat(new Date(s.jobBookingDateTime).getMonth()+1,"/").concat(new Date(s.jobBookingDateTime).getFullYear()),d="";if(new Date(s.jobBookingDateTime).getFullYear()%4===0)if(1!==new Date(s.jobBookingDateTime).getDay()){var h=0,g=(h=0===new Date(s.jobBookingDateTime).getDay()?parseInt(new Date(s.jobBookingDateTime).getDate())+1:parseInt(new Date(s.jobBookingDateTime).getDate())-parseInt(new Date(s.jobBookingDateTime).getDay()-1))+6,b=parseInt(new Date(s.jobBookingDateTime).getMonth()+1),p=parseInt(new Date(s.jobBookingDateTime).getMonth()+1),E=parseInt(new Date(s.jobBookingDateTime).getFullYear()),f=parseInt(new Date(s.jobBookingDateTime).getFullYear());h<1&&(1===b?(h+=31,b=12,E-=1):2===b?(h+=31,b=1):3===b?(h+=29,b=2):4===b?(h+=31,b=3):5===b?(h+=30,b=4):6===b?(h+=31,b=5):7===b?(h+=30,b=6):8===b?(h+=31,b=7):9===b?(h+=31,b=8):10===b?(h+=30,b=9):11===b?(h+=31,b=10):12===b&&(h+=30,b=11)),2===b&&g>28?(g-=29,p=3):g>31&&(1===b?(g-=31,p=2):3===b?(g-=31,p=4):4===b?(g-=30,p=5):5===b?(g-=31,p=6):6===b?(g-=30,p=7):7===b?(g-=31,p=8):8===b?(g-=31,p=9):9===b?(g-=30,p=10):10===b?(g-=31,p=11):11===b?(g-=30,p=12):12===b&&(g-=31,p=1,f+=1)),d="".concat(h,"/").concat(b,"/").concat(E," - ").concat(g,"/").concat(p,"/").concat(f)}else{var y=parseInt(new Date(s.jobBookingDateTime).getDate()),v=y+6,j=parseInt(new Date(s.jobBookingDateTime).getMonth()+1),D=parseInt(new Date(s.jobBookingDateTime).getMonth()+1),k=parseInt(new Date(s.jobBookingDateTime).getFullYear()),C=parseInt(new Date(s.jobBookingDateTime).getFullYear());2===j&&v>28?(v-=29,D=3):v>31&&(1===j?(v-=31,D=2):3===j?(v-=31,D=4):4===j?(v-=30,D=5):5===j?(v-=31,D=6):6===j?(v-=30,D=7):7===j?(v-=31,D=8):8===j?(v-=31,D=9):9===j?(v-=30,D=10):10===j?(v-=31,D=11):11===j?(v-=30,D=12):12===j&&(v-=31,D=1,C+=1)),d="".concat(y,"/").concat(j,"/").concat(k," - ").concat(v,"/").concat(D,"/").concat(C)}else if(1!==new Date(s.jobBookingDateTime).getDay()){var O=0,w=(O=0===new Date(s.jobBookingDateTime).getDay()?parseInt(new Date(s.jobBookingDateTime).getDate())+1:parseInt(new Date(s.jobBookingDateTime).getDate())-parseInt(new Date(s.jobBookingDateTime).getDay()-1))+6,B=parseInt(new Date(s.jobBookingDateTime).getMonth()+1),A=parseInt(new Date(s.jobBookingDateTime).getMonth()+1),q=parseInt(new Date(s.jobBookingDateTime).getFullYear()),T=parseInt(new Date(s.jobBookingDateTime).getFullYear());O<1&&(1===B?(O+=31,B=12,q-=1):2===B?(O+=31,B=1):3===B?(O+=28,B=2):4===B?(O+=31,B=3):5===B?(O+=30,B=4):6===B?(O+=31,B=5):7===B?(O+=30,B=6):8===B?(O+=31,B=7):9===B?(O+=31,B=8):10===B?(O+=30,B=9):11===B?(O+=31,B=10):12===B&&(O+=30,B=11)),2===B&&w>28?(w-=28,A=3):w>31&&(1===B?(w-=31,A=2):3===B?(w-=31,A=4):4===B?(w-=30,A=5):5===B?(w-=31,A=6):6===B?(w-=30,A=7):7===B?(w-=31,A=8):8===B?(w-=31,A=9):9===B?(w-=30,A=10):10===B?(w-=31,A=11):11===B?(w-=30,A=12):12===B&&(w-=31,A=1,T+=1)),d="".concat(O,"/").concat(B,"/").concat(q," - ").concat(w,"/").concat(A,"/").concat(T)}else{var S=parseInt(new Date(s.jobBookingDateTime).getDate()),I=S+6,J=parseInt(new Date(s.jobBookingDateTime).getMonth()+1),N=parseInt(new Date(s.jobBookingDateTime).getMonth()+1),P=parseInt(new Date(s.jobBookingDateTime).getFullYear()),L=parseInt(new Date(s.jobBookingDateTime).getFullYear());2===J&&I>28?(I-=29,N=3):I>31&&(1===J?(I-=31,N=2):3===J?(I-=31,N=4):4===J?(I-=30,N=5):5===J?(I-=31,N=6):6===J?(I-=30,N=7):7===J?(I-=31,N=8):8===J?(I-=31,N=9):9===J?(I-=30,N=10):10===J?(I-=31,N=11):11===J?(I-=30,N=12):12===J&&(I-=31,N=1,L+=1)),d="".concat(S,"/").concat(J,"/").concat(P," - ").concat(I,"/").concat(N,"/").concat(L)}var M=u[d];M||(M=[],u[d]=M);var F=n[m];if(F||(F=[],n[m]=F),void 0!==s.vesselLoadingLocation&&null!==s.vesselLoadingLocation&&void 0!==s.vesselLoadingLocation.name&&null!==s.vesselLoadingLocation.name){var x=l[s.vesselLoadingLocation.name];x||(x=[],l[s.vesselLoadingLocation.name]=x),x.push(s)}if(null!==s.user.userCompany){var Y=r[s.user.userCompany];Y||(Y=[],r[s.user.userCompany]=Y),Y.push(s)}if(null!==s.vessel&&null!==s.vessel.vesselName){var z=o[s.vessel._id];z||(z=[],o[s.vessel._id]=z),z.push(s)}M.push(s),F.push(s)}a.sort(function(e,t){return new Date(e.jobBookingDateTime.toString())-new Date(t.jobBookingDateTime.toString())});for(var V=0;V<a.length;V++){var _=a[V],W="".concat(new Date(_.jobBookingDateTime).getMonth()+1,"/").concat(new Date(_.jobBookingDateTime).getFullYear()),Z=c[W];Z||(Z=[],c[W]=Z),Z.push(_)}e.setState({jobMonthCategories:n,jobDeliveryCategories:l,jobCompaniesCategories:r,AnalysData:c,jobVesselsCategories:o,jobWeeks:u})}).catch(function(e){console.log(e)})}},{key:"componentDidUpdate",value:function(e,t,a){console.log(this.state)}},{key:"render",value:function(){return i.a.createElement("div",null,i.a.createElement(f,{jobMonthAnalys:this.state.AnalysData,jobDeliveryCategory:this.state.jobDeliveryCategories}),i.a.createElement(y,{WeeksData:this.state.jobWeeks,Company:this.state.userCompany}),i.a.createElement(h,{jobMonthCategory:this.state.jobMonthCategories}),i.a.createElement(g,{jobDeliveryCategory:this.state.jobDeliveryCategories}),i.a.createElement(b,{jobVesselsCategory:this.state.jobVesselsCategories,Vessel:this.state.vessel}),i.a.createElement(p,{jobCompaniesCategory:this.state.jobCompaniesCategories,Company:this.state.userCompany}))}}]),t}(u.Component),j=function(e){function t(){return Object(n.a)(this,t),Object(r.a)(this,Object(o.a)(t).apply(this,arguments))}return Object(c.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return i.a.createElement(s.h,{fluid:!0},i.a.createElement("br",null),i.a.createElement(v,null))}}]),t}(u.Component);t.default=j}}]);
//# sourceMappingURL=8.07cb4d81.chunk.js.map