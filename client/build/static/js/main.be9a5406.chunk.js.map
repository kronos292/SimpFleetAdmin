{"version":3,"sources":["components/Dashboard/Job/JobSummaryTableDisplayMobile.js","components/Dashboard/Job/JobSummaryTableSearchBar.js","components/common/Pagination.js","components/Dashboard/Job/JobSummaryTable.js","components/common/PrivateRoute.js","components/layout/ExNavbar.js","components/layout/Footer.js","components/auth/Login.js","components/Dashboard/Admin/AdminDashboard.js","components/Dashboard/Consumer/ConsumerDashboard.js","components/Dashboard/Dashboard.js","components/History/User/UserHistory.js","components/History/Admin/AdminHistory.js","components/History/History.js","components/Job/JobAssignment/JobAssignment.js","components/SideMenuSlider/SideMenuSlider.js","components/Job/JobDetails/Form/JobItemInput.js","components/ui/Modal/AffirmationModal.js","components/ui/Modal/InformationModal.js","components/Job/JobDetails/Form/DateInputComponent.js","components/Job/JobDetails/JobDetailCard.js","components/Job/JobDetails/Files/FileDropzone.js","components/Job/JobDetails/Files/FileUpload.js","components/Job/JobDetails/Files/FileDisplay.js","components/Job/JobDetails/Files/FileUploadSection.js","components/Job/JobDetails/Files/FilePreview/FileDownloader.js","components/Job/JobDetails/Files/FilePreview/JobFileModal.js","components/Job/JobDetails/Files/JobFileSummaryTable.js","components/Job/JobDetails/Files/JobFileSummaryTableMobileSlider.js","components/Job/JobDetails/Files/JobFileSummaryTableMobile.js","components/Job/JobDetails/Files/JobFilesDisplay.js","components/Job/JobDetails/JobDetailsEdit.js","components/Job/JobDetails/JobStatusDisplay/JobStatusDisplay.js","components/Job/JobDetails/JobDropoffDetail.js","components/Job/JobDetails/JobBillingDetail/JobBillingDetail.js","components/Job/JobDetails/JobDetails.js","components/UserApproval/UserApprovalModal.js","components/UserApproval/UserApproval.js","App.js","actions/fetchActions.js","serviceWorker.js","reducers/fetchReducer.js","reducers/errorReducer.js","reducers/index.js","store.js","index.js","actions/types.js","components/SidebarMenu/SidebarMenu.js","components/Job/JobDetails/JobShareModal/JobShareModal.js","components/Job/JobShareSlide/JobShareSlide.js","components/Job/CreateJob.js","components/Job/CreateJobModal.js","actions/authAction.js","validation/is-empty.js"],"names":["JobSummaryTableDisplayMobile","state","selectedShareIconIndex","columns","title","field","render","rowData","className","moment","eta","format","name","disableClick","sorting","filtering","props","button","status","timestamp","job","jobTrackers","filter","o","index","length","allowArchive","onClick","event","isArchived","saveJobArchive","key","tableData","id","toggleSharingModal","jobClicked","data","this","components","Container","Paper","elevation","options","paging","padding","headerStyle","fontFamily","fontSize","fontWeight","color","onRowClick","handleRowClick","Component","JobSummaryTableSearchBar","vesselLoadingLocation","psaBerthingDateTime","vesselLoadingDateTime","customSort","a","b","timeA","timeB","isBefore","vessel","vesselName","toUpperCase","vesselIMOID","localeCompare","style","width","text","isCancelled","maxLine","ellipsis","trimRight","basedOn","variant","Row","showTitle","Pagination","postsPerPage","totalPosts","paginate","currentPage","pageNumbers","i","Math","ceil","push","aria-label","aria-hidden","map","number","createRow","imo","price","vesselImo","JobSummaryTable","jobs","showSharingModal","copied","archived","inputSelected","e","rd","history","handleShareModalClose","setState","handleCopy","window","setTimeout","handleCopiedClose","handleArchiveClose","SlideTransition","Slide","direction","axios","put","sendEmailUpdate","then","res","catch","err","console","log","handleSelect","get","user_only","numLimit","archive_only","non_archive_only","sort","Date","jobBookingDateTime","toString","subtotal","jobItems","reduce","jobItem","quantity","sum","jobId","vesselArrivalDateTime","auth","indexOfLastPost","indexofFirstPost","vesselDeliveries","user","statusString","statusStyle","userType","data-title","companyName","bordered","hover","striped","responsive","minWidth","slice","JobShareModal","show","joblinkurl","Close","Snackbar","anchorOrigin","horizontal","vertical","open","message","action","IconButton","TransitionComponent","maxWidth","JobShareSlide","onClose","withRouter","connect","component","rest","isAuthenticated","to","ExNavbar","Navbar","expand","Brand","href","preventDefault","Image","src","Nav","Item","type","Footer","xs","md","span","offset","defaultActiveKey","Link","target","query","icon","faWhatsapp","faFacebook","faInstagram","faLinkedin","faTelegram","Login","onChecked","rememberMe","checked","renderContent","errors","fluid","size","onSubmit","Grid","container","spacing","item","TextField","value","email","onChange","fullWidth","label","autoComplete","autoFocus","Typography","display","margin","password","helperText","FormControlLabel","control","Checkbox","Button","bind","localStorage","getItem","nextProps","userData","setItem","loginUser","theme","createMuiTheme","palette","primary","main","ThemeProvider","AdminDashboard","searchText","postPerPage","pageNumber","ConsumerDashboard","SidebarMenu","Dashboard","UserHistory","AdminHistory","marginTop","History","JobAssignment","jobAssignments","logisticsCompanies","saveJobAssignments","location","reload","renderLogisticsCompanies","jobAssignment","undefined","logisticsCompany","jobAssignmentObj","_id","j","logisticsCompanyObj","reverse","SideMenuSlider","showHistory","showModal","handleOpenModal","handleCloseModal","pageWrapId","outerContainerId","customBurgerIcon","isOpen","onStateChange","handleMenuStateChange","customCrossIcon","handleCloseMenu","Fab","marginRight","Divider","onLogoutClick","CreateJobModal","fullScreen","handlePopoverOpen","createUOMList","uom","JobItemInput","priceList","UOMList","onQuantityUpdate","newProduct","Number","products","newProducts","product","setItems","indexOf","splice","handleAddEvent","itemPrice","floor","random","UOM","renderMenu","includes","jobItemSelected","MenuItem","Prepend","parseInt","document","getElementById","alt","min","onKeyDown","keyCode","stopPropagation","Append","onKeyPress","test","AffirmationModal","isMobile","updatePredicate","addEventListener","removeEventListener","innerWidth","Dialog","modal","toggle","DialogTitle","DialogContent","children","DialogActions","affirmativeAction","affirmativeText","marginLeft","cancelText","InformationModal","onClosed","DateInputComponent","focused","onClickOutside","toggleController","marginBottom","DateTime","disabled","faCalendarAlt","zIndex","position","date","onDateChange","handleDateChange","onOutsideClick","numberOfMonths","isOutsideRange","day","isInclusivelyAfterDay","JobDetailsCard","jobEdit","showJobUpdateModal","jobUpdatedModal","currentCareOffParty","jobPrevState","showItemsDeliverList","focusedVesselArriveDate","ItemsDeliverAnchorEl","ItemsOfflandAnchorEl","handleVesselLoadingLocationChange","handleVesselArrivalDateChange","toISOString","handleVesselArrivalTimeChange","toDate","handleVesselLighterLocationChange","vesselLighterLocation","handleVesselLighterNameChange","vesselLighterName","handleVesselBerthingDateTimeChange","handleVesselUnberthingDateTimeChange","psaUnberthingDateTime","handleVesselLoadingDateChange","handleVesselLoadingTimeChange","handleRemarksChange","remarks","handleVesselLighterRemarksChange","vesselLighterRemarks","validateItems","items","filteredItems","saveJobDetails","filteredOfflandingItems","jobOfflandItems","now","careOffParties","setHours","getHours","alert","careOffParty","checkValidDate","d","handleDeliverClose","handleOfflandClose","handleCreateDSAChange","createDSA","handleOtherVesselLocationChange","renderJobTimeDetails","vesselLoadingTime","psaBerthingTime","psaUnberthingTime","sm","paddingRight","paddingLeft","showSecond","defaultValue","allowEmpty","vesselLighterDateTime","otherVesselLocation","openDeliver","Boolean","jobItemText","concat","openOffland","jobOfflandItemsText","square","rows","vesselCallsign","Group","Label","Control","as","join","currentTarget","Popover","anchorEl","transformOrigin","JSON","parse","stringify","FileDropzone","highlight","openFileDialog","fileInputRef","current","click","fileListToArray","list","array","onFilesAdded","evt","files","onDragOver","onDragLeave","onDrop","dataTransfer","React","createRef","cursor","ref","multiple","textDecoration","FileUpload","uploading","handleOnMouseEnter","handleOnMouseOut","renderUploadDisplay","file","onMouseEnter","onMouseLeave","height","FileDisplay","edit","handleEdit","jobFile","fileURL","handleDocumentTitleChange","filename","ButtonGroup","border","handleSingleDelete","FileUploadSection","requirements","needPrintCopy","signAndReturn","numCopies","documentType","retrieveRequirement","requirement","fullRequirements","loadRequirements","jobFileRequirements","updateRequirement","boolean","newRequirements","check","handlePrintCopyChange","handleSignAndReturnChange","handleUploadType","handleNumberOfCopiesChange","handleAddDocument","formData","FormData","append","post","headers","finally","jobID","handleEditDocument","successClose","req","FormLabel","RadioGroup","row","Radio","checkedIcon","renderUpload","placeholder","handleCancel","FileDownloader","Object","keys","jobFileUrls","responseType","blob","Blob","downloadUrl","URL","createObjectURL","createElement","download","body","appendChild","remove","error","downloadSelectedFiles","faDownload","JobFileModal","showPreviewModal","setModalFlag","fileUrlArray","split","fileType","toLowerCase","useState","onHide","dialogClassName","createData","copies","jobFileChange","JobFileSummaryTable","hoverKey","showDropdown","toggleModal","handleDropdown","handleDownload","nextContext","refresh","jobFiles","cellStyle","editFile","deleteFile","minHeight","selection","rowStyle","toolbarButtonAlignment","showTextRowsSelected","actions","tooltip","ClearIcon","deleteMultipleFiles","JobFileSummaryTableMobileSlider","Drawer","anchor","PaperProps","List","ListItem","ListItemText","JobFileSummaryTableMobile","showSlider","jobFileSelected","handleSlider","handleSliderClose","DeleteIcon","JobFilesDisplay","editJobFile","showJobFileDeleteModal","jobFileToDelete","activeScreen","selectOption","numPages","getJobFiles","userJobFiles","newJobFiles","updateJobFiles","handleDeleteJobFiles","deleteJobFiles","delete","handleMultipleDelete","delArray","handleUploadSuccess","handleEditFile","handleEditCancel","faPlusSquare","JobDetailsEdit","jobStatuses","description","trackingType","jobStatus","showCheckJobStatusModal","cancellationConfirmationModal","updateJobStatus","checkJobTracker","cancelJob","cancel","JobStatusDisplay","showJobDetailsEdit","steps","activeStep","renderSteps","step","statusSelected","icons","finish","JobDropoffDetail","LogisticsCompanies","address","contactNumber","website","openingHours","addLL","lat","lng","currentCompany","handleRemarks","handleSaveRemarks","deliveryDate","setDate","getDate","getMonth","getFullYear","LCOpeningHours","getDropoffTime","Map","withScriptjs","withGoogleMap","defaultZoom","defaultCenter","googleMapURL","loadingElement","containerElement","mapElement","JobBillingDetail","showJobCancelModal","paymentTrackers","paymentTrackerList","updatePaymentTracker","paymentTacker","userId","renderCancelProcedure","userPaymentTrackers","renderAdminPaymentPanel","tracker","v","userPaymentTracker","paymentIndex","saveJobCancellation","AntTabs","withStyles","root","borderBottom","indicator","backgroundColor","Tabs","AntTab","textTransform","typography","fontWeightRegular","opacity","fontWeightMedium","outline","selected","Tab","disableRipple","JobDetails","jobLink","setTabURL","tabName","url","searchParams","set","pushState","generateInvitationLink","handleClose","handleChangeTab","newValue","queryString","search","tab","showComponent","JobDetailCard","Breadcrumbs","separator","disablePadding","handleDrawerClick","enabled","isPopoverOpen","handlePopoverClose","onEscapeKey","containerStyle","windowBorderPadding","content","targetRect","popoverRect","arrowColor","arrowSize","arrowStyle","borderRadius","centered","UserApprovalModal","Fragment","role","data-dismiss","onUpdateIsApprove","users","UserApproval","compObj","userCompany","compName","firstName","lastName","isApproved","data-toggle","data-target","tabIndex","aria-labelledby","cs","DynamicImport","load","default","MainNavbar","Home","Analytics","App","openMenu","handleOpenMenu","exact","path","dispatch","FETCH_USER","payload","hostname","match","initialState","combineReducers","isEmpty","GET_ERRORS","middleware","thunk","store","createStore","rootReducer","compose","applyMiddleware","__REDUX_DEVTOOLS_EXTENSION__","ReactDOM","navigator","serviceWorker","ready","registration","unregister","sidebarOpen","defaultRenderTag","tag","onRemove","classNameRemove","getTagDisplayValue","other","wordBreak","emailList","emailInputs","mobileWebShare","showSuccessSnackBar","handleMessageChange","updateEmailList","handleEmailInputChange","handleInputClear","webShareJobLink","share","sendEmail","trim","handleSnackBarClose","validate","onCopy","onChangeInput","inputValue","inputProps","tagProps","addKeys","renderTag","clsx","CreateJob","uploadedFile","vessels","submitButtonActive","isLoading","vesselQueryResults","vesselSelected","handleJobIdChange","validateCareOffs","filteredCareOffParties","personName","handleNextStep","handlePaymentBack","renderText","renderJobTimeInfo","Col","_renderMenuItemChildren","option","results","menuProps","priority","handleTypeAheadVesselNameChange","handleKeyDown","handleTypeAheadVesselSelect","handleVesselSelectChange","textArr","renderJobInfo","required","renderMenuItemChildren","labelKey","maxResults","minLength","onInputChange","filterBy","emptyLabel","renderJobPayment","FormControl","paddingTop","paddingBottom","obj","renderSuccess","xmlns","viewBox","cx","cy","r","fill","mobile","renderForm","formDisplay","response","logoutUser","module","exports"],"mappings":"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","file":"static/js/main.be9a5406.chunk.js","sourcesContent":["import React, { Component } from \"react\";\r\nimport Paper from \"@material-ui/core/Paper\";\r\nimport MaterialTable from \"material-table\";\r\nimport ShareIcon from \"@material-ui/icons/Share\";\r\nimport ArchiveIcon from \"@material-ui/icons/Archive\";\r\nimport moment from \"moment\";\r\n\r\nclass JobSummaryTableDisplayMobile extends Component {\r\n  constructor() {\r\n    super();\r\n    this.state = {\r\n      selectedShareIconIndex: 0\r\n    };\r\n  }\r\n  render() {\r\n    return (\r\n      <MaterialTable\r\n        columns={[\r\n          {\r\n            title: \"ETA\",\r\n            field: \"eta\",\r\n            render: rowData => (\r\n              <span className=\"job-table-text\">\r\n                {moment(rowData.eta).format(\"DD MMMM YYYY, HH:mm\")}\r\n              </span>\r\n            )\r\n          },\r\n          {\r\n            title: \"Job Number\",\r\n            field: \"name\",\r\n            render: rowData => (\r\n              <span className=\"job-table-text\">{rowData.name}</span>\r\n            )\r\n          },\r\n          {\r\n            title: \"Status\",\r\n            field: \"status\",\r\n            disableClick: true,\r\n            sorting: false,\r\n            filtering: false,\r\n            render: rowData => (\r\n              <div>\r\n                {this.props.button ? (\r\n                  <div className=\"d-flex align-items-center\">\r\n                    <div className=\"d-flex justify-content-center flex-column\">\r\n                      <span className=\"job-table-text\">\r\n                        {rowData.status[0].title}\r\n                      </span>\r\n                      <i className=\"job-table-helper-text\">\r\n                        {moment(rowData.status[0].timestamp).format(\r\n                          \"MMM DD YYYY, HH:mm\"\r\n                        )}\r\n                      </i>\r\n                    </div>\r\n                    {rowData.job.jobTrackers.filter(o => {\r\n                      return o.index === 6;\r\n                    }).length > 0 && this.props.allowArchive ? (\r\n                      <ArchiveIcon\r\n                        onClick={event => {\r\n                          rowData.job.isArchived = true;\r\n                          this.props.saveJobArchive(rowData.job);\r\n                        }}\r\n                        key={rowData.tableData.id}\r\n                        className=\"job-summary-icon-buttons\"\r\n                      />\r\n                    ) : (\r\n                      <ShareIcon\r\n                        onClick={event => {\r\n                          this.props.toggleSharingModal(true);\r\n                          this.props.jobClicked(rowData.job);\r\n                        }}\r\n                        key={rowData.tableData.id}\r\n                        className=\"job-summary-icon-buttons\"\r\n                      />\r\n                    )}\r\n                  </div>\r\n                ) : (\r\n                  <div>\r\n                    <div className=\"d-flex justify-content-center flex-column\">\r\n                      <span className=\"job-table-text\">\r\n                        {rowData.status[0].title}\r\n                      </span>\r\n                      <i className=\"job-table-helper-text\">\r\n                        {moment(rowData.status[0].timestamp).format(\r\n                          \"MMM DD YYYY, HH:mm\"\r\n                        )}\r\n                      </i>\r\n                    </div>\r\n                  </div>\r\n                )}\r\n              </div>\r\n            )\r\n          }\r\n        ]}\r\n        data={this.props.data}\r\n        components={{\r\n          Container: props => <Paper {...props} elevation={0} />\r\n        }}\r\n        title={this.props.title}\r\n        options={{\r\n          sorting: true,\r\n          paging: false,\r\n          padding: \"dense\",\r\n          // showTitle: false,\r\n          headerStyle: {\r\n            fontFamily: \"Roboto\",\r\n            fontSize: \"14px\",\r\n            fontWeight: \"bold\",\r\n            color: \"#707070\"\r\n          }\r\n        }}\r\n        onRowClick={this.props.handleRowClick}\r\n      />\r\n    );\r\n  }\r\n}\r\nexport default JobSummaryTableDisplayMobile;\r\n","import React, { Component } from \"react\";\r\nimport Button from \"react-bootstrap/Button\";\r\nimport Paper from \"@material-ui/core/Paper\";\r\nimport MaterialTable, { MTableBodyRow } from \"material-table\";\r\nimport ShareIcon from \"@material-ui/icons/Share\";\r\nimport ArchiveIcon from \"@material-ui/icons/Archive\";\r\nimport moment from \"moment\";\r\nimport LinesEllipsis from \"react-lines-ellipsis\";\r\n\r\nexport default class JobSummaryTableSearchBar extends Component {\r\n  render() {\r\n    return (\r\n      <MaterialTable\r\n        columns={[\r\n          {\r\n            title: \"Vessel Loading Time\",\r\n            field: \"job\",\r\n            render: rowData => {\r\n              switch (rowData.job.vesselLoadingLocation) {\r\n                case \"PSA\":\r\n                  return (\r\n                    <span className=\"job-table-text\">\r\n                      {moment(rowData.job.psaBerthingDateTime).format(\r\n                        \"DD MMMM YYYY, HH:mm\"\r\n                      )}\r\n                    </span>\r\n                  );\r\n                case \"Jurong Port\":\r\n                  return (\r\n                    <span className=\"job-table-text\">\r\n                      {moment(rowData.job.vesselLoadingDateTime).format(\r\n                        \"DD MMMM YYYY, HH:mm\"\r\n                      )}\r\n                    </span>\r\n                  );\r\n                default:\r\n                  return (\r\n                    <span className=\"job-table-text\">\r\n                      {moment(rowData.job.vesselLoadingDateTime).format(\r\n                        \"DD MMMM YYYY, HH:mm\"\r\n                      )}\r\n                    </span>\r\n                  );\r\n              }\r\n            },\r\n            customSort: (a, b) => {\r\n              let timeA, timeB;\r\n              if (a.job.vesselLoadingLocation === \"PSA\") {\r\n                timeA = moment(a.job.psaBerthingDateTime);\r\n              } else {\r\n                timeA = moment(a.job.vesselLoadingDateTime);\r\n              }\r\n              if (b.job.vesselLoadingLocation === \"PSA\") {\r\n                timeB = moment(b.job.psaBerthingDateTime);\r\n              } else {\r\n                timeB = moment(b.job.vesselLoadingDateTime);\r\n              }\r\n              if (timeA.isBefore(timeB)) {\r\n                return 1;\r\n              } else {\r\n                return -1;\r\n              }\r\n            }\r\n          },\r\n          {\r\n            title: \"Job Number\",\r\n            field: \"name\",\r\n            render: rowData => (\r\n              <span className=\"job-table-text\">{rowData.name}</span>\r\n            )\r\n          },\r\n          {\r\n            title: \"Vessel Name\",\r\n            field: \"vesselName\",\r\n            render: rowData => (\r\n              <div className=\"d-flex flex-column\">\r\n                <span className=\"job-table-text\">\r\n                  {rowData.job.vessel !== null? rowData.job.vessel.vesselName.toUpperCase(): ''}\r\n                </span>\r\n                <span className=\"job-table-helper-text\">\r\n                  <i>{rowData.job.vessel !== null? rowData.job.vessel.vesselIMOID: ''}</i>\r\n                </span>\r\n              </div>\r\n            ),\r\n            customSort: (a, b) =>\r\n              a.job.vessel.vesselName.localeCompare(b.job.vessel.vesselName)\r\n          },\r\n          // {\r\n          //     title: \"Price\", field: \"price\",\r\n          //     render: rowData => (\r\n          //         <span className='job-table-text'>$ {rowData.price}</span>),\r\n          //     customSort: (a, b) => a.price - b.price,\r\n          // },\r\n          {\r\n            title: \"Status\",\r\n            field: \"status\",\r\n            disableClick: true,\r\n            sorting: false,\r\n            filtering: false,\r\n            render: rowData => (\r\n              <div\r\n                className=\"d-flex align-items-center\"\r\n                style={{ width: \"20vw\" }}\r\n              >\r\n                <div style={{ width: \"100%\" }}>\r\n                  <LinesEllipsis\r\n                    style={{ width: \"100%\" }}\r\n                    text={\r\n                      rowData.job.isCancelled === \"Confirmed\"\r\n                        ? \"Job has been cancelled\"\r\n                        : rowData.status[0].title\r\n                    }\r\n                    maxLine=\"1\"\r\n                    ellipsis=\"...\"\r\n                    trimRight\r\n                    basedOn=\"letters\"\r\n                    className={\r\n                      rowData.job.isCancelled === \"Confirmed\"\r\n                        ? \"job-table-text red\"\r\n                        : \"job-table-text\"\r\n                    }\r\n                  />\r\n                  <i className=\"job-table-helper-text\">\r\n                    {moment(rowData.status[0].timestamp).format(\r\n                      \"MMM DD YYYY, HH:mm\"\r\n                    )}\r\n                  </i>\r\n                </div>\r\n                {rowData.job.jobTrackers.filter(o => {\r\n                  return o.index === 6;\r\n                }).length > 0 && this.props.allowArchive ? (\r\n                  <Button\r\n                    variant=\"outlined\"\r\n                    onClick={event => {\r\n                      rowData.job.isArchived = true;\r\n                      this.props.saveJobArchive(rowData.job);\r\n                    }}\r\n                    key={rowData.tableData.id}\r\n                    className=\"table-share-button\"\r\n                  >\r\n                    <div className=\"d-flex align-items-center\">\r\n                      Archive\r\n                      <ArchiveIcon />\r\n                    </div>\r\n                  </Button>\r\n                ) : (\r\n                  <Button\r\n                    variant=\"outlined\"\r\n                    onClick={event => {\r\n                      this.props.toggleSharingModal(true);\r\n                      this.props.jobClicked(rowData.job);\r\n                    }}\r\n                    key={rowData.tableData.id}\r\n                    className=\"table-share-button\"\r\n                  >\r\n                    <div className=\"d-flex align-items-center\">\r\n                      Share\r\n                      <ShareIcon />\r\n                    </div>\r\n                  </Button>\r\n                )}\r\n              </div>\r\n            )\r\n          }\r\n        ]}\r\n        data={this.props.data}\r\n        components={{\r\n          Container: props => <Paper {...props} elevation={0} />,\r\n          Row: props => <MTableBodyRow {...props} className=\"rows\" />\r\n        }}\r\n        options={{\r\n          sorting: true,\r\n          paging: false,\r\n          padding: \"dense\",\r\n          showTitle: false,\r\n          headerStyle: {\r\n            fontFamily: \"Roboto\",\r\n            fontSize: \"14px\",\r\n            fontWeight: \"bold\",\r\n            color: \"#707070\"\r\n          }\r\n        }}\r\n        onRowClick={this.props.handleRowClick}\r\n      />\r\n    );\r\n  }\r\n}\r\n","import React from \"react\";\r\n\r\nexport default function Pagination({\r\n  postsPerPage,\r\n  totalPosts,\r\n  paginate,\r\n  currentPage\r\n}) {\r\n  const pageNumbers = [];\r\n\r\n  for (let i = 1; i <= Math.ceil(totalPosts / postsPerPage); i++) {\r\n    pageNumbers.push(i);\r\n  }\r\n\r\n  return (\r\n    <nav aria-label=\"Page navigation example\">\r\n      <ul className=\"pagination justify-content-center\">\r\n        <li className={`page-item${currentPage === 1 ? \" disabled\" : \"\"}`}>\r\n          <a\r\n            className=\"page-link\"\r\n            aria-label=\"Previous\"\r\n            onClick={() => paginate(currentPage - 1)}\r\n          >\r\n            <span aria-hidden=\"true\">&laquo;</span>\r\n          </a>\r\n        </li>\r\n        {pageNumbers.map(number => (\r\n          <li\r\n            key={number}\r\n            className={`page-item${number === currentPage ? \" active\" : \"\"}`}\r\n          >\r\n            <a onClick={() => paginate(number)} className=\"page-link\">\r\n              {number}\r\n            </a>\r\n          </li>\r\n        ))}\r\n        <li\r\n          className={`page-item${\r\n            currentPage === pageNumbers.length ? \" disabled\" : \"\"\r\n          }`}\r\n        >\r\n          <a\r\n            className=\"page-link\"\r\n            aria-label=\"Next\"\r\n            onClick={() => paginate(currentPage + 1)}\r\n          >\r\n            <span aria-hidden=\"true\">&raquo;</span>\r\n          </a>\r\n        </li>\r\n      </ul>\r\n    </nav>\r\n  );\r\n}\r\n","import \"./JobSummaryTable.css\";\r\nimport React, { Component } from \"react\";\r\nimport axios from \"axios\";\r\nimport { withRouter } from \"react-router-dom\";\r\nimport { connect } from \"react-redux\";\r\nimport { Table } from \"reactstrap\";\r\nimport MediaQuery from \"react-responsive\";\r\n\r\nimport IconButton from \"@material-ui/core/IconButton\";\r\nimport CloseIcon from \"@material-ui/icons/Close\";\r\nimport Snackbar from \"@material-ui/core/Snackbar\";\r\n\r\nimport JobSummaryTableDisplayMobile from \"./JobSummaryTableDisplayMobile\";\r\nimport JobSummaryTableSearchBar from \"./JobSummaryTableSearchBar\";\r\nimport Slide from \"@material-ui/core/Slide\";\r\nimport JobShareModal from \"../../Job/JobDetails/JobShareModal/JobShareModal\";\r\nimport JobShareSlide from \"../../Job/JobShareSlide/JobShareSlide\";\r\nimport Pagination from \"../../common/Pagination\";\r\n\r\nfunction priceRow(qty, price) {\r\n  // return qty * price;\r\n  return 0;\r\n}\r\n\r\nfunction createRow(name, imo, vesselName, status, job, eta, price) {\r\n  return {\r\n    name: name,\r\n    vesselImo: imo,\r\n    vesselName: vesselName,\r\n    status: status,\r\n    job: job,\r\n    eta: eta,\r\n    price: price\r\n  };\r\n}\r\n\r\nclass JobSummaryTable extends Component {\r\n  state = {\r\n    jobs: null,\r\n    data: [],\r\n    showSharingModal: false,\r\n    copied: false,\r\n    jobClicked: null,\r\n    archived: false,\r\n    inputSelected: false\r\n  };\r\n\r\n  componentDidMount() {\r\n    // Get all jobs\r\n    axios\r\n      .get(\r\n        `/api/jobs?user_only=${this.props.user_only}&numLimit=${\r\n          this.props.numLimit ? this.props.numLimit : false\r\n        }&archive_only=${\r\n          this.props.archive_only ? this.props.archive_only : false\r\n        }&non_archive_only=${\r\n          this.props.non_archive_only ? this.props.non_archive_only : false\r\n        }`\r\n      )\r\n      .then(res => {\r\n        const data = [];\r\n        const jobs = res.data.sort((a, b) => {\r\n          return (\r\n            new Date(b.jobBookingDateTime.toString()) -\r\n            new Date(a.jobBookingDateTime.toString())\r\n          );\r\n        });\r\n        this.setState({\r\n          jobs: jobs\r\n        });\r\n        for (let i = 0; i < jobs.length; i++) {\r\n          let job = jobs[i];\r\n          job.jobTrackers.sort((a, b) => {\r\n            return b.index - a.index;\r\n          });\r\n          const subtotal = job.jobItems\r\n            .reduce((a, jobItem) => {\r\n              a.push(priceRow(jobItem.quantity, jobItem.price));\r\n              return a;\r\n            }, [])\r\n            .reduce((sum, i) => sum + i, 0);\r\n          data.push(\r\n            createRow(\r\n              job.jobId,\r\n              job.vessel !== null ? job.vessel.vesselIMOID : \"\",\r\n              job.vessel !== null ? job.vessel.vesselName : \"\",\r\n              job.jobTrackers,\r\n              job,\r\n              job.vesselArrivalDateTime,\r\n              subtotal\r\n            )\r\n          );\r\n        }\r\n        this.setState({\r\n          data: data\r\n        });\r\n      })\r\n      .catch(err => {\r\n        console.log(err);\r\n      });\r\n  }\r\n\r\n  handleRowClick = (e, rd) => {\r\n    let index = rd.tableData.id;\r\n    this.props.history.push(`/job_details?job=${this.state.jobs[index].index}`);\r\n  };\r\n\r\n  handleShareModalClose = () => {\r\n    this.setState({ showSharingModal: false, inputSelected: false });\r\n  };\r\n\r\n  handleCopy = () => {\r\n    this.setState({ copied: true });\r\n    window.setTimeout(() => {\r\n      this.setState({ copied: false });\r\n    }, 5000);\r\n  };\r\n\r\n  handleCopiedClose = () => {\r\n    this.setState({ copied: false });\r\n  };\r\n\r\n  handleArchiveClose = () => {\r\n    this.setState({ archived: false });\r\n  };\r\n\r\n  SlideTransition = props => {\r\n    return <Slide {...props} direction=\"up\" />;\r\n  };\r\n\r\n  saveJobArchive = job => {\r\n    // Save job details\r\n    axios\r\n      .put(\"/api/jobs\", {\r\n        job,\r\n        sendEmailUpdate: false\r\n      })\r\n      .then(res => {\r\n        this.props.history.push(\"/history\");\r\n      })\r\n      .catch(err => {\r\n        console.log(err);\r\n      });\r\n  };\r\n\r\n  handleSelect = e => {\r\n    this.setState({ inputSelected: true });\r\n  };\r\n\r\n  render() {\r\n    switch (this.state.jobs) {\r\n      case null:\r\n        return <div></div>;\r\n      default:\r\n        switch (this.props.auth) {\r\n          case null:\r\n            return <div></div>;\r\n          default:\r\n            const { postsPerPage, currentPage, paginate } = this.props;\r\n            const indexOfLastPost = currentPage * postsPerPage;\r\n            const indexofFirstPost = indexOfLastPost - postsPerPage;\r\n            const vesselDeliveries = this.state.jobs\r\n              .sort((a, b) => {\r\n                return (\r\n                  new Date(b.jobBookingDateTime.toString()) -\r\n                  new Date(a.jobBookingDateTime.toString())\r\n                );\r\n              })\r\n              .map((job, index) => {\r\n                const { vessel, user, jobTrackers } = job;\r\n                const jobTracker = jobTrackers.sort((a, b) => {\r\n                  return b.index - a.index;\r\n                })[0];\r\n\r\n                let statusString = jobTracker.title;\r\n                let statusStyle = { color: \"red\" };\r\n                if (job.isCancelled === \"Confirmed\") {\r\n                  statusString = \"Job Cancelled\";\r\n                } else if (job.isCancelled === \"Pending\") {\r\n                  statusString = \"Cancel Requested\";\r\n                } else if (job.isCancelled === \"Denied\") {\r\n                  statusString = \"Cancellation Denied\";\r\n                } else {\r\n                  statusStyle = {};\r\n                }\r\n                let vesselName = \"\";\r\n                let vesselIMOID = \"\";\r\n                if (vessel === null) {\r\n                  vesselName = \"\";\r\n                  vesselIMOID = \"\";\r\n                } else {\r\n                  vesselName = vessel.vesselName;\r\n                  vesselIMOID = vessel.vesselIMOID;\r\n                }\r\n\r\n                return (\r\n                  <tr\r\n                    key={index}\r\n                    className=\"job-summary-table-row\"\r\n                    onClick={e =>\r\n                      this.props.history.push(`/job_details?job=${job.index}`)\r\n                    }\r\n                  >\r\n                    {this.props.auth.userType === \"Admin\" ? (\r\n                      <td data-title=\"Company\">{user.companyName}</td>\r\n                    ) : (\r\n                      \"\"\r\n                    )}\r\n                    <td data-title=\"Job Number\">{job.jobId}</td>\r\n                    <td data-title=\"Vessel IMO\">{vesselIMOID}</td>\r\n                    <td data-title=\"Vessel Name\">{vesselName}</td>\r\n                    <td data-title=\"Status\" style={statusStyle}>\r\n                      {statusString}\r\n                    </td>\r\n                  </tr>\r\n                );\r\n              });\r\n\r\n            return (\r\n              <div className=\"job-summary-table-padding\">\r\n                {this.props.auth.userType === \"Admin\" ? (\r\n                  <Table\r\n                    bordered\r\n                    hover\r\n                    striped\r\n                    responsive\r\n                    className=\"responsive-table\"\r\n                  >\r\n                    <thead>\r\n                      <tr>\r\n                        {this.props.auth.user.userType === \"Admin\" ? (\r\n                          <th>Company</th>\r\n                        ) : (\r\n                          \"\"\r\n                        )}\r\n                        <th>Job Number</th>\r\n                        <th>Vessel IMO</th>\r\n                        <th>Vessel Name</th>\r\n                        <th>Status</th>\r\n                      </tr>\r\n                    </thead>\r\n                    <tbody>{vesselDeliveries}</tbody>\r\n                  </Table>\r\n                ) : (\r\n                  <div>\r\n                    <MediaQuery minWidth={768}>\r\n                      {/* webview table */}\r\n                      <JobSummaryTableSearchBar\r\n                        data={\r\n                          postsPerPage\r\n                            ? this.state.data.slice(\r\n                                indexofFirstPost,\r\n                                indexOfLastPost\r\n                              )\r\n                            : this.state.data\r\n                        }\r\n                        showSharingModal={this.state.showSharingModal}\r\n                        toggleSharingModal={showSharingModal => {\r\n                          this.setState({ showSharingModal });\r\n                        }}\r\n                        jobClicked={jobClicked => {\r\n                          this.setState({ jobClicked });\r\n                        }}\r\n                        handleRowClick={this.handleRowClick}\r\n                        saveJobArchive={this.saveJobArchive}\r\n                        allowArchive={this.props.allowArchive}\r\n                        button={this.props.button}\r\n                      />\r\n                      {this.state.jobClicked ? (\r\n                        <div>\r\n                          <JobShareModal\r\n                            show={this.state.showSharingModal}\r\n                            joblinkurl={`localhost:3000/job_invitations/${this.state.jobClicked.index}`}\r\n                            Close={this.handleShareModalClose}\r\n                            job={this.state.jobClicked}\r\n                            copied={this.handleCopy}\r\n                          />\r\n\r\n                          <Snackbar\r\n                            anchorOrigin={{\r\n                              horizontal: \"left\",\r\n                              vertical: \"bottom\"\r\n                            }}\r\n                            open={this.state.copied}\r\n                            message={\r\n                              <span id=\"message-id\">Link Has Been Copied</span>\r\n                            }\r\n                            action={\r\n                              <IconButton\r\n                                key=\"close\"\r\n                                color=\"inherit\"\r\n                                onClick={this.handleCopiedClose}\r\n                              >\r\n                                <CloseIcon />\r\n                              </IconButton>\r\n                            }\r\n                            TransitionComponent={this.SlideTransition}\r\n                          />\r\n                        </div>\r\n                      ) : (\r\n                        \"\"\r\n                      )}\r\n                    </MediaQuery>\r\n                    <MediaQuery maxWidth={767}>\r\n                      {/* mobileview table */}\r\n                      <JobSummaryTableDisplayMobile\r\n                        data={\r\n                          postsPerPage\r\n                            ? this.state.data.slice(\r\n                                indexofFirstPost,\r\n                                indexOfLastPost\r\n                              )\r\n                            : this.state.data\r\n                        }\r\n                        showSharingModal={this.state.showSharingModal}\r\n                        toggleSharingModal={showSharingModal => {\r\n                          this.setState({ showSharingModal });\r\n                        }}\r\n                        jobClicked={jobClicked => {\r\n                          this.setState({ jobClicked });\r\n                        }}\r\n                        handleRowClick={this.handleRowClick}\r\n                        saveJobArchive={this.saveJobArchive}\r\n                        allowArchive={this.props.allowArchive}\r\n                        button={this.props.button}\r\n                        title={this.props.title}\r\n                      />\r\n                      {this.state.jobClicked ? (\r\n                        <div>\r\n                          {\r\n                            <JobShareSlide\r\n                              open={this.state.showSharingModal}\r\n                              onClose={this.handleShareModalClose}\r\n                              joblinkurl={`localhost:3000/job_invitations/${this.state.jobClicked.index}`}\r\n                              job={this.state.jobClicked}\r\n                              inputSelected={this.state.inputSelected}\r\n                              handleSelect={this.handleSelect}\r\n                            />\r\n                          }\r\n                        </div>\r\n                      ) : (\r\n                        \"\"\r\n                      )}\r\n                    </MediaQuery>\r\n\r\n                    <Snackbar\r\n                      anchorOrigin={{ horizontal: \"left\", vertical: \"bottom\" }}\r\n                      open={this.state.archived}\r\n                      message={\r\n                        <span id=\"message-id\">Item has been Archived</span>\r\n                      }\r\n                      action={\r\n                        <IconButton\r\n                          key=\"close\"\r\n                          color=\"inherit\"\r\n                          onClick={this.handleArchiveClose}\r\n                        >\r\n                          <CloseIcon />\r\n                        </IconButton>\r\n                      }\r\n                      TransitionComponent={this.SlideTransition}\r\n                    />\r\n                  </div>\r\n                )}\r\n                <br />\r\n                {postsPerPage ? (\r\n                  <Pagination\r\n                    postsPerPage={postsPerPage}\r\n                    totalPosts={this.state.data.length}\r\n                    paginate={paginate}\r\n                    currentPage={currentPage}\r\n                  />\r\n                ) : null}\r\n              </div>\r\n            );\r\n        }\r\n    }\r\n  }\r\n}\r\n\r\nconst mapStateToProps = ({ auth }) => {\r\n  return { auth };\r\n};\r\n\r\nexport default withRouter(connect(mapStateToProps)(JobSummaryTable));\r\n","import React from \"react\";\r\nimport { Route, Redirect } from \"react-router-dom\";\r\nimport { connect } from \"react-redux\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nconst VIP = ({ component: Component, auth, ...rest }) => (\r\n  <Route\r\n    {...rest}\r\n    render={props =>\r\n      auth.isAuthenticated === true ? (\r\n        <Component {...props} />\r\n      ) : (\r\n        <Redirect to=\"/login\" />\r\n      )\r\n    }\r\n  />\r\n);\r\n\r\nVIP.propTypes = {\r\n  auth: PropTypes.object.isRequired\r\n};\r\n\r\nconst mapStateToProps = state => ({\r\n  auth: state.auth\r\n});\r\n\r\nexport default connect(mapStateToProps)(VIP);\r\n","import React, { Component } from \"react\";\r\nimport { withRouter } from \"react-router-dom\";\r\n\r\nimport { Nav, Navbar, Image } from \"react-bootstrap\";\r\n\r\nimport \"./ExNavbar.css\";\r\nclass ExNavbar extends Component {\r\n  render() {\r\n    return (\r\n      <Navbar expand=\"lg\" className=\"nav-bar\">\r\n        <Navbar.Brand\r\n          href=\"#\"\r\n          onClick={e => {\r\n            e.preventDefault();\r\n            this.props.history.push(\"/\");\r\n          }}\r\n        >\r\n          <Image className=\"logo\" src=\"../../../images/logo.jpg\" />\r\n        </Navbar.Brand>\r\n        <Nav className=\"ml-auto\">\r\n          <Nav.Item>\r\n            <form className=\"form-inline mt-2 mt-md-0\">\r\n              <button\r\n                onClick={e => {\r\n                  e.preventDefault();\r\n                  this.props.history.push(\"/login\");\r\n                }}\r\n                className=\"btn btn-outline-success my-2 my-sm-0 font\"\r\n                type=\"button\"\r\n              >\r\n                SIGN IN\r\n              </button>\r\n            </form>\r\n          </Nav.Item>\r\n        </Nav>\r\n      </Navbar>\r\n    );\r\n  }\r\n}\r\n\r\nexport default withRouter(ExNavbar);\r\n","import React from \"react\";\r\n\r\nimport Container from \"react-bootstrap/Container\";\r\nimport Col from \"react-bootstrap/Col\";\r\nimport Row from \"react-bootstrap/Row\";\r\nimport Nav from \"react-bootstrap/Nav\";\r\n\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport {\r\n  faWhatsapp,\r\n  faFacebook,\r\n  faInstagram,\r\n  faLinkedin,\r\n  faTelegram\r\n} from \"@fortawesome/free-brands-svg-icons\";\r\n\r\nimport MediaQuery from \"react-responsive\";\r\n\r\nimport \"./Footer.css\";\r\nexport default function Footer() {\r\n  return (\r\n    <div id=\"footer-div\">\r\n      <div className=\"section-footer\">\r\n        <Container>\r\n          <Row className=\"nav-btm\">\r\n            <Col xs={6} md={{ span: 3, offset: 0 }}>\r\n              <Nav defaultActiveKey=\"#home\" className=\"flex-column\">\r\n                <Nav.Link className=\"disabled title-footer\">Company</Nav.Link>\r\n                <Nav.Link\r\n                  href=\"https://www.shipsuppliesdirect.com/\"\r\n                  target=\"_blank\"\r\n                >\r\n                  About Ship Supplies Direct\r\n                </Nav.Link>\r\n                <Nav.Link href=\"https://medium.com/@shipsuppliesdirect\">\r\n                  Blog\r\n                </Nav.Link>\r\n                <Nav.Link href=\"/\">Press</Nav.Link>\r\n              </Nav>\r\n            </Col>\r\n            {/*<Col xs={6} md={{ span: 3, offset: 0 }}>*/}\r\n            {/*    <Nav defaultActiveKey=\"#home\" className=\"flex-column\">*/}\r\n            {/*        <Nav.Link className='disabled title-footer'>SimpFleet</Nav.Link>*/}\r\n            {/*        <Nav.Link href=\"/\" target=\"_blank\">FAQ</Nav.Link>*/}\r\n            {/*        <Nav.Link href=\"/\" target=\"_blank\">Career</Nav.Link>*/}\r\n            {/*    </Nav>*/}\r\n            {/*</Col>*/}\r\n          </Row>\r\n          <Row>\r\n            <hr className=\"line-footer\" />\r\n          </Row>\r\n          <MediaQuery query=\"(min-width: 426px)\">\r\n            <Row className=\"font-large\">\r\n              <Col>\r\n                <h6 className=\"h6-footer\">2019 Ship Supplies Direct</h6>\r\n              </Col>\r\n              <Col\r\n                md={{ span: 3, offset: 0 }}\r\n                className=\"d-flex justify-content-end align-items-start\"\r\n              >\r\n                <a\r\n                  href=\"https://api.whatsapp.com/send?phone=6587480467\"\r\n                  target=\"_blank\"\r\n                  className=\"sicon\"\r\n                >\r\n                  <FontAwesomeIcon\r\n                    icon={faWhatsapp}\r\n                    color=\"white\"\r\n                    className=\"highlight\"\r\n                  />\r\n                </a>\r\n                <a\r\n                  href=\"https://www.facebook.com/SimpFleet-2427717804140333/\"\r\n                  target=\"_blank\"\r\n                  className=\"sicon\"\r\n                >\r\n                  <FontAwesomeIcon\r\n                    icon={faFacebook}\r\n                    color=\"white\"\r\n                    className=\"highlight\"\r\n                  />\r\n                </a>\r\n                <a\r\n                  href=\"https://www.instagram.com/shipsuppliesdirect/\"\r\n                  target=\"_blank\"\r\n                  className=\"sicon\"\r\n                >\r\n                  <FontAwesomeIcon\r\n                    icon={faInstagram}\r\n                    color=\"white\"\r\n                    className=\"highlight\"\r\n                  />\r\n                </a>\r\n                {/*<a href='#home' target='_blank' className='sicon'><FontAwesomeIcon icon={faWeixin} color=\"white\" className='highlight'/></a>*/}\r\n                <a\r\n                  href=\"https://www.linkedin.com/company/ship-supplies-direct/\"\r\n                  target=\"_blank\"\r\n                  className=\"sicon\"\r\n                >\r\n                  <FontAwesomeIcon\r\n                    icon={faLinkedin}\r\n                    color=\"white\"\r\n                    className=\"highlight\"\r\n                  />\r\n                </a>\r\n                <a\r\n                  href=\"https://telegram.me/ShipSuppliesDirect\"\r\n                  target=\"_blank\"\r\n                  className=\"sicon\"\r\n                >\r\n                  <FontAwesomeIcon\r\n                    icon={faTelegram}\r\n                    color=\"white\"\r\n                    className=\"highlight\"\r\n                  />\r\n                </a>\r\n              </Col>\r\n            </Row>\r\n          </MediaQuery>\r\n          <MediaQuery query=\"(max-width: 425px)\">\r\n            <Row className=\"font-large\">\r\n              <Col className=\"d-flex justify-content-center align-items-start\">\r\n                <h6 className=\"h6-footer\">2019 Ship Supplies Direct</h6>\r\n              </Col>\r\n            </Row>\r\n            <Row className=\"font-large\">\r\n              <Col className=\"d-flex justify-content-center align-items-start\">\r\n                <a\r\n                  href=\"https://api.whatsapp.com/send?phone=6587480467\"\r\n                  target=\"_blank\"\r\n                  className=\"sicon\"\r\n                >\r\n                  <FontAwesomeIcon\r\n                    icon={faWhatsapp}\r\n                    color=\"white\"\r\n                    className=\"highlight\"\r\n                  />\r\n                </a>\r\n                <a\r\n                  href=\"https://www.facebook.com/SimpFleet-2427717804140333/\"\r\n                  target=\"_blank\"\r\n                  className=\"sicon\"\r\n                >\r\n                  <FontAwesomeIcon\r\n                    icon={faFacebook}\r\n                    color=\"white\"\r\n                    className=\"highlight\"\r\n                  />\r\n                </a>\r\n                <a\r\n                  href=\"https://www.instagram.com/shipsuppliesdirect/\"\r\n                  target=\"_blank\"\r\n                  className=\"sicon\"\r\n                >\r\n                  <FontAwesomeIcon\r\n                    icon={faInstagram}\r\n                    color=\"white\"\r\n                    className=\"highlight\"\r\n                  />\r\n                </a>\r\n                {/*<a href='#home' target='_blank' className='sicon'><FontAwesomeIcon icon={faWeixin} color=\"white\" className='highlight' /></a>*/}\r\n                <a\r\n                  href=\"https://www.linkedin.com/company/ship-supplies-direct/\"\r\n                  target=\"_blank\"\r\n                  className=\"sicon\"\r\n                >\r\n                  <FontAwesomeIcon\r\n                    icon={faLinkedin}\r\n                    color=\"white\"\r\n                    className=\"highlight\"\r\n                  />\r\n                </a>\r\n                <a\r\n                  href=\"https://telegram.me/ShipSuppliesDirect\"\r\n                  target=\"_blank\"\r\n                  className=\"sicon\"\r\n                >\r\n                  <FontAwesomeIcon\r\n                    icon={faTelegram}\r\n                    color=\"white\"\r\n                    className=\"highlight\"\r\n                  />\r\n                </a>\r\n              </Col>\r\n            </Row>\r\n          </MediaQuery>\r\n        </Container>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import React, { Component } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport { connect } from \"react-redux\";\r\nimport { loginUser } from \"../../actions/authAction\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport { NavLink, Redirect } from \"react-router-dom\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport { Grid, Paper, TextField } from \"@material-ui/core\";\r\nimport FormControlLabel from \"@material-ui/core/FormControlLabel\";\r\nimport Checkbox from \"@material-ui/core/Checkbox\";\r\nimport { Container, Row, Col, Form } from \"reactstrap\";\r\nimport { createMuiTheme } from \"@material-ui/core/styles\";\r\nimport { ThemeProvider } from \"@material-ui/styles\";\r\nimport \"./Login.css\";\r\nclass Login extends Component {\r\n  constructor() {\r\n    super();\r\n    this.state = {\r\n      email: \"\",\r\n      password: \"\",\r\n      rememberMe: false,\r\n      errors: {}\r\n    };\r\n\r\n    this.onChange = this.onChange.bind(this);\r\n    this.onSubmit = this.onSubmit.bind(this);\r\n  }\r\n\r\n  componentDidMount() {\r\n    if (this.props.auth.isAuthenticated) {\r\n      this.props.history.push(\"/dashboard\");\r\n      if (\r\n        localStorage.getItem(\"checked\") &&\r\n        localStorage.getItem(\"checked\") !== \"\"\r\n      ) {\r\n        this.setState({\r\n          email: localStorage.getItem(\"email\"),\r\n          password: localStorage.getItem(\"password\"),\r\n          rememberMe: true\r\n        });\r\n      }\r\n    }\r\n  }\r\n\r\n  componentWillReceiveProps(nextProps) {\r\n    if (nextProps.auth.isAuthenticated) {\r\n      this.props.history.push(\"/dashboard\");\r\n    }\r\n\r\n    if (nextProps.errors) {\r\n      this.setState({ errors: nextProps.errors });\r\n    }\r\n  }\r\n\r\n  onSubmit(e) {\r\n    e.preventDefault();\r\n\r\n    const userData = {\r\n      email: this.state.email,\r\n      password: this.state.password\r\n    };\r\n    if (this.state.rememberMe) {\r\n      localStorage.setItem(\"checked\", \"checked\");\r\n      localStorage.setItem(\"email\", this.state.email);\r\n      localStorage.setItem(\"password\", this.state.password);\r\n    } else {\r\n      localStorage.setItem(\"checked\", \"\");\r\n    }\r\n    this.props.loginUser(userData);\r\n  }\r\n\r\n  onChange(e) {\r\n    this.setState({ [e.target.name]: e.target.value });\r\n  }\r\n  onChecked = e => {\r\n    this.setState({ rememberMe: e.target.checked });\r\n  };\r\n  renderContent = () => {\r\n    const { errors } = this.state;\r\n    switch (this.props.auth.isAuthenticated) {\r\n      case false:\r\n        return (\r\n          <Container fluid className=\"signin-background\">\r\n            <Row>\r\n              <Col xs=\"12\" md={{ size: 10, offset: 1 }}>\r\n                <Row>\r\n                  <Col md={{ size: 4, offset: 4 }}>\r\n                    <Paper className=\"signin-top\">\r\n                      <Form onSubmit={this.onSubmit}>\r\n                        <Grid container spacing={0}>\r\n                          <Grid item xs={12}>\r\n                            <h2 className=\"text-center signin-title\">Log In</h2>\r\n                          </Grid>\r\n                          <Grid item xs={12}>\r\n                            <TextField\r\n                              name=\"email\"\r\n                              type=\"email\"\r\n                              value={this.state.email}\r\n                              onChange={this.onChange}\r\n                              variant=\"outlined\"\r\n                              fullWidth\r\n                              id=\"email-login\"\r\n                              label=\"Email Address\"\r\n                              autoComplete=\"email\"\r\n                              autoFocus\r\n                            />\r\n                            <Typography\r\n                              variant=\"caption\"\r\n                              display=\"block\"\r\n                              style={{ color: \"red\" }}\r\n                            >\r\n                              {errors.email}\r\n                            </Typography>\r\n                            <TextField\r\n                              variant=\"outlined\"\r\n                              margin=\"normal\"\r\n                              name=\"password\"\r\n                              type=\"password\"\r\n                              value={this.state.password}\r\n                              onChange={this.onChange}\r\n                              fullWidth\r\n                              label=\"Password\"\r\n                              id=\"password\"\r\n                              autoComplete=\"current-password\"\r\n                              helperText=\"\"\r\n                            />\r\n                            <Typography\r\n                              variant=\"caption\"\r\n                              display=\"block\"\r\n                              style={{ color: \"red\" }}\r\n                            >\r\n                              {errors.password}\r\n                            </Typography>\r\n                          </Grid>\r\n                          <Grid item>\r\n                            <FormControlLabel\r\n                              control={\r\n                                <Checkbox\r\n                                  onChange={this.onChecked}\r\n                                  checked={this.state.rememberMe}\r\n                                  color=\"primary\"\r\n                                />\r\n                              }\r\n                              label=\"Remember me\"\r\n                            />\r\n                          </Grid>\r\n                          <Grid item xs={12}>\r\n                            <Button\r\n                              type=\"submit\"\r\n                              fullWidth\r\n                              variant=\"contained\"\r\n                              color=\"primary\"\r\n                              className=\"button-text\"\r\n                            >\r\n                              Sign In\r\n                            </Button>\r\n                          </Grid>\r\n                          <Grid item xs={12}>\r\n                            <p className=\"text-center signin-forget\">\r\n                              <NavLink to=\"/password_reset\" className=\"link\">\r\n                                Forgot Password?\r\n                              </NavLink>\r\n                            </p>\r\n                          </Grid>\r\n                        </Grid>\r\n                      </Form>\r\n                    </Paper>\r\n                  </Col>\r\n                </Row>\r\n              </Col>\r\n            </Row>\r\n          </Container>\r\n        );\r\n      case null:\r\n        return <Redirect to=\"/\" />;\r\n    }\r\n  };\r\n  render() {\r\n    const theme = createMuiTheme({\r\n      palette: {\r\n        primary: {\r\n          main: \"#49AE4B\"\r\n        }\r\n      }\r\n    });\r\n\r\n    return (\r\n      <ThemeProvider theme={theme}>\r\n        <div>{this.renderContent()}</div>\r\n      </ThemeProvider>\r\n    );\r\n  }\r\n}\r\n\r\nLogin.propTypes = {\r\n  loginUser: PropTypes.func.isRequired,\r\n  auth: PropTypes.object.isRequired,\r\n  errors: PropTypes.object.isRequired\r\n};\r\n\r\nconst mapStateToProps = state => ({\r\n  auth: state.auth,\r\n  errors: state.errors\r\n});\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  { loginUser }\r\n)(Login);\r\n","import React, { Component } from \"react\";\r\nimport { Col, Container, Row } from \"reactstrap\";\r\n\r\nimport JobSummaryTable from \"../Job/JobSummaryTable\";\r\n\r\nclass AdminDashboard extends Component {\r\n  constructor() {\r\n    super();\r\n    this.state = {\r\n      searchText: \"\",\r\n      currentPage: 1,\r\n      postPerPage: 50\r\n    };\r\n    this.paginate = this.paginate.bind(this);\r\n  }\r\n\r\n  paginate(pageNumber) {\r\n    this.setState({ currentPage: pageNumber });\r\n  }\r\n  render() {\r\n    return (\r\n      <Container fluid>\r\n        <Row>\r\n          <Col md=\"12\">\r\n            <JobSummaryTable\r\n              postsPerPage={this.state.postPerPage}\r\n              paginate={this.paginate}\r\n              currentPage={this.state.currentPage}\r\n            />\r\n          </Col>\r\n        </Row>\r\n      </Container>\r\n    );\r\n  }\r\n}\r\n\r\nexport default AdminDashboard;\r\n","import React, { Component } from \"react\";\r\nimport { Col, Container, Row } from \"reactstrap\";\r\n\r\nimport JobSummaryTable from \"../Job/JobSummaryTable\";\r\nimport SidebarMenu from \"../../SidebarMenu/SidebarMenu\";\r\nimport MediaQuery from \"react-responsive\";\r\n\r\nclass ConsumerDashboard extends Component {\r\n  render() {\r\n    return (\r\n      <Container fluid>\r\n        <MediaQuery minWidth={769}>\r\n          <Row>\r\n            <Col xs=\"2\">\r\n              <SidebarMenu />\r\n            </Col>\r\n            <Col xs=\"10\">\r\n              <Row>\r\n                <Col xs=\"12\" style={{ padding: \"0 40px\" }}>\r\n                  <h3 className=\"job-summary-header\">Dashboard</h3>\r\n                  <JobSummaryTable\r\n                    user_only={true}\r\n                    allowArchive={true}\r\n                    button={true}\r\n                    non_archive_only={true}\r\n                  />\r\n                </Col>\r\n              </Row>\r\n            </Col>\r\n          </Row>\r\n        </MediaQuery>\r\n        <MediaQuery maxWidth={768}>\r\n          <Row>\r\n            <Col xs=\"12\" style={{ padding: \"20px 10px\" }}>\r\n              {/*<h3 className='job-summary-header'>Dashboard</h3>*/}\r\n              <JobSummaryTable\r\n                user_only={true}\r\n                allowArchive={true}\r\n                button={true}\r\n                non_archive_only={true}\r\n                title=\"Dashboard\"\r\n              />\r\n            </Col>\r\n          </Row>\r\n        </MediaQuery>\r\n      </Container>\r\n    );\r\n  }\r\n}\r\nexport default ConsumerDashboard;\r\n","import React, { Component } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { Redirect } from \"react-router-dom\";\r\n\r\nimport AdminDashboard from \"./Admin/AdminDashboard\";\r\nimport ConsumerDashboard from \"./Consumer/ConsumerDashboard\";\r\n\r\nclass Dashboard extends Component {\r\n  render() {\r\n    switch (this.props.auth) {\r\n      case null:\r\n        return <div></div>;\r\n      case false:\r\n        return <Redirect to=\"/\" />;\r\n      default:\r\n        switch (this.props.auth.user.userType) {\r\n          case \"Admin\":\r\n            return <AdminDashboard />;\r\n          default:\r\n            return <ConsumerDashboard />;\r\n        }\r\n    }\r\n  }\r\n}\r\n\r\nconst mapStateToProps = ({ auth }) => {\r\n  return { auth };\r\n};\r\n\r\nexport default connect(mapStateToProps)(Dashboard);\r\n","import React, { Component } from \"react\";\r\nimport { Col, Container, Row } from \"reactstrap\";\r\n\r\nimport JobSummaryTable from \"../../Dashboard/Job/JobSummaryTable\";\r\nimport SidebarMenu from \"../../SidebarMenu/SidebarMenu\";\r\nimport MediaQuery from \"react-responsive\";\r\n\r\nclass UserHistory extends Component {\r\n  render() {\r\n    return (\r\n      <Container fluid>\r\n        <MediaQuery minWidth={769}>\r\n          <Row>\r\n            <Col xs=\"2\">\r\n              <SidebarMenu />\r\n            </Col>\r\n            <Col xs=\"10\">\r\n              <Row>\r\n                <Col xs=\"12\" style={{ padding: \"0 40px\" }}>\r\n                  <h3 className=\"job-summary-header\">History</h3>\r\n                  <JobSummaryTable\r\n                    user_only={true}\r\n                    button={false}\r\n                    archive_only={true}\r\n                    allowArchive={false}\r\n                  />\r\n                </Col>\r\n              </Row>\r\n            </Col>\r\n          </Row>\r\n        </MediaQuery>\r\n        <MediaQuery maxWidth={768}>\r\n          <Row>\r\n            <Col xs=\"12\" style={{ padding: \"20px 10px\" }}>\r\n              {/*<h3 className='job-summary-header'>History</h3>*/}\r\n              <JobSummaryTable\r\n                user_only={true}\r\n                button={false}\r\n                archive_only={true}\r\n                allowArchive={false}\r\n                title=\"History\"\r\n              />\r\n            </Col>\r\n          </Row>\r\n        </MediaQuery>\r\n      </Container>\r\n    );\r\n  }\r\n}\r\n\r\nexport default UserHistory;\r\n","import React, { Component } from \"react\";\r\nimport { Col, Container, Row } from \"reactstrap\";\r\n\r\nimport JobSummaryTable from \"../../Dashboard/Job/JobSummaryTable\";\r\n\r\nclass AdminHistory extends Component {\r\n  render() {\r\n    return (\r\n      <Container fluid style={{ marginTop: \"-50px\" }}>\r\n        <br />\r\n        <h1 className=\"text-center\">History</h1>\r\n        <Row>\r\n          <Col xs=\"12\" md={{ size: 10, offset: 1 }}>\r\n            <JobSummaryTable user_only={false} />\r\n          </Col>\r\n        </Row>\r\n      </Container>\r\n    );\r\n  }\r\n}\r\nexport default AdminHistory;\r\n","import React, { Component } from \"react\";\r\nimport { Redirect } from \"react-router-dom\";\r\nimport { connect } from \"react-redux\";\r\n\r\nimport UserHistory from \"./User/UserHistory\";\r\nimport AdminHistory from \"./Admin/AdminHistory\";\r\n\r\nclass History extends Component {\r\n  render() {\r\n    switch (this.props.auth) {\r\n      case null:\r\n        return <div></div>;\r\n      case false:\r\n        return <Redirect to=\"/\" />;\r\n      default:\r\n        switch (this.props.auth.user.userType) {\r\n          case \"Admin\":\r\n            return <AdminHistory />;\r\n          default:\r\n            return <UserHistory />;\r\n        }\r\n    }\r\n  }\r\n}\r\n\r\nconst mapStateToProps = ({ auth }) => {\r\n  return { auth };\r\n};\r\nexport default connect(mapStateToProps)(History);\r\n","import React, { Component } from \"react\";\r\nimport { Input, Table, Button, Container, Row, Col } from \"reactstrap\";\r\nimport axios from \"axios\";\r\n\r\nclass JobAssignment extends Component {\r\n  state = {\r\n    jobAssignments: null,\r\n    logisticsCompanies: null\r\n  };\r\n\r\n  componentDidMount() {\r\n    axios\r\n      .get(\"/api/job_assignments\")\r\n      .then(res => {\r\n        this.setState({\r\n          jobAssignments: res.data.reverse()\r\n        });\r\n      })\r\n      .catch(err => {\r\n        console.log(err);\r\n      });\r\n\r\n    axios\r\n      .get(\"/api/logistics_companies\")\r\n      .then(res => {\r\n        this.setState({\r\n          logisticsCompanies: res.data\r\n        });\r\n      })\r\n      .catch(err => {\r\n        console.log(err);\r\n      });\r\n  }\r\n\r\n  saveJobAssignments = () => {\r\n    axios\r\n      .put(\"/api/job_assignments\", {\r\n        jobAssignments: this.state.jobAssignments\r\n      })\r\n      .then(res => {\r\n        window.location.reload();\r\n      })\r\n      .catch(err => {\r\n        console.log(err);\r\n      });\r\n  };\r\n\r\n  renderLogisticsCompanies = jobAssignment => {\r\n    const defaultValue = \"Please Select\";\r\n    return (\r\n      <Input\r\n        type=\"select\"\r\n        value={\r\n          jobAssignment.logisticsCompany !== undefined\r\n            ? jobAssignment.logisticsCompany.name\r\n            : defaultValue\r\n        }\r\n        onChange={e => {\r\n          const jobAssignments = this.state.jobAssignments;\r\n          for (let i = 0; i < jobAssignments.length; i++) {\r\n            const jobAssignmentObj = jobAssignments[i];\r\n            if (jobAssignmentObj._id === jobAssignment._id) {\r\n              const logisticsCompanies = this.state.logisticsCompanies;\r\n              for (let j = 0; j < logisticsCompanies.length; j++) {\r\n                const logisticsCompanyObj = logisticsCompanies[j];\r\n                if (logisticsCompanyObj.name === e.target.value) {\r\n                  jobAssignmentObj.logisticsCompany = logisticsCompanyObj;\r\n                  break;\r\n                }\r\n              }\r\n              break;\r\n            }\r\n          }\r\n          this.setState({ jobAssignments });\r\n        }}\r\n      >\r\n        <option>{defaultValue}</option>\r\n        {this.state.logisticsCompanies.map((logisticsCompany, index) => {\r\n          return <option key={index}>{logisticsCompany.name}</option>;\r\n        })}\r\n      </Input>\r\n    );\r\n  };\r\n\r\n  render() {\r\n    console.log(this.state.jobAssignments);\r\n    switch (this.state.jobAssignments) {\r\n      case null:\r\n        return <div></div>;\r\n      default:\r\n        switch (this.state.logisticsCompanies) {\r\n          case null:\r\n            return <div></div>;\r\n          default:\r\n            const jobAssignments = this.state.jobAssignments.map(\r\n              (jobAssignment, index) => {\r\n                return (\r\n                  <tr key={index}>\r\n                    <td>{index + 1}</td>\r\n                    <td>{jobAssignment.job.jobId}</td>\r\n                    <td>{this.renderLogisticsCompanies(jobAssignment)}</td>\r\n                  </tr>\r\n                );\r\n              }\r\n            );\r\n\r\n            return (\r\n              <Container fluid>\r\n                <br />\r\n                <Row>\r\n                  <Col xs=\"12\" className=\"text-center\">\r\n                    <Button\r\n                      type=\"button\"\r\n                      onClick={e => this.saveJobAssignments()}\r\n                    >\r\n                      Save Changes\r\n                    </Button>\r\n                  </Col>\r\n                </Row>\r\n                <br />\r\n\r\n                <Table striped hover bordered responsive>\r\n                  <tr>\r\n                    <th>No.</th>\r\n                    <th>Job Number</th>\r\n                    <th>Assignment</th>\r\n                  </tr>\r\n                  {jobAssignments}\r\n                </Table>\r\n              </Container>\r\n            );\r\n        }\r\n    }\r\n  }\r\n}\r\n\r\nexport default JobAssignment;\r\n","import \"./SideMenuSlider.css\";\r\nimport React, { Component } from \"react\";\r\n\r\nimport CreateJobModal from \"../Job/CreateJobModal\";\r\nimport Divider from \"@material-ui/core/Divider\";\r\nimport Grid from \"@material-ui/core/Grid\";\r\nimport Fab from \"@material-ui/core/Fab\";\r\nimport { push as Menu } from \"react-burger-menu\";\r\nimport { NavLink, withRouter } from \"react-router-dom\";\r\nimport MediaQuery from \"react-responsive\";\r\nimport { connect } from \"react-redux\";\r\nimport CloseIcon from \"@material-ui/icons/Close\";\r\nimport IconButton from \"@material-ui/core/IconButton\";\r\nimport AddIcon from \"@material-ui/icons/Add\";\r\n\r\nclass SideMenuSlider extends Component {\r\n  state = {\r\n    showHistory: false,\r\n    showModal: false\r\n  };\r\n\r\n  handleOpenModal = () => {\r\n    this.setState({ showModal: true });\r\n  };\r\n\r\n  handleCloseModal = () => {\r\n    this.setState({ showModal: false });\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <MediaQuery maxWidth={768}>\r\n        <Menu\r\n          pageWrapId={\"page-wrap\"}\r\n          outerContainerId={\"outer-container\"}\r\n          customBurgerIcon={false}\r\n          isOpen={this.props.open}\r\n          onStateChange={state => this.props.handleMenuStateChange(state)}\r\n          customCrossIcon={false}\r\n          className=\"menu-width\"\r\n        >\r\n          <Grid container spacing={3}>\r\n            <Grid item xs={12} className=\"d-flex align-items-center\">\r\n              <IconButton\r\n                className=\"closeButtonMenu ml-auto\"\r\n                onClick={this.props.handleCloseMenu}\r\n              >\r\n                <CloseIcon className=\"closeIconMenu\" />\r\n              </IconButton>\r\n            </Grid>\r\n            <Grid item xs={12} className=\"d-flex justify-content-center\">\r\n              <Fab\r\n                variant=\"extended\"\r\n                size=\"large\"\r\n                className=\"side-bar-create-job-button\"\r\n                onClick={this.handleOpenModal}\r\n              >\r\n                <AddIcon style={{ marginRight: \"5px\" }} fontSize=\"small\" />\r\n                Create job\r\n              </Fab>\r\n            </Grid>\r\n            <Grid item xs={12}>\r\n              <NavLink\r\n                to=\"/\"\r\n                className=\"sidebar-link\"\r\n                onClick={this.props.handleCloseMenu}\r\n              >\r\n                Home\r\n              </NavLink>\r\n            </Grid>\r\n            <Grid item xs={12}>\r\n              <NavLink\r\n                to=\"/dashboard\"\r\n                className=\"sidebar-link\"\r\n                onClick={this.props.handleCloseMenu}\r\n              >\r\n                Dashboard\r\n              </NavLink>\r\n            </Grid>\r\n            <Grid item xs={12}>\r\n              {/* {this.state.showHistory ? ( */}\r\n              <NavLink\r\n                to=\"/history\"\r\n                className=\"sidebar-link\"\r\n                onClick={this.props.handleCloseMenu}\r\n              >\r\n                History\r\n              </NavLink>\r\n              {/* ) : (\r\n                \"\"\r\n              )} */}\r\n            </Grid>\r\n            <Grid\r\n              item\r\n              xs={12}\r\n              className=\"d-flex align-items-center justify-content-center\"\r\n            >\r\n              <Divider style={{ width: \"85%\" }} />\r\n            </Grid>\r\n            <Grid item xs={12}>\r\n              <NavLink\r\n                to=\"/\"\r\n                className=\"sidebar-secondary-link\"\r\n                onClick={this.props.handleCloseMenu}\r\n              >\r\n                FAQ\r\n              </NavLink>\r\n            </Grid>\r\n            <Grid item xs={12}>\r\n              <NavLink\r\n                to=\"/\"\r\n                className=\"sidebar-secondary-link\"\r\n                onClick={this.props.handleCloseMenu}\r\n              >\r\n                Setting\r\n              </NavLink>\r\n            </Grid>\r\n            <Grid item xs={12}>\r\n              <NavLink\r\n                to=\"/\"\r\n                className=\"sidebar-secondary-link\"\r\n                onClick={this.onLogoutClick}\r\n              >\r\n                Logout\r\n              </NavLink>\r\n            </Grid>\r\n          </Grid>\r\n        </Menu>\r\n        <CreateJobModal\r\n          isOpen={this.state.showModal}\r\n          fullScreen={true}\r\n          handleCloseModal={this.handleCloseModal}\r\n          handlePopoverOpen={this.props.handlePopoverOpen}\r\n          handleCloseMenu={this.props.handleCloseMenu}\r\n        />\r\n      </MediaQuery>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = ({ auth }) => {\r\n  return { auth };\r\n};\r\n\r\nexport default withRouter(connect(mapStateToProps)(SideMenuSlider));\r\n","import React, {Component} from 'react';\r\nimport MenuItem from \"@material-ui/core/MenuItem\";\r\n\r\nimport './JobItemInput.css'\r\nimport InputGroup from \"react-bootstrap/InputGroup\";\r\nimport FormControl from \"react-bootstrap/FormControl\";\r\nimport Button from \"react-bootstrap/Button\";\r\nimport Container from 'react-bootstrap/Container';\r\nimport Row from 'react-bootstrap/Row';\r\nimport Col from 'react-bootstrap/Col';\r\nimport axios from \"axios\";\r\n\r\nfunction createUOMList(uom, quantity){\r\n    return {uom, quantity}\r\n}\r\n\r\nclass JobItemInput extends Component {\r\n    state = {\r\n        priceList: [],\r\n        UOMList:[],\r\n    };\r\n\r\n    componentDidMount() {\r\n        if(this.props.type === \"delivery\") {\r\n            axios.get(`/api/job_item_pricing`).then(res => {\r\n                const priceList = res.data;\r\n                const UOM = priceList.map(o => createUOMList(o.uom,0));\r\n                this.setState({priceList: priceList, UOMList:UOM});\r\n            }).catch(err => {\r\n                console.log(err);\r\n            });\r\n        } else {\r\n            axios.get(`/api/job_offland_item_pricing`).then(res => {\r\n                const priceList = res.data;\r\n                const UOM = priceList.map(o => createUOMList(o.uom,0));\r\n                this.setState({priceList: priceList, UOMList:UOM});\r\n            }).catch(err => {\r\n                console.log(err);\r\n            });\r\n        }\r\n    }\r\n\r\n    onQuantityUpdate = (value, newProduct) => {\r\n        value = Number(value);\r\n        if (value > 0) {\r\n            const products = this.props.jobItems;\r\n            const newProducts = [];\r\n            for (let i = 0; i < products.length; i++) {\r\n                let product = products[i];\r\n                if (product.id === newProduct.id) {\r\n                    newProducts.push({\r\n                        ...product,\r\n                        quantity: value\r\n                    });\r\n                } else {\r\n                    newProducts.push(product);\r\n                }\r\n            }\r\n            this.props.setItems(newProducts);\r\n        } else {\r\n            const index = this.props.jobItems.indexOf(newProduct);\r\n            this.props.jobItems.splice(index, 1);\r\n            this.props.setItems(this.props.jobItems);\r\n        }\r\n    };\r\n\r\n    handleAddEvent = (value, uom) => {\r\n        let itemPrice = this.state.priceList.filter(o => {\r\n            return o.uom === uom;\r\n        })[0];\r\n        const item = {\r\n            quantity: Number(value),\r\n            uom: uom,\r\n            id: (+new Date() + Math.floor(Math.random() * 999999)).toString(36),\r\n            job: null,\r\n            price: itemPrice.price,\r\n        };\r\n        const items = this.props.jobItems;\r\n        items.push(item);\r\n        this.props.setItems(this.props.jobItems);\r\n    };\r\n\r\n    render() {\r\n\r\n        let jobItems = this.props.jobItems;\r\n\r\n        const renderMenu = this.state.UOMList.map((item, index) => {\r\n            const jobItemsUOM = jobItems.reduce((a, jobItem) => {\r\n                a.push(jobItem.uom);\r\n                return a;\r\n            }, []);\r\n            if (!jobItemsUOM.includes(item.uom)) {\r\n                return (\r\n                    <MenuItem button={false} key={index}>\r\n                        <Row className='d-flex align-items-center'>\r\n                            <Col xs={2}>\r\n                                <h3 className='uom-label'>{item.uom}</h3>\r\n                            </Col>\r\n                            <Col xs={{span: 8, offset: 2}}>\r\n                                <InputGroup className=\"ml-auto\">\r\n                                    <InputGroup.Prepend>\r\n                                        <Button variant=\"outline-secondary\" className='uom-minus-btn'><img\r\n                                            src='/images/minus.png' alt='minus'/></Button>\r\n                                    </InputGroup.Prepend>\r\n                                    <FormControl\r\n                                        className='uom-input text-center'\r\n                                        min=\"0\" type='number' value={item.quantity}\r\n                                        onChange={()=>{}}\r\n                                        onKeyPress={e => {\r\n                                            if (e.key === 'Backspace' && item.quantity === 0) {\r\n                                                e.preventDefault();\r\n                                                e.stopPropagation();\r\n                                            } else if (/\\d/.test(e.key)) {\r\n                                                e.preventDefault();\r\n                                                e.stopPropagation();\r\n                                                this.handleAddEvent(parseInt(e.key), item.uom);\r\n                                            }\r\n                                        }}\r\n                                    />\r\n                                    <InputGroup.Append>\r\n                                        <Button variant=\"outline-secondary\" className='uom-plus-btn'\r\n                                                onClick={e => {\r\n                                                    this.handleAddEvent(item.quantity, item.uom);\r\n                                                    const jobItemSelected = jobItems.filter(o => {\r\n                                                        return o.uom === item.uom;\r\n                                                    })[0];\r\n                                                    this.onQuantityUpdate(1, jobItemSelected)\r\n                                                }}>\r\n                                            <img src='/images/plus.png' alt='plus'/>\r\n                                        </Button>\r\n                                    </InputGroup.Append>\r\n                                </InputGroup>\r\n                            </Col>\r\n                        </Row>\r\n                    </MenuItem>\r\n                );\r\n            } else {\r\n                const jobItemSelected = jobItems.filter(o => {\r\n                    return o.uom === item.uom;\r\n                })[0];\r\n                return (\r\n\r\n                    <MenuItem button={false} key={index}>\r\n                        <Row className='d-flex align-items-center'>\r\n                            <Col xs={2}>\r\n                                <h3 className='uom-label'>{item.uom}</h3>\r\n                            </Col>\r\n                            <Col xs={{span: 8, offset: 2}}>\r\n                                <InputGroup className=\"ml-auto\">\r\n                                    <InputGroup.Prepend>\r\n                                        <Button variant=\"outline-secondary\" className='uom-minus-btn'\r\n                                                onClick={e => {\r\n                                                    this.onQuantityUpdate(parseInt(document.getElementById(`value${index}`).value) - 1, jobItemSelected)\r\n                                                }}><img src='/images/minus.png' alt='minus'/></Button>\r\n                                    </InputGroup.Prepend>\r\n                                    <FormControl\r\n                                        id={`value${index}`}\r\n                                        className='uom-input text-center'\r\n                                        min=\"0\" type='number' value={parseInt(jobItemSelected.quantity)}\r\n                                        onChange={(e) => {\r\n                                            this.onQuantityUpdate(parseInt(e.target.value), jobItemSelected);\r\n                                        }}\r\n                                        onKeyDown={e => {\r\n                                            if (e.keyCode === 8) {\r\n                                                if (jobItemSelected.quantity === 0) {\r\n                                                    e.preventDefault();\r\n                                                    e.stopPropagation();\r\n                                                } else if (jobItemSelected.quantity.toString().length === 1) {\r\n                                                    this.onQuantityUpdate(0, jobItemSelected)\r\n                                                }\r\n                                            }\r\n                                        }}\r\n                                    />\r\n                                    <InputGroup.Append>\r\n                                        <Button variant=\"outline-secondary\" className='uom-plus-btn'\r\n                                                onClick={e => {\r\n                                                    this.onQuantityUpdate(parseInt(document.getElementById(`value${index}`).value) + 1, jobItemSelected)\r\n                                                }}><img src='/images/plus.png' alt='plus'/></Button>\r\n                                    </InputGroup.Append>\r\n                                </InputGroup>\r\n                            </Col>\r\n                        </Row>\r\n                    </MenuItem>\r\n                )\r\n            }\r\n\r\n        });\r\n\r\n        return (\r\n            <Container className='popover-conatiner'>\r\n                {renderMenu}\r\n            </Container>\r\n        );\r\n    }\r\n}\r\n\r\nexport default JobItemInput;","import React, { Component } from \"react\";\r\nimport Dialog from \"@material-ui/core/Dialog\";\r\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\r\nimport DialogContent from \"@material-ui/core/DialogContent\";\r\nimport DialogActions from \"@material-ui/core/DialogActions\";\r\nimport IconButton from \"@material-ui/core/IconButton\";\r\nimport CloseIcon from \"@material-ui/icons/Close\";\r\nimport DoneIcon from \"@material-ui/icons/Done\";\r\n\r\nimport Button from \"react-bootstrap/Button\";\r\nimport \"./AffirmationModal.css\";\r\n\r\nclass AffirmationModal extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      isMobile: false\r\n    };\r\n\r\n    this.updatePredicate = this.updatePredicate.bind(this);\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.updatePredicate();\r\n    window.addEventListener(\"resize\", this.updatePredicate);\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    window.removeEventListener(\"resize\", this.updatePredicate);\r\n  }\r\n\r\n  updatePredicate() {\r\n    this.setState({ isMobile: window.innerWidth < 426 });\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <Dialog\r\n        open={this.props.modal}\r\n        onClose={this.props.toggle}\r\n        maxWidth=\"xs\"\r\n        fullWidth={false}\r\n        // fullScreen={this.state.isMobile}\r\n      >\r\n        <DialogTitle className=\"dialog-top\">\r\n          <div className=\"d-flex align-items-center\">\r\n            <p className=\"info-modal-title\">{this.props.title}</p>\r\n            <IconButton\r\n              className=\"closeButton ml-auto\"\r\n              onClick={this.props.toggle}\r\n            >\r\n              <CloseIcon className=\"closeButton\" />\r\n            </IconButton>\r\n          </div>\r\n        </DialogTitle>\r\n        <DialogContent className=\"info-modal-content\">\r\n          <div className=\"info-modal-message text-center\">\r\n            {this.props.children}\r\n          </div>\r\n        </DialogContent>\r\n        <DialogActions className=\"info-modal-bottom\">\r\n          <div className=\"d-flex align-items-center justify-content-center w-100\">\r\n            <Button\r\n              variant=\"success\"\r\n              className=\"info-button\"\r\n              onClick={this.props.affirmativeAction}\r\n            >\r\n              <span>{this.props.affirmativeText}</span>\r\n            </Button>\r\n            <Button\r\n              variant=\"outline-success\"\r\n              className=\"info-button info-button-cancel\"\r\n              onClick={this.props.toggle}\r\n              style={{ marginLeft: \"15px\" }}\r\n            >\r\n              <span>{this.props.cancelText}</span>\r\n            </Button>\r\n          </div>\r\n        </DialogActions>\r\n      </Dialog>\r\n    );\r\n  }\r\n}\r\n\r\nexport default AffirmationModal;\r\n","import React, { Component } from \"react\";\r\nimport { Button, Modal, ModalBody, ModalFooter, ModalHeader } from \"reactstrap\";\r\n\r\nclass InformationModal extends Component {\r\n  render() {\r\n    return (\r\n      <Modal\r\n        isOpen={this.props.modal}\r\n        toggle={this.props.toggle}\r\n        onClosed={this.props.onClosed}\r\n      >\r\n        <ModalHeader toggle={this.props.toggle}>{this.props.title}</ModalHeader>\r\n        <ModalBody>{this.props.children}</ModalBody>\r\n        <ModalFooter>\r\n          <Button color=\"primary\" onClick={this.props.onClosed}>\r\n            Ok\r\n          </Button>\r\n        </ModalFooter>\r\n      </Modal>\r\n    );\r\n  }\r\n}\r\n\r\nexport default InformationModal;\r\n","import React, { Component } from \"react\";\r\nimport \"react-dates/initialize\";\r\nimport InputGroup from \"react-bootstrap/InputGroup\";\r\nimport FormControl from \"react-bootstrap/FormControl\";\r\nimport moment from \"moment\";\r\nimport { Button } from \"react-bootstrap\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport { faCalendarAlt } from \"@fortawesome/free-solid-svg-icons\";\r\nimport { DayPickerSingleDateController } from \"react-dates\";\r\nimport \"react-dates/lib/css/_datepicker.css\";\r\nimport isInclusivelyAfterDay from \"react-dates/src/utils/isInclusivelyAfterDay\";\r\n\r\nimport \"./DateInputComponent.css\";\r\n\r\nclass DateInputComponent extends Component {\r\n  state = {\r\n    focused: false\r\n  };\r\n\r\n  onClickOutside = () => {\r\n    // Force the focused states to always be truthy so that date is always selectable\r\n    window.setTimeout(() => {\r\n      this.setState({ focused: false });\r\n    }, 100);\r\n  };\r\n\r\n  toggleController = () => {\r\n    this.setState({ focused: !this.state.focused });\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <div>\r\n        <div style={{ marginBottom: 16 }}>\r\n          <InputGroup>\r\n            <FormControl\r\n              type=\"text\"\r\n              value={moment(this.props.DateTime).format(\"DD MMMM YYYY\")}\r\n              className=\"job-detail-section--date-input\"\r\n              disabled={this.props.disabled}\r\n              onChange={() => {}}\r\n            />\r\n            <InputGroup.Append>\r\n              <Button\r\n                variant=\"outline-success\"\r\n                onClick={this.toggleController}\r\n                className=\"calendar-button\"\r\n                disabled={this.props.disabled}\r\n              >\r\n                <FontAwesomeIcon icon={faCalendarAlt} color=\"white\" />\r\n              </Button>\r\n            </InputGroup.Append>\r\n          </InputGroup>\r\n        </div>\r\n        {this.state.focused ? (\r\n          <div style={{ zIndex: \"100\", position: \"absolute\" }}>\r\n            <DayPickerSingleDateController\r\n              date={moment(this.props.DateTime)}\r\n              onDateChange={this.props.handleDateChange}\r\n              onOutsideClick={this.onClickOutside}\r\n              numberOfMonths={1}\r\n              isOutsideRange={day => !isInclusivelyAfterDay(day, moment())}\r\n            />\r\n          </div>\r\n        ) : (\r\n          \"\"\r\n        )}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default DateInputComponent;\r\n","import React, {Component} from 'react';\r\nimport {FormGroup, Form, Input, Label} from \"reactstrap\";\r\nimport axios from 'axios';\r\nimport {withRouter} from \"react-router-dom\";\r\nimport moment from 'moment';\r\nimport {connect} from \"react-redux\";\r\n\r\nimport {Paper, Divider, Popover} from '@material-ui/core';\r\nimport {Container, Row, Col, Button} from 'react-bootstrap';\r\nimport FormControlLabel from \"@material-ui/core/FormControlLabel\";\r\nimport Checkbox from \"@material-ui/core/Checkbox\";\r\nimport FormRB from 'react-bootstrap/Form';\r\n\r\nimport 'react-dates/initialize';\r\nimport TimePicker from 'rc-time-picker';\r\nimport 'rc-time-picker/assets/index.css';\r\n\r\nimport \"react-datepicker/dist/react-datepicker.css\";\r\nimport JobItemInput from \"./Form/JobItemInput\";\r\nimport AffirmationModal from \"../../ui/Modal/AffirmationModal\";\r\nimport InformationModal from \"../../ui/Modal/InformationModal\";\r\nimport DateInputComponent from \"./Form/DateInputComponent\";\r\n\r\nclass JobDetailsCard extends Component {\r\n    state = {\r\n        job: this.props.job,\r\n        jobEdit: false,\r\n        showJobUpdateModal: false,\r\n        jobUpdatedModal: false,\r\n        currentCareOffParty: null,\r\n        jobPrevState: null,\r\n        showItemsDeliverList: false,\r\n        focusedVesselArriveDate: false,\r\n        ItemsDeliverAnchorEl: null,\r\n        ItemsOfflandAnchorEl: null,\r\n    };\r\n\r\n    componentDidMount() {\r\n        let currentCareOffParty = null;\r\n        const {careOffParties} = this.props.job;\r\n        for (let i = 0; i < careOffParties.length; i++) {\r\n            const careOffParty = careOffParties[i];\r\n            if (careOffParty.user === this.props.auth._id) {\r\n                currentCareOffParty = careOffParty;\r\n                this.setState({currentCareOffParty});\r\n                break;\r\n            }\r\n        }\r\n    }\r\n\r\n    handleVesselLoadingLocationChange = (e) => {\r\n        const job = this.state.job;\r\n        job.vesselLoadingLocation = e.target.value;\r\n        this.setState({job});\r\n    };\r\n\r\n    handleVesselArrivalDateChange = (vesselLoadingDateTime) => {\r\n        const job = this.state.job;\r\n        job.vesselArrivalDateTime = vesselLoadingDateTime.toISOString();\r\n        this.setState({job});\r\n    };\r\n\r\n    handleVesselArrivalTimeChange = (value) => {\r\n        const job = this.state.job;\r\n        job.vesselArrivalDateTime = value.toDate().toISOString();\r\n        this.setState({job});\r\n    };\r\n\r\n    handleVesselLighterLocationChange = (e) => {\r\n        const job = this.state.job;\r\n        job.vesselLighterLocation = e.target.value;\r\n        this.setState({job});\r\n    };\r\n\r\n    // handleVesselLighterTimeChange = (value) => {\r\n    //     const job = this.state.job;\r\n    //     job.vesselLighterDateTime = value.toDate().toISOString();\r\n    //     this.setState({job});\r\n    // };\r\n    //\r\n    // handleVesselLighterDateChange = (vesselLighterDateTime) => {\r\n    //     const job = this.state.job;\r\n    //     job.vesselLighterDateTime = vesselLighterDateTime.toISOString();\r\n    //     this.setState({job});\r\n    // };\r\n\r\n    handleVesselLighterNameChange = (e) => {\r\n        const job = this.state.job;\r\n        job.vesselLighterName = e.target.value;\r\n        this.setState({job});\r\n    };\r\n\r\n    handleVesselBerthingDateTimeChange = (psaBerthingDateTime) => {\r\n        const job = this.state.job;\r\n        job.psaBerthingDateTime = psaBerthingDateTime;\r\n        this.setState({job});\r\n    };\r\n\r\n    handleVesselUnberthingDateTimeChange = (psaUnberthingDateTime) => {\r\n        const job = this.state.job;\r\n        job.psaUnberthingDateTime = psaUnberthingDateTime;\r\n        this.setState({job});\r\n    };\r\n\r\n    handleVesselLoadingDateChange = (vesselLoadingDateTime) => {\r\n        const job = this.state.job;\r\n        job.vesselLoadingDateTime = vesselLoadingDateTime.toISOString();\r\n        this.setState({job});\r\n    };\r\n\r\n    handleVesselLoadingTimeChange = (value) => {\r\n        const job = this.state.job;\r\n        job.vesselLoadingDateTime = value.toDate().toISOString();\r\n        this.setState({job});\r\n    };\r\n\r\n    handleRemarksChange = (e) => {\r\n        const job = this.state.job;\r\n        job.remarks = e.target.value;\r\n        this.setState({job});\r\n    };\r\n\r\n    handleVesselLighterRemarksChange = (e) => {\r\n        const job = this.state.job;\r\n        job.vesselLighterRemarks = e.target.value;\r\n        this.setState({job});\r\n    };\r\n\r\n    onSubmit = (e) => {\r\n        e.preventDefault();\r\n        this.setState({showJobUpdateModal: true});\r\n    };\r\n\r\n    validateItems = (items) => {\r\n        // Check for empty item entries\r\n        const filteredItems = [];\r\n        for (let i = 0; i < items.length; i++) {\r\n            const item = items[i];\r\n            if (item.quantity !== '' && item.uom !== '') {\r\n                delete item['id'];\r\n                filteredItems.push(item);\r\n            }\r\n        }\r\n        return filteredItems;\r\n    };\r\n\r\n    saveJobDetails = (e) => {\r\n        // Check for empty item entries\r\n        const filteredItems = this.validateItems(this.state.job.jobItems);\r\n        const filteredOfflandingItems = this.validateItems(this.state.job.jobOfflandItems);\r\n\r\n\r\n        const now = new Date();\r\n\r\n        // Save to job\r\n        const job = this.state.job;\r\n        job.jobItems = filteredItems;\r\n        job.jobOfflandItems = filteredOfflandingItems;\r\n        job.careOffParties = this.state.job.careOffParties;\r\n\r\n        if (this.state.job.vesselLoadingLocation !== 'PSA' && (new Date(this.state.job.vesselLoadingDateTime) - now.setHours(now.getHours() + 2)) < 0) {\r\n            this.setState({\r\n                jobEdit: false,\r\n                job: this.state.jobPrevState\r\n            });\r\n            window.alert('Vessel Loading Time cannot be before now')\r\n        } else if (this.state.job.vesselLoadingDateTime === '') {\r\n            this.setState({\r\n                jobEdit: false,\r\n                job: this.state.jobPrevState\r\n            });\r\n            window.alert('Vessel Loading Date and Time must be filled');\r\n\r\n        } else if (this.state.currentCareOffParty !== null && this.validateItems(this.state.currentCareOffParty.jobItems).length < 1) {\r\n            this.setState({\r\n                jobEdit: false,\r\n                job: this.state.jobPrevState\r\n            })\r\n            window.alert('At least one item must be submitted for delivery!');\r\n        } else if (this.state.job.vesselArrivalDateTime === '') {\r\n            this.setState({\r\n                jobEdit: false,\r\n                job: this.state.jobPrevState\r\n            })\r\n            window.alert('Vessel ETA must be filled');\r\n        } else {\r\n            // Save job details\r\n            axios.put('/api/jobs', {\r\n                job,\r\n                sendEmailUpdate: true\r\n            }).then(res => {\r\n                if (this.state.currentCareOffParty !== null) {\r\n                    axios.put('/api/care_off', {\r\n                        careOffParty: this.state.currentCareOffParty\r\n                    }).then(res => {\r\n                        this.setState({jobUpdatedModal: true});\r\n                    }).catch(err => {\r\n                        console.log(err);\r\n                    });\r\n                } else {\r\n                    this.setState({jobUpdatedModal: true});\r\n                }\r\n            }).catch(err => {\r\n                console.log(err);\r\n            });\r\n        }\r\n    };\r\n\r\n    checkValidDate = (d) => {\r\n        const date = new Date(d);\r\n        return date.toString() !== \"Invalid Date\";\r\n    };\r\n\r\n    handleDeliverClose = () => {\r\n        this.setState({ItemsDeliverAnchorEl: null})\r\n    };\r\n\r\n    handleOfflandClose = () => {\r\n        this.setState({ItemsOfflandAnchorEl: null})\r\n    };\r\n\r\n    handleCreateDSAChange = (e) => {\r\n        const job = this.state.job;\r\n        job.createDSA = e.target.checked;\r\n        this.setState({job});\r\n    };\r\n\r\n    handleOtherVesselLocationChange = (e) => {\r\n        const job = this.state.job;\r\n        job.vesselLoadingLocation = e.target.value;\r\n        this.setState({job});\r\n    };\r\n\r\n    renderJobTimeDetails = () => {\r\n        let {\r\n            vesselLoadingLocation, vesselArrivalDateTime, vesselLoadingDateTime,\r\n            psaBerthingDateTime, psaUnberthingDateTime,\r\n        } = this.state.job;\r\n        const vesselLoadingTime = moment(vesselLoadingDateTime);\r\n        const vesselArrivalTime = moment(vesselArrivalDateTime);\r\n        const psaBerthingTime = moment(psaBerthingDateTime);\r\n        const psaUnberthingTime = moment(psaUnberthingDateTime);\r\n        switch (vesselLoadingLocation) {\r\n            case 'PSA':\r\n                return <div>\r\n                    <Row>\r\n                        <Col xs={12} sm={6}>\r\n                            <div className='d-flex align-items-center job-detail-section-heading'>\r\n                                <div className='job-detail-green-circle'><strong>2</strong></div>\r\n                                <h1 className='job-detail-section-header'>Time</h1>\r\n                            </div>\r\n                            <FormGroup>\r\n                                <Label className='job-detail-section-label'>Vessel Estimated Berthing Time\r\n                                </Label>\r\n                                <Container fluid style={{paddingRight: \"0px\", paddingLeft: '0px'}}>\r\n                                    <Row>\r\n                                        <Col xs={7}>\r\n                                            <DateInputComponent DateTime={psaBerthingDateTime}\r\n                                                                handleDateChange={() => {\r\n                                                                }}\r\n                                                                disabled={true}/>\r\n                                        </Col>\r\n                                        <Col xs={5}>\r\n                                            <TimePicker\r\n                                                showSecond={false}\r\n                                                defaultValue={psaBerthingTime}\r\n                                                value={psaBerthingTime}\r\n                                                onChange={() => {\r\n                                                }}\r\n                                                allowEmpty={false}\r\n                                                disabled={true}\r\n                                                className='job-detail-section-input'\r\n                                            />\r\n                                        </Col></Row></Container>\r\n                            </FormGroup>\r\n\r\n                            <FormGroup>\r\n                                <Label className='job-detail-section-label'>Vessel Estimated Unberthing Time</Label>\r\n                                <Container fluid style={{paddingRight: \"0px\", paddingLeft: '0px'}}>\r\n                                    <Row>\r\n                                        <Col xs={7}>\r\n                                            <DateInputComponent DateTime={psaUnberthingDateTime}\r\n                                                                handleDateChange={() => {\r\n                                                                }}\r\n                                                                disabled={true}/>\r\n                                        </Col>\r\n                                        <Col xs={5}>\r\n                                            <TimePicker\r\n                                                showSecond={false}\r\n                                                defaultValue={psaUnberthingTime}\r\n                                                value={psaUnberthingTime}\r\n                                                onChange={() => {\r\n                                                }}\r\n                                                allowEmpty={false}\r\n                                                disabled={true}\r\n                                                className='job-detail-section-input'\r\n                                            />\r\n                                        </Col></Row></Container>\r\n                            </FormGroup>\r\n                        </Col>\r\n                    </Row>\r\n                    <Divider className='job-detail-section-divider'/>\r\n                </div>;\r\n            default:\r\n                return (\r\n                    <div>\r\n                        <Row>\r\n                            <Col xs={12} sm={6}>\r\n                                <div className='d-flex align-items-center job-detail-section-heading'>\r\n                                    <div className='job-detail-green-circle'><strong>2</strong></div>\r\n                                    <h1 className='job-detail-section-header'>Time</h1>\r\n                                </div>\r\n                                {/*<FormGroup>*/}\r\n                                {/*    <Label className='job-detail-section-label'>Vessel Estimated Time Arrival*/}\r\n                                {/*        (ETA)</Label>*/}\r\n                                {/*    <Container fluid style={{paddingRight: \"0px\", paddingLeft: '0px'}}>*/}\r\n                                {/*        <Row>*/}\r\n                                {/*            <Col xs={7}>*/}\r\n                                {/*                <DateInputComponent DateTime={vesselArrivalDateTime}*/}\r\n                                {/*                                    handleDateChange={this.handleVesselArrivalDateChange}*/}\r\n                                {/*                                    disabled={!this.state.jobEdit}/>*/}\r\n                                {/*            </Col>*/}\r\n                                {/*            <Col xs={5}>*/}\r\n                                {/*                <TimePicker*/}\r\n                                {/*                    showSecond={false}*/}\r\n                                {/*                    defaultValue={vesselArrivalTime}*/}\r\n                                {/*                    value={vesselArrivalTime}*/}\r\n                                {/*                    onChange={this.handleVesselArrivalTimeChange}*/}\r\n                                {/*                    allowEmpty={false}*/}\r\n                                {/*                    disabled={!this.state.jobEdit}*/}\r\n                                {/*                    className='job-detail-section-input'*/}\r\n                                {/*                />*/}\r\n                                {/*            </Col></Row></Container>*/}\r\n                                {/*</FormGroup>*/}\r\n\r\n                                <FormGroup>\r\n                                    <Label className='job-detail-section-label'>{\r\n                                        this.state.vesselLoadingLocation === 'Jurong Port'\r\n                                            ? 'Lighter Loading Date & Time'\r\n                                            : 'Vessel Loading Date & Time'\r\n                                    }</Label>\r\n                                    <Container fluid style={{paddingRight: \"0px\", paddingLeft: '0px'}}>\r\n                                        <Row>\r\n                                            <Col xs={7}>\r\n                                                <DateInputComponent DateTime={vesselLoadingDateTime}\r\n                                                                    handleDateChange={this.handleVesselLoadingDateChange}\r\n                                                                    disabled={!this.state.jobEdit}/>\r\n                                            </Col>\r\n                                            <Col xs={5}>\r\n                                                <TimePicker\r\n                                                    showSecond={false}\r\n                                                    defaultValue={vesselLoadingTime}\r\n                                                    value={vesselLoadingTime}\r\n                                                    onChange={this.handleVesselLoadingTimeChange}\r\n                                                    allowEmpty={false}\r\n                                                    disabled={!this.state.jobEdit}\r\n                                                    className='job-detail-section-input'\r\n                                                />\r\n                                            </Col></Row></Container>\r\n                                </FormGroup>\r\n                            </Col>\r\n                        </Row>\r\n                        <Divider className='job-detail-section-divider'/>\r\n                    </div>);\r\n        }\r\n    };\r\n\r\n\r\n    render() {\r\n        let {\r\n            jobId, vessel, vesselLoadingLocation, vesselArrivalDateTime, vesselLoadingDateTime, remarks,\r\n            jobItems, jobOfflandItems, psaBerthingDateTime, psaUnberthingDateTime, createDSA,\r\n            vesselLighterName, vesselLighterDateTime, vesselLighterLocation, vesselLighterRemarks\r\n        } = this.state.job;\r\n        const otherVesselLocation = vesselLoadingLocation === 'PSA' || vesselLoadingLocation === 'Jurong Port' ? '' : vesselLoadingLocation;\r\n        vesselLoadingLocation = vesselLoadingLocation === 'PSA' || vesselLoadingLocation === 'Jurong Port' ? vesselLoadingLocation : 'Others';\r\n\r\n        const currentCareOffParty = this.state.currentCareOffParty;\r\n        if (currentCareOffParty !== null) {\r\n            jobItems = currentCareOffParty.jobItems;\r\n            jobOfflandItems = currentCareOffParty.jobOfflandItems;\r\n        }\r\n\r\n        for (let i = 0; i < jobItems.length; i++) {\r\n            const jobItem = jobItems[i];\r\n            jobItem.id = (+new Date() + Math.floor(Math.random() * 999999)).toString(36);\r\n        }\r\n\r\n        for (let i = 0; i < jobOfflandItems.length; i++) {\r\n            const jobOfflandItem = jobOfflandItems[i];\r\n            jobOfflandItem.id = (+new Date() + Math.floor(Math.random() * 999999)).toString(36);\r\n        }\r\n\r\n        const openDeliver = Boolean(this.state.ItemsDeliverAnchorEl);\r\n        let jobItemText = jobItems.reduce((a, item) => {\r\n            a.push(item.quantity.toString().concat(' '.concat(item.uom)));\r\n            return a;\r\n        }, []);\r\n\r\n        const openOffland = Boolean(this.state.ItemsOfflandAnchorEl);\r\n        let jobOfflandItemsText = jobOfflandItems.reduce((a, item) => {\r\n            a.push(item.quantity.toString().concat(' '.concat(item.uom)));\r\n            return a;\r\n        }, []);\r\n\r\n        const renderText = () => {\r\n            return (\r\n                <div className='d-flex flex-column'>\r\n                    <span className='job-detail-section-input-label' style={{marginBottom: '0px'}}><strong>I would like SimpFleet to produce DSA(JP LTs) or Entry/Export Permit(PSA) for me</strong></span>\r\n                    <span className='job-detail-section-label-helper-text'><i>It would cost extra fees if Simpfleet produces the DSA(JP LTs) or Entry/Export Permit(PSA)</i></span>\r\n                </div>);\r\n        };\r\n\r\n        return (\r\n            <div>\r\n                <Paper square={true} className='job-detail-paper' elevation={0}>\r\n                    <Form onSubmit={this.onSubmit}>\r\n                        <Container>\r\n                            <Row>\r\n                                <Col xs={12} sm={6}>\r\n                                    <div className='d-flex align-items-center job-detail-section-heading'>\r\n                                        <div className='job-detail-green-circle'><strong>1</strong></div>\r\n                                        <h1 className='job-detail-section-header'>Vessel Information</h1>\r\n                                    </div>\r\n\r\n                                    <FormGroup>\r\n                                        <Label className='job-detail-section-label'>Job Number</Label>\r\n                                        <Input type=\"text\" value={jobId} className='job-detail-section-input' disabled/>\r\n                                    </FormGroup>\r\n\r\n                                    <FormGroup>\r\n                                        <Label className='job-detail-section-label'>Vessel Loading Location</Label>\r\n                                        <Input type=\"select\" value={vesselLoadingLocation}\r\n                                               disabled\r\n                                               onChange={this.handleVesselLoadingLocationChange}\r\n                                               className='job-detail-section-input job-input-margin-btm '>\r\n                                            <option>PSA</option>\r\n                                            <option>Jurong Port</option>\r\n                                            <option>Others</option>\r\n                                        </Input>\r\n                                    </FormGroup>\r\n\r\n                                    {\r\n                                        vesselLoadingLocation === 'Others'\r\n                                            ? <FormGroup>\r\n                                                <Label className='job-create-section-label'>Address of Vessel Loading\r\n                                                    Location</Label>\r\n                                                <Input type=\"text\" value={otherVesselLocation}\r\n                                                       disabled={!this.state.jobEdit}\r\n                                                       onChange={this.handleOtherVesselLocationChange}\r\n                                                       className='job-create-section-input'\r\n                                                >\r\n                                                </Input>\r\n                                            </FormGroup>\r\n                                            : ''\r\n                                    }\r\n\r\n                                    {/*Lighter Implementation (Need Add Lighter Name and and Time and Location Model)*/}\r\n                                    {vesselLoadingLocation === 'Jurong Port'\r\n                                        ? <div>\r\n                                            <FormGroup style={{marginBottom: '0px'}}>\r\n                                                <Label className='job-detail-section-label'>Lighter Name\r\n                                                    (Optional)</Label>\r\n                                                <Input type=\"text\"\r\n                                                       onChange={this.handleVesselLighterNameChange}\r\n                                                       value={vesselLighterName}\r\n                                                       disabled={!this.state.jobEdit}\r\n                                                       className='job-detail-section-input'/>\r\n                                            </FormGroup>\r\n                                            {/*<FormGroup style={{marginBottom: '0px'}}>*/}\r\n                                            {/*    <Label className='job-detail-section-label'>Lighter ETA</Label>*/}\r\n                                            {/*    <Container fluid style={{paddingRight: \"0px\", paddingLeft: '0px'}}>*/}\r\n                                            {/*        <Row>*/}\r\n                                            {/*            <Col xs={7}>*/}\r\n                                            {/*                <DateInputComponent DateTime={vesselLighterDateTime}*/}\r\n                                            {/*                                    handleDateChange={this.handleVesselLighterDateChange}*/}\r\n                                            {/*                                    disabled={!this.state.jobEdit}/>*/}\r\n                                            {/*            </Col>*/}\r\n                                            {/*            <Col xs={5}>*/}\r\n                                            {/*                <TimePicker*/}\r\n                                            {/*                    showSecond={false}*/}\r\n                                            {/*                    value={vesselLighterTime}*/}\r\n                                            {/*                    onChange={this.handleVesselLighterTimeChange}*/}\r\n                                            {/*                    allowEmpty={false}*/}\r\n                                            {/*                    disabled={!this.state.jobEdit}*/}\r\n                                            {/*                    className='job-detail-section-input'*/}\r\n                                            {/*                />*/}\r\n                                            {/*            </Col></Row></Container>*/}\r\n                                            {/*</FormGroup>*/}\r\n                                            <FormGroup>\r\n                                                <Label className='job-detail-section-label'>Lighter Location</Label>\r\n                                                <Input type=\"select\" value={vesselLighterLocation}\r\n                                                       disabled={!this.state.jobEdit}\r\n                                                       onChange={this.handleVesselLighterLocationChange}\r\n                                                       className='job-detail-section-input job-input-margin-btm '>\r\n                                                    <option>Marina South Wharves</option>\r\n                                                    <option>Penjuru Terminal</option>\r\n                                                </Input>\r\n                                            </FormGroup>\r\n                                            <FormGroup>\r\n                                                <Label className='job-detail-section-label'>Lighter Contact Remarks\r\n                                                    (Optional)</Label>\r\n                                                <Input type=\"textarea\" value={vesselLighterRemarks} rows=\"3\"\r\n                                                       className='job-detail-section-input' style={{marginBottom: 0}}\r\n                                                       onChange={this.handleVesselLighterRemarksChange}\r\n                                                       disabled={!this.state.jobEdit}/>\r\n                                                <span className='job-detail-section-label-helper-text'><i>Please enter contact details for lighter here</i></span>\r\n                                            </FormGroup>\r\n                                        </div>\r\n                                        : ''\r\n                                    }\r\n\r\n\r\n                                    <FormGroup>\r\n                                        <Label className='job-detail-section-label'>Vessel IMO</Label>\r\n                                        <Input type=\"text\" className='job-detail-section-input'\r\n                                               value={vessel.vesselIMOID} disabled/>\r\n                                    </FormGroup>\r\n\r\n                                    <FormGroup>\r\n                                        <Label className='job-detail-section-label'>Vessel Callsign</Label>\r\n                                        <Input type=\"text\" className='job-detail-section-input'\r\n                                               value={vessel.vesselCallsign} disabled/>\r\n                                    </FormGroup>\r\n\r\n                                    <FormGroup>\r\n                                        <Label className='job-detail-section-label'>Vessel Name</Label>\r\n                                        <Input type=\"text\" className='job-detail-section-input'\r\n                                               value={vessel.vesselName} disabled/>\r\n                                    </FormGroup>\r\n                                </Col>\r\n                            </Row>\r\n                            <Divider className='job-detail-section-divider'/>\r\n                            {this.renderJobTimeDetails()}\r\n                            <Row>\r\n                                <Col xs={12} sm={6}>\r\n                                    <div className='d-flex align-items-center job-detail-section-heading'>\r\n                                        <div className='job-detail-green-circle'><strong>3</strong></div>\r\n                                        <h1 className='job-detail-section-header'>Delivery Details</h1>\r\n                                    </div>\r\n                                    <FormRB.Group>\r\n                                        <FormRB.Label className='job-detail-section-label'>Items to\r\n                                            Deliver</FormRB.Label>\r\n                                        <FormRB.Control as=\"input\"\r\n                                                        value={jobItemText.join(', ')}\r\n                                                        onClick={(e) => {\r\n                                                            this.setState({ItemsDeliverAnchorEl: e.currentTarget})\r\n                                                        }}\r\n                                                        disabled={!this.state.jobEdit}\r\n                                                        className='job-detail-section-input margin-bottom-zero'>\r\n                                        </FormRB.Control>\r\n                                        <span className='job-detail-section-label-helper-text'><i>Do let us know if you have refrigeration,fragile,etc items in the remarks</i></span>\r\n                                        <Popover\r\n                                            open={openDeliver}\r\n                                            anchorEl={this.state.ItemsDeliverAnchorEl}\r\n                                            onClose={this.handleDeliverClose}\r\n                                            anchorOrigin={{\r\n                                                vertical: 'bottom',\r\n                                                horizontal: 'left',\r\n                                            }}\r\n                                            transformOrigin={{\r\n                                                vertical: 'top',\r\n                                                horizontal: 'left',\r\n                                            }}\r\n                                        >\r\n                                            <JobItemInput jobItems={jobItems} setItems={(jobItems) => {\r\n                                                const job = this.state.job;\r\n                                                if (currentCareOffParty !== null) {\r\n                                                    currentCareOffParty.jobItems = jobItems;\r\n                                                } else {\r\n                                                    job.jobItems = jobItems;\r\n                                                }\r\n                                                this.setState({job});\r\n                                            }} disabled={!this.state.jobEdit}\r\n                                                          type={'delivery'}/>\r\n\r\n                                        </Popover>\r\n                                    </FormRB.Group>\r\n\r\n                                    <FormRB.Group>\r\n                                        <FormRB.Label className='job-detail-section-label'>Items to\r\n                                            Offland</FormRB.Label>\r\n                                        <FormRB.Control as=\"input\"\r\n                                                        value={jobOfflandItemsText.join(', ')}\r\n                                                        onClick={(e) => {\r\n                                                            this.setState({ItemsOfflandAnchorEl: e.currentTarget})\r\n                                                        }}\r\n                                                        disabled={!this.state.jobEdit}\r\n                                                        className='job-detail-section-input'>\r\n                                        </FormRB.Control>\r\n                                        <Popover\r\n                                            open={openOffland}\r\n                                            anchorEl={this.state.ItemsOfflandAnchorEl}\r\n                                            onClose={this.handleOfflandClose}\r\n                                            anchorOrigin={{\r\n                                                vertical: 'bottom',\r\n                                                horizontal: 'left',\r\n                                            }}\r\n                                            transformOrigin={{\r\n                                                vertical: 'top',\r\n                                                horizontal: 'left',\r\n                                            }}\r\n                                        >\r\n                                            <JobItemInput jobItems={jobOfflandItems}\r\n                                                          setItems={(jobOfflandItems) => {\r\n                                                              const job = this.state.job;\r\n                                                              if (currentCareOffParty !== null) {\r\n                                                                  currentCareOffParty.jobOfflandItems = jobOfflandItems;\r\n                                                              } else {\r\n                                                                  job.jobOfflandItems = jobOfflandItems;\r\n                                                              }\r\n                                                              this.setState({job});\r\n                                                          }} disabled={!this.state.jobEdit}/>\r\n\r\n                                        </Popover>\r\n                                    </FormRB.Group>\r\n\r\n                                    {/*<FormGroup>*/}\r\n                                    {/*    <Label><strong>Care-off Parties (If any)</strong></Label>*/}\r\n                                    {/*    <CareOffTableInput items={careOffParties} setItems={(careOffParties) => {*/}\r\n                                    {/*        const job = this.state.job;*/}\r\n                                    {/*        job.careOffParties = careOffParties;*/}\r\n                                    {/*        this.setState({job});*/}\r\n                                    {/*    }} disabled={!this.state.jobEdit} />*/}\r\n                                    {/*</FormGroup>*/}\r\n\r\n                                    <FormGroup>\r\n                                        <Label className='job-detail-section-label'>Remarks</Label>\r\n                                        <Input type=\"textarea\" value={remarks} rows=\"7\"\r\n                                               className='job-detail-section-input margin-bottom-zero'\r\n                                               onChange={this.handleRemarksChange} disabled={!this.state.jobEdit}/>\r\n                                        <span className='job-create-section-label-helper-text'><i>* Please let us know if you require any pick up and pick up location.</i></span>\r\n                                    </FormGroup>\r\n                                    {/*Implement help apply for DSA*/}\r\n                                    <FormControlLabel\r\n                                        value=\"dsa\"\r\n                                        control={<Checkbox color=\"default\" checked={createDSA}\r\n                                                           className='create-dsa-checkbox'/>}\r\n                                        label={renderText()}\r\n                                        onChange={this.handleCreateDSAChange}\r\n                                        disabled={!this.state.jobEdit}\r\n                                    />\r\n\r\n                                    {\r\n                                        this.state.jobEdit\r\n                                            ? <FormGroup className=\"text-center\">\r\n                                                <Button onClick={this.onSubmit}\r\n                                                        variant='success' className='job-details-save-button'>Save\r\n                                                    Changes</Button>\r\n                                                <Button onClick={(e) => this.setState({\r\n                                                    jobEdit: false,\r\n                                                    job: this.state.jobPrevState\r\n                                                })}\r\n                                                        variant='outline-success'\r\n                                                        className='job-details-cancel-button'>Cancel</Button>\r\n                                            </FormGroup>\r\n                                            : (this.state.job.jobTrackers.length > 1 && this.state.job.isCancelled !== \"Confirmed\") || this.props.auth.userType === \"Admin\"\r\n                                            ? <FormGroup className=\"text-center\">\r\n                                                <Button onClick={(e) =>\r\n                                                    this.setState({\r\n                                                        jobEdit: true,\r\n                                                        jobPrevState: JSON.parse(JSON.stringify(this.props.job))\r\n                                                    })}\r\n                                                        variant='success'\r\n                                                        className='job-details-update-button'>Edit</Button>\r\n                                            </FormGroup>\r\n                                            : \"\"\r\n                                    }\r\n                                </Col>\r\n                            </Row>\r\n                        </Container>\r\n                    </Form>\r\n                </Paper>\r\n\r\n                <InformationModal\r\n                    modal={this.state.jobUpdatedModal}\r\n                    toggle={(e) => this.setState({jobUpdatedModal: !this.state.jobUpdatedModal})}\r\n                    title=\"Job Changes saved.\"\r\n                    onClosed={(e) => this.setState({jobUpdatedModal: false})}\r\n                >\r\n                    <p>Your changes to the job details has been successfully saved.</p>\r\n                </InformationModal>\r\n\r\n                <AffirmationModal\r\n                    modal={this.state.showJobUpdateModal}\r\n                    toggle={(e) => this.setState({showJobUpdateModal: !this.state.showJobUpdateModal})}\r\n                    title=\"Save Changes?\"\r\n                    affirmativeAction={(e) => {\r\n                        this.setState({\r\n                            showJobUpdateModal: !this.state.showJobUpdateModal,\r\n                            jobEdit: !this.state.jobEdit\r\n                        });\r\n                        this.saveJobDetails();\r\n                    }}\r\n                    affirmativeText={'Yes'}\r\n                    cancelText={'No'}\r\n                >\r\n                    <p>Do you want to save changes? A notification will be sent to all parties involved.</p>\r\n                </AffirmationModal>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nconst mapStateToProps = ({auth}) => {\r\n    return {auth};\r\n};\r\n\r\nexport default withRouter(connect(mapStateToProps)(JobDetailsCard));","import React, { Component } from \"react\";\r\n\r\nclass FileDropzone extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.fileInputRef = React.createRef();\r\n  }\r\n\r\n  state = {\r\n    highlight: false\r\n  };\r\n\r\n  openFileDialog = () => {\r\n    if (this.props.disabled) return;\r\n    this.fileInputRef.current.click();\r\n  };\r\n\r\n  fileListToArray = list => {\r\n    const array = [];\r\n    for (let i = 0; i < list.length; i++) {\r\n      array.push(list.item(i));\r\n    }\r\n    return array;\r\n  };\r\n\r\n  onFilesAdded = evt => {\r\n    if (this.props.disabled) return;\r\n    const files = evt.target.files;\r\n    if (this.props.onFilesAdded) {\r\n      const array = this.fileListToArray(files);\r\n      this.props.onFilesAdded(array);\r\n    }\r\n  };\r\n\r\n  onDragOver = evt => {\r\n    evt.preventDefault();\r\n\r\n    if (this.props.disabled) return;\r\n    this.setState({ highlight: true });\r\n  };\r\n\r\n  onDragLeave = () => {\r\n    this.setState({ highlight: false });\r\n  };\r\n\r\n  onDrop = e => {\r\n    e.preventDefault();\r\n\r\n    if (this.props.disabled) return;\r\n\r\n    const files = e.dataTransfer.files;\r\n    if (this.props.onFilesAdded) {\r\n      const array = this.fileListToArray(files);\r\n      this.props.onFilesAdded(array);\r\n    }\r\n    this.setState({ highlight: false });\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <div\r\n        className={`job-file-upload-dropzone ${\r\n          this.state.highlight ? \"job-file-upload-highlight\" : \"\"\r\n        }`}\r\n        onDragOver={this.onDragOver}\r\n        onDragLeave={this.onDragLeave}\r\n        onDrop={this.onDrop}\r\n        onClick={this.openFileDialog}\r\n        style={{ cursor: this.props.disabled ? \"default\" : \"pointer\" }}\r\n      >\r\n        <img\r\n          alt=\"upload\"\r\n          className=\"job-file-upload-icon\"\r\n          src=\"./images/assets/job/baseline-cloud_upload-24px.svg\"\r\n        />\r\n        <input\r\n          ref={this.fileInputRef}\r\n          className=\"job-file-upload-fileInput\"\r\n          type=\"file\"\r\n          multiple\r\n          onChange={this.onFilesAdded}\r\n        />\r\n        <span style={{ color: \"#686868\" }}>\r\n          <strong>\r\n            Drop file here to attach or{\" \"}\r\n            <span style={{ textDecoration: \"underline\" }}>browse</span>\r\n          </strong>\r\n        </span>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default FileDropzone;\r\n","import React, { Component } from \"react\";\r\n\r\nimport FileDropzone from \"./FileDropzone\";\r\nimport { FaFileDownload } from \"react-icons/fa\";\r\nimport ButtonGroup from \"@material-ui/core/ButtonGroup\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport EditIcon from \"@material-ui/core/SvgIcon/SvgIcon\";\r\n\r\nclass FileUpload extends Component {\r\n  state = {\r\n    uploading: false,\r\n    hover: false\r\n  };\r\n\r\n  handleOnMouseEnter = () => {\r\n    this.setState({ hover: true });\r\n  };\r\n\r\n  handleOnMouseOut = () => {\r\n    this.setState({ hover: false });\r\n  };\r\n\r\n  renderUploadDisplay = () => {\r\n    return (\r\n      <div\r\n        className=\"job-file-upload-files-upload-section\"\r\n        style={{ marginBottom: 10 }}\r\n      >\r\n        <div className=\"job-file-upload-files-content\">\r\n          {this.props.file === null ? (\r\n            <FileDropzone\r\n              onFilesAdded={this.props.onFilesAdded}\r\n              disabled={false}\r\n            />\r\n          ) : (\r\n            <div\r\n              onMouseEnter={this.handleOnMouseEnter}\r\n              onMouseLeave={this.handleOnMouseOut}\r\n              style={{ width: \"20%\" }}\r\n            >\r\n              <div\r\n                className=\"d-flex flex-column align-items-center file-icon-background justify-content-center\"\r\n                style={{ height: \"140px\", padding: 8 }}\r\n              >\r\n                <FaFileDownload className=\"job-details-file-icon\" />\r\n                <p className=\"text-center\">{this.props.file.name}</p>\r\n              </div>\r\n            </div>\r\n          )}\r\n        </div>\r\n      </div>\r\n    );\r\n  };\r\n\r\n  render() {\r\n    return <div>{this.renderUploadDisplay()}</div>;\r\n  }\r\n}\r\n\r\nexport default FileUpload;\r\n","import React, { Component } from \"react\";\r\nimport { FaFileDownload } from \"react-icons/fa\";\r\nimport CloseIcon from \"@material-ui/icons/Close\";\r\nimport EditIcon from \"@material-ui/icons/Edit\";\r\nimport ButtonGroup from \"@material-ui/core/ButtonGroup\";\r\nimport Button from \"@material-ui/core/Button\";\r\n\r\nclass FileDisplay extends Component {\r\n  state = {\r\n    hover: false,\r\n    edit: false\r\n  };\r\n\r\n  handleOnMouseEnter = () => {\r\n    this.setState({ hover: true });\r\n  };\r\n\r\n  handleOnMouseOut = () => {\r\n    this.setState({ hover: false });\r\n  };\r\n\r\n  handleEdit = () => {\r\n    this.setState({ edit: true });\r\n  };\r\n\r\n  onKeyDown = e => {\r\n    if (e.keyCode === 13) {\r\n      this.setState({ edit: false });\r\n    }\r\n  };\r\n\r\n  render() {\r\n    const { jobFile } = this.props;\r\n\r\n    return (\r\n      <div\r\n        onMouseEnter={this.handleOnMouseEnter}\r\n        onMouseLeave={this.handleOnMouseOut}\r\n        style={{ width: \"20%\" }}\r\n      >\r\n        {!this.state.hover ? (\r\n          <div className=\"d-flex flex-column align-items-center file-icon-background justify-content-center\">\r\n            <a href={jobFile.fileURL}>\r\n              <FaFileDownload className=\"job-details-file-icon\" />\r\n            </a>\r\n            {this.state.edit ? (\r\n              <input\r\n                onChange={e => this.props.handleDocumentTitleChange(e, jobFile)}\r\n                onKeyDown={this.onKeyDown}\r\n              />\r\n            ) : (\r\n              <p>{jobFile.filename}</p>\r\n            )}\r\n          </div>\r\n        ) : (\r\n          <div className=\"d-flex flex-column align-items-center file-icon-background\">\r\n            <a href={jobFile.fileURL}>\r\n              <FaFileDownload className=\"job-details-file-icon\" />\r\n            </a>\r\n            {this.state.edit ? (\r\n              <input\r\n                onChange={e => this.props.handleDocumentTitleChange(e, jobFile)}\r\n                onKeyDown={this.onKeyDown}\r\n              />\r\n            ) : (\r\n              <p>{jobFile.filename}</p>\r\n            )}\r\n            <ButtonGroup>\r\n              <Button onClick={this.handleEdit} style={{ border: \"none\" }}>\r\n                <EditIcon />\r\n              </Button>\r\n              <Button\r\n                onClick={() => this.props.handleSingleDelete(jobFile)}\r\n                style={{ border: \"none\" }}\r\n              >\r\n                <CloseIcon />\r\n              </Button>\r\n            </ButtonGroup>\r\n          </div>\r\n        )}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default FileDisplay;\r\n","import React, {Component} from 'react';\r\nimport axios from 'axios';\r\n\r\nimport Radio from '@material-ui/core/Radio';\r\nimport RadioButtonUncheckedIcon from '@material-ui/icons/RadioButtonUnchecked';\r\nimport RadioButtonCheckedIcon from '@material-ui/icons/RadioButtonChecked';\r\nimport RadioGroup from '@material-ui/core/RadioGroup';\r\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\r\nimport FormControl from '@material-ui/core/FormControl';\r\nimport FormLabel from '@material-ui/core/FormLabel';\r\n\r\nimport Form from 'react-bootstrap/Form';\r\nimport Button from 'react-bootstrap/Button'\r\nimport FileUpload from \"./FileUpload\";\r\nimport FileDisplay from \"./FileDisplay\";\r\n\r\nimport './FileUploadSection.css';\r\nimport Col from \"react-bootstrap/Col\";\r\nimport {withRouter} from \"react-router-dom\";\r\nimport {connect} from \"react-redux\";\r\nimport {FormText} from \"reactstrap\";\r\n\r\nclass FileUploadSection extends Component {\r\n\r\n    state = {\r\n        requirements: {needPrintCopy: 'yes', signAndReturn: 'yes'},\r\n        remarks: '',\r\n        filename: '',\r\n        numCopies: 1,\r\n        documentType: 'Choose from Computer',\r\n        file: null,\r\n    };\r\n\r\n    componentDidMount() {\r\n        const jobFile = this.props.jobFile;\r\n        const req = this.state.requirements;\r\n        if (this.retrieveRequirement(this.props.jobFile, 'needPrintCopy').check) {\r\n            req.needPrintCopy = \"yes\";\r\n        } else {\r\n            req.needPrintCopy = \"no\";\r\n        }\r\n        if (this.retrieveRequirement(this.props.jobFile, 'signAndReturn').check) {\r\n            req.signAndReturn = \"yes\";\r\n        } else {\r\n            req.signAndReturn = \"no\";\r\n        }\r\n        this.setState({\r\n            remarks: jobFile.remarks,\r\n            filename: jobFile.filename,\r\n            numCopies: jobFile.numCopies,\r\n            requirements: req,\r\n        });\r\n\r\n    }\r\n\r\n    retrieveRequirement = (jobFile, key) => {\r\n        const {requirements} = jobFile;\r\n        for (let i = 0; i < requirements.length; i++) {\r\n            const requirement = requirements[i];\r\n            if (requirement.key === key) {\r\n                return requirement;\r\n            }\r\n        }\r\n\r\n        const fullRequirements = this.loadRequirements();\r\n        for (let i = 0; i < fullRequirements.length; i++) {\r\n            const requirement = fullRequirements[i];\r\n            if (requirement.key === key) {\r\n                const jobFileRequirements = jobFile.requirements;\r\n                jobFileRequirements.push(requirement);\r\n                jobFile.requirements = jobFileRequirements;\r\n                return requirement;\r\n            }\r\n        }\r\n    };\r\n\r\n    updateRequirement = (jobFile, key, boolean) => {\r\n        const newRequirements = [];\r\n        for (let i = 0; i < jobFile.requirements.length; i++) {\r\n            const requirement = jobFile.requirements[i];\r\n            if (requirement.key === key) {\r\n                requirement.check = boolean;\r\n            }\r\n            newRequirements.push(requirement);\r\n        }\r\n        jobFile.requirements = newRequirements;\r\n    };\r\n\r\n    handlePrintCopyChange = (e) => {\r\n        this.setState({\r\n            requirements: {\r\n                needPrintCopy: e.target.value,\r\n                signAndReturn: this.state.requirements.signAndReturn\r\n            }\r\n        });\r\n    };\r\n\r\n    handleSignAndReturnChange = (e) => {\r\n        this.setState({\r\n            requirements: {\r\n                needPrintCopy: this.state.requirements.needPrintCopy,\r\n                signAndReturn: e.target.value\r\n            }\r\n        });\r\n    };\r\n\r\n    handleDocumentTitleChange = (e, jobFile) => {\r\n        jobFile.filename = e.target.value;\r\n        this.setState({filename: e.target.value});\r\n    };\r\n\r\n    handleUploadType = (e) => {\r\n        this.setState({documentType: e.target.value});\r\n    };\r\n\r\n    handleNumberOfCopiesChange = (e) => {\r\n        this.setState({numCopies: e.target.value});\r\n    };\r\n\r\n    handleRemarksChange = (e) => {\r\n        this.setState({remarks: e.target.value});\r\n    };\r\n\r\n    handleAddDocument = () => {\r\n        if(this.state.requirements.needPrintCopy === 'yes'){\r\n            const jobFile = this.props.jobFile;\r\n            jobFile.filename = this.state.filename;\r\n\r\n            if (this.state.requirements.needPrintCopy === 'yes') {\r\n                this.updateRequirement(jobFile, \"needPrintCopy\", true);\r\n            } else {\r\n                this.updateRequirement(jobFile, \"needPrintCopy\", false);\r\n            }\r\n\r\n            if (this.state.requirements.signAndReturn === 'yes') {\r\n                this.updateRequirement(jobFile, \"signAndReturn\", true);\r\n            } else {\r\n                this.updateRequirement(jobFile, \"signAndReturn\", false);\r\n            }\r\n\r\n            if (this.state.remarks === '') {\r\n                jobFile.remarks = 'NIL'\r\n            } else {\r\n                jobFile.remarks = this.state.remarks\r\n            }\r\n\r\n            jobFile.numCopies = this.state.numCopies;\r\n\r\n            const formData = new FormData();\r\n            formData.append(\"file\", this.state.file);\r\n            formData.append(\"jobFile\", JSON.stringify(jobFile));\r\n            formData.append(\"jobID\", this.props.job._id);\r\n            axios.post('/api/job_files/upload_document', formData, {\r\n                headers: {\r\n                    'Content-Type': 'multipart/form-data'\r\n                }\r\n            }).catch((err) => {\r\n                console.log(err);\r\n            }).finally(() => {\r\n                window.location.reload();\r\n            });\r\n        } else{\r\n\r\n            if (this.state.filename === '') {\r\n                alert(\"Document name cannot be empty\");\r\n                return;\r\n            }\r\n\r\n            const jobFile = this.props.jobFile;\r\n            jobFile.filename = this.state.filename;\r\n\r\n            if (this.state.requirements.needPrintCopy === 'yes') {\r\n                this.updateRequirement(jobFile, \"needPrintCopy\", true);\r\n            } else {\r\n                this.updateRequirement(jobFile, \"needPrintCopy\", false);\r\n            }\r\n\r\n            if (this.state.requirements.signAndReturn === 'yes') {\r\n                this.updateRequirement(jobFile, \"signAndReturn\", true);\r\n            } else {\r\n                this.updateRequirement(jobFile, \"signAndReturn\", false);\r\n            }\r\n\r\n            if (this.state.remarks === '') {\r\n                jobFile.remarks = 'NIL'\r\n            } else {\r\n                jobFile.remarks = this.state.remarks\r\n            }\r\n\r\n            jobFile.numCopies = this.state.numCopies;\r\n\r\n            axios.post('/api/job_files/',{\r\n                ...jobFile,\r\n                jobID:this.props.job._id,\r\n            }).catch((err) => {\r\n                console.log(err);\r\n            }).finally(() => {\r\n                window.location.reload();\r\n            });\r\n\r\n        }\r\n    };\r\n\r\n    handleEditDocument = () => {\r\n        if (this.state.filename === '') {\r\n            alert(\"File name cannot be empty\");\r\n            return;\r\n        }\r\n\r\n        const jobFile = this.props.jobFile;\r\n        jobFile.filename = this.state.filename;\r\n\r\n        if (this.state.requirements.needPrintCopy === 'yes') {\r\n            this.updateRequirement(jobFile, \"needPrintCopy\", true);\r\n        } else {\r\n            this.updateRequirement(jobFile, \"needPrintCopy\", false);\r\n        }\r\n\r\n        if (this.state.requirements.signAndReturn === 'yes') {\r\n            this.updateRequirement(jobFile, \"signAndReturn\", true);\r\n        } else {\r\n            this.updateRequirement(jobFile, \"signAndReturn\", false);\r\n        }\r\n\r\n        if (this.state.remarks === '') {\r\n            jobFile.remarks = 'NIL'\r\n        } else {\r\n            jobFile.remarks = this.state.remarks\r\n        }\r\n\r\n        jobFile.numCopies = this.state.numCopies;\r\n\r\n        this.props.successClose();\r\n    };\r\n\r\n    renderUpload() {\r\n        if (this.props.jobFile.fileURL !== \"\") {\r\n            return (\r\n                <FileDisplay jobFile={this.props.jobFile} handleSingleDelete={this.props.handleSingleDelete}\r\n                             handleDocumentTitleChange={this.handleDocumentTitleChange}/>\r\n            );\r\n        } else {\r\n            switch (this.state.documentType) {\r\n                case \"Choose from Computer\":\r\n                    return (<FileUpload\r\n                        job={this.props.job}\r\n                        onFilesAdded={(files) => {\r\n                            this.setState({file: files[0]});\r\n                        }}\r\n                        file={this.state.file}\r\n                    />);\r\n                default:\r\n                    return '';\r\n            }\r\n        }\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <Form>\r\n                <FormControl>\r\n                    <FormLabel className='job-file-upload-label'>Do you want us to print copy/copies and bring it to the\r\n                        vessel?</FormLabel>\r\n                    <RadioGroup\r\n                        value={this.state.requirements.needPrintCopy}\r\n                        onChange={this.handlePrintCopyChange}\r\n                        row\r\n                    >\r\n                        <FormControlLabel value=\"yes\" control={<Radio color=\"default\" icon={<RadioButtonUncheckedIcon\r\n                            fontSize=\"small\"/>} checkedIcon={<RadioButtonCheckedIcon fontSize=\"small\"\r\n                                                                                     className='green-radio'/>}/>}\r\n                                          label=\"Yes\"/>\r\n                        <FormControlLabel value=\"no\" control={<Radio color=\"default\"\r\n                                                                     icon={<RadioButtonUncheckedIcon fontSize=\"small\"/>}\r\n                                                                     checkedIcon={<RadioButtonCheckedIcon\r\n                                                                         fontSize=\"small\" className='green-radio'/>}/>}\r\n                                          label=\"No\"/>\r\n                    </RadioGroup>\r\n                </FormControl>\r\n                <br/>\r\n                <FormControl>\r\n                    <FormLabel className='job-file-upload-label'>Do you need the document to be signed and\r\n                        return?</FormLabel>\r\n                    <RadioGroup\r\n                        value={this.state.requirements.signAndReturn}\r\n                        onChange={this.handleSignAndReturnChange}\r\n                        row\r\n                    >\r\n                        <FormControlLabel value=\"yes\" control={<Radio color=\"default\" icon={<RadioButtonUncheckedIcon\r\n                            fontSize=\"small\"/>} checkedIcon={<RadioButtonCheckedIcon fontSize=\"small\"\r\n                                                                                     className='green-radio'/>}/>}\r\n                                          label=\"Yes\"/>\r\n                        <FormControlLabel value=\"no\" control={<Radio color=\"default\"\r\n                                                                     icon={<RadioButtonUncheckedIcon fontSize=\"small\"/>}\r\n                                                                     checkedIcon={<RadioButtonCheckedIcon\r\n                                                                         fontSize=\"small\" className='green-radio'/>}/>}\r\n                                          label=\"No\"/>\r\n                    </RadioGroup>\r\n                </FormControl>\r\n\r\n                {this.state.requirements.needPrintCopy === 'yes' ?\r\n                    <div>\r\n\r\n                        <Form.Group className='d-flex flex-column'>\r\n                            <div className='d-flex align-items-center'>\r\n                            <Form.Label className='job-file-upload-label'>Attachment</Form.Label>\r\n                            <Form.Control as=\"select\" onChange={this.handleUploadType}\r\n                                          className='job-file-upload-attach-input'>\r\n                                <option>Choose from Computer</option>\r\n                                {/*<option>Google Drive</option>*/}\r\n                                {/*<option>DropBox</option>*/}\r\n                            </Form.Control>\r\n                            </div>\r\n                            <Form.Label className='job-detail-section-label-helper-text' style={{marginTop: 5}}>*Please ensure the documents uploaded are clear</Form.Label>\r\n                        </Form.Group>\r\n\r\n                        {this.renderUpload()}\r\n\r\n                    </div> :\r\n                    <Col xs={12} sm={6} className='col-no-padding'>\r\n                        <Form.Group className='d-flex flex-column'>\r\n                            <Form.Label className='job-file-upload-label' style={{marginBottom:0}}>Document Name</Form.Label>\r\n                            <Form.Label className='job-detail-section-label-helper-text' style={{marginTop: 5}}>*Please ensure the documents printed are clear</Form.Label>\r\n                            <Form.Control as=\"input\" placeholder='Enter Document Name'\r\n                                          type='text'\r\n                                          onChange={(e)=>this.handleDocumentTitleChange(e, this.props.jobFile)} value={this.state.filename}\r\n                                          className='job-file-upload-remarks-input'>\r\n                            </Form.Control>\r\n                        </Form.Group>\r\n                    </Col>\r\n                }\r\n\r\n                <Form.Group>\r\n                    <Form.Label className='job-file-upload-label'>Number of Copies</Form.Label>\r\n                    <Col xs={4} sm={2} className='col-no-padding'>\r\n                        <Form.Control as=\"input\" type='number' min=\"0\" onChange={this.handleNumberOfCopiesChange}\r\n                                      value={this.state.numCopies}\r\n                                      className='job-file-upload-numcopies-input'>\r\n                        </Form.Control>\r\n                    </Col>\r\n                </Form.Group>\r\n\r\n                <Col xs={12} sm={6} className='col-no-padding'>\r\n                    <Form.Group>\r\n                        <Form.Label className='job-file-upload-label'>Remarks (Optional)</Form.Label>\r\n                        <Form.Control as=\"textarea\" rows=\"4\" placeholder='Write any additional instructions '\r\n                                      type='text'\r\n                                      onChange={this.handleRemarksChange} value={this.state.remarks}\r\n                                      className='job-file-upload-remarks-input'>\r\n                        </Form.Control>\r\n                    </Form.Group>\r\n                </Col>\r\n                <div className='d-flex align-items-center justify-content-center' style={{marginTop: '20px'}}>\r\n                    <Button variant='outline-success' className='job-file-upload-cancel-btn'\r\n                            onClick={(e) => this.props.handleCancel(this.props.type)}>Cancel</Button>\r\n                    {this.props.type === 'upload' ?\r\n                        <Button variant='success' className='job-file-upload-submit-btn'\r\n                                onClick={this.handleAddDocument}>Submit</Button>\r\n                        : <Button variant='success' className='job-file-upload-submit-btn'\r\n                                  onClick={this.handleEditDocument}>Update</Button>}\r\n                </div>\r\n            </Form>\r\n        );\r\n    }\r\n\r\n}\r\n\r\nconst mapStateToProps = ({auth}) => {\r\n    return {auth};\r\n};\r\n\r\nexport default withRouter(connect(mapStateToProps)(FileUploadSection));\r\n","import React, { Fragment } from \"react\";\r\nimport { faDownload } from \"@fortawesome/free-solid-svg-icons\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport axios from \"axios\";\r\n\r\nconst FileDownloader = ({ files, children }) => {\r\n  const downloadSelectedFiles = e => {\r\n    e.stopPropagation();\r\n    if (files.length > 0) {\r\n      axios\r\n        .post(\r\n          `/api/job_files/files/download`,\r\n          {\r\n            jobFileUrls: files\r\n          },\r\n          { responseType: \"arraybuffer\" }\r\n        )\r\n        .then(res => {\r\n          let blob = new Blob([res.data], {\r\n            type: \"application/zip\"\r\n          });\r\n\r\n          const downloadUrl = URL.createObjectURL(blob);\r\n          let a = document.createElement(\"a\");\r\n          a.href = downloadUrl;\r\n          a.download = \"document.zip\";\r\n          document.body.appendChild(a);\r\n          a.click();\r\n          a.remove();\r\n        })\r\n        .catch(err => {\r\n          console.log(err.error);\r\n        });\r\n    } else if (Object.keys(files).length > 0) {\r\n      window.open(files.fileURL, \"_blank\");\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Fragment>\r\n      {(files.length > 0 || Object.keys(files).length > 0) && (\r\n        <span\r\n          className=\"file-downloader-container\"\r\n          onClick={e => downloadSelectedFiles(e)}\r\n        >\r\n          <FontAwesomeIcon icon={faDownload} /> {children}\r\n        </span>\r\n      )}\r\n    </Fragment>\r\n  );\r\n};\r\n\r\nexport default FileDownloader;\r\n","import React, { Fragment, useState } from \"react\";\r\nimport Modal from \"react-bootstrap/Modal\";\r\nimport ModalBody from \"react-bootstrap/ModalBody\";\r\nimport FileDownloader from \"./FileDownloader\";\r\n\r\n// import { Document, Page } from \"react-pdf\";\r\nimport \"./JobFileModal.css\";\r\n\r\n// import { pdfjs } from \"react-pdf\";\r\n// pdfjs.GlobalWorkerOptions.workerSrc = `//cdnjs.cloudflare.com/ajax/libs/pdf.js/${pdfjs.version}/pdf.worker.js`;\r\n\r\nconst JobFileModal = ({ file, showPreviewModal, setModalFlag }) => {\r\n  const fileUrlArray = file.fileURL.split(\".\");\r\n  const imageFileTypes = [\"jpeg.\", \"jpg\", \"png\", \"svg\", \"gif\"];\r\n  const docFileTypes = [\"docx\", \"doc\", \"xlsx\", \"pdf\"];\r\n  let fileType = \"\";\r\n  // if (fileUrlArray[fileUrlArray.length - 1] === \"pdf\") {\r\n  //     fileType = fileUrlArray[fileUrlArray.length - 1];\r\n  // }\r\n\r\n  if (\r\n    imageFileTypes.includes(fileUrlArray[fileUrlArray.length - 1].toLowerCase())\r\n  ) {\r\n    fileType = \"image\";\r\n  }\r\n\r\n  if (\r\n    docFileTypes.includes(fileUrlArray[fileUrlArray.length - 1].toLowerCase())\r\n  ) {\r\n    fileType = \"doc\";\r\n  }\r\n\r\n  let [pageTotal, setPageTotal] = useState(0);\r\n  const onDocumentLoadSuccess = ({ numPages }) => {\r\n    setPageTotal(numPages);\r\n  };\r\n\r\n  let [activePage, setActivePage] = useState(1);\r\n\r\n  const goToNextPage = e => {\r\n    if (activePage < pageTotal) setActivePage(++activePage);\r\n  };\r\n\r\n  const goToPreviousPage = e => {\r\n    if (activePage > 0) setActivePage(--activePage);\r\n  };\r\n\r\n  return (\r\n    <Fragment>\r\n      <Modal\r\n        show={showPreviewModal}\r\n        onHide={() => setModalFlag(false)}\r\n        dialogClassName=\"modal-90w file-preview-modal\"\r\n      >\r\n        <ModalBody>\r\n          <div>\r\n            <div\r\n              className=\"back-icon-container d-flex align-items-center\"\r\n              onClick={() => setModalFlag(false)}\r\n            >\r\n              <i className=\"material-icons\">arrow_back</i> {file.filename}\r\n            </div>\r\n            <div className=\"download-icon-container\">\r\n              <FileDownloader files={file}>Download</FileDownloader>\r\n            </div>\r\n            <div className=\"clearfix\" />\r\n          </div>\r\n          <div className=\"preview-container\">\r\n            {/* {fileType === \"pdf\" && (\r\n                            <Fragment>\r\n                                <Document\r\n                                    file={file.fileURL}\r\n                                    noData={<h4>Preview not Available</h4>}\r\n                                    onLoadSuccess={onDocumentLoadSuccess}\r\n                                >\r\n                                    {pageTotal && (\r\n                                        <Page pageNumber={activePage} />\r\n                                    )}\r\n                                </Document>\r\n                                <div className=\"preview-pagination-container\">\r\n                                    {activePage > 1 && (\r\n                                        <i\r\n                                            className=\"material-icons\"\r\n                                            onClick={() => goToPreviousPage()}\r\n                                        >\r\n                                            arrow_back_ios\r\n                                        </i>\r\n                                    )}\r\n                                    {`${activePage} of ${pageTotal}`}\r\n                                    {activePage < pageTotal && (\r\n                                        <i\r\n                                            className=\"material-icons\"\r\n                                            onClick={() => goToNextPage()}\r\n                                        >\r\n                                            arrow_forward_ios\r\n                                        </i>\r\n                                    )}\r\n                                </div>\r\n                            </Fragment>\r\n                        )} */}\r\n\r\n            {fileType === \"image\" && (\r\n              <img src={file.fileURL} alt={file.filename} />\r\n            )}\r\n\r\n            {fileType === \"doc\" && (\r\n              <iframe\r\n                title=\"document preview\"\r\n                className=\"document-container\"\r\n                src={`https://docs.google.com/viewer?url=${file.fileURL}&embedded=true`}\r\n              ></iframe>\r\n            )}\r\n\r\n            {fileType === \"\" && <h5>Preview not available</h5>}\r\n          </div>\r\n        </ModalBody>\r\n      </Modal>\r\n    </Fragment>\r\n  );\r\n};\r\n\r\nexport default JobFileModal;\r\n","import React from 'react';\r\nimport MaterialTable, {MTableBodyRow, MTableHeader} from \"material-table\";\r\nimport Paper from \"@material-ui/core/Paper\";\r\nimport IconButton from \"@material-ui/core/IconButton\";\r\nimport CreateIcon from '@material-ui/icons/Create';\r\nimport MoreIcon from '@material-ui/icons/MoreVert'\r\nimport ClearIcon from '@material-ui/icons/Clear';\r\nimport Dropdown from \"react-bootstrap/Dropdown\";\r\nimport LinesEllipsis from 'react-lines-ellipsis';\r\nimport SaveIcon from '@material-ui/icons/SaveAlt';\r\nimport PrintIcon from '@material-ui/icons/Print';\r\n\r\n\r\nimport './JobFileSummaryTable.css'\r\nimport JobFileModal from \"./FilePreview/JobFileModal\";\r\n\r\nfunction createData(job, name, copies, requirement, remarks) {\r\n    return {job, name, copies, requirement, remarks};\r\n}\r\n\r\nfunction retrieveRequirement(jobFile, key) {\r\n    const {requirements} = jobFile;\r\n    for (let i = 0; i < requirements.length; i++) {\r\n        const requirement = requirements[i];\r\n        if (requirement.key === key) {\r\n            return requirement;\r\n        }\r\n    }\r\n\r\n    const fullRequirements = this.loadRequirements();\r\n    for (let i = 0; i < fullRequirements.length; i++) {\r\n        const requirement = fullRequirements[i];\r\n        if (requirement.key === key) {\r\n            const jobFileRequirements = jobFile.requirements;\r\n            jobFileRequirements.push(requirement);\r\n            jobFile.requirements = jobFileRequirements;\r\n            this.jobFileChange(jobFile);\r\n            return requirement;\r\n        }\r\n    }\r\n};\r\n\r\n\r\nclass JobFileSummaryTable extends React.Component {\r\n\r\n    state = {\r\n        data: [],\r\n        hover: false,\r\n        hoverKey: '',\r\n        showDropdown: false,\r\n        file:null,\r\n        showModal:false,\r\n    };\r\n\r\n    componentWillReceiveProps(nextProps, nextContext) {\r\n        if (nextProps.refresh === true) {\r\n            this.setState({data: [],});\r\n            const rows = this.props.jobFiles.reduce((a, jobFile) => {\r\n                let needPrintCopy = retrieveRequirement(jobFile, 'needPrintCopy').check;\r\n                let signAndReturn = retrieveRequirement(jobFile, 'signAndReturn').check;\r\n                let req = 'No Requirement';\r\n                if (needPrintCopy && !signAndReturn) {\r\n                    req = 'Need Printed Copy'\r\n                }\r\n                if (signAndReturn && !needPrintCopy) {\r\n                    req = 'Sign and Return'\r\n                }\r\n                if (signAndReturn && needPrintCopy) {\r\n                    req = \"Need Printed Copy & Sign and Return\"\r\n                }\r\n                a.push(createData(jobFile, jobFile.filename, jobFile.numCopies, req, jobFile.remarks));\r\n                return a\r\n            }, []);\r\n            this.setState({data: rows})\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n        const rows = this.props.jobFiles.reduce((a, jobFile) => {\r\n            let needPrintCopy = retrieveRequirement(jobFile, 'needPrintCopy').check;\r\n            let signAndReturn = retrieveRequirement(jobFile, 'signAndReturn').check;\r\n            let req = 'No Requirement';\r\n            if (needPrintCopy && !signAndReturn) {\r\n                req = 'Need Printed Copy'\r\n            }\r\n            if (signAndReturn && !needPrintCopy) {\r\n                req = 'Sign and Return'\r\n            }\r\n            if (signAndReturn && needPrintCopy) {\r\n                req = \"Need Printed Copy & Sign and Return\"\r\n            }\r\n            a.push(createData(jobFile, jobFile.filename, jobFile.numCopies, req, jobFile.remarks));\r\n            return a\r\n        }, []);\r\n        this.setState({data: rows})\r\n    }\r\n\r\n    handleRowClick = (e, rd) => {\r\n        if (rd.job.fileURL && rd.job.fileURL !== '') {\r\n            this.setState({showModal:true,file:rd.job})\r\n        }\r\n    };\r\n\r\n    toggleModal = (value) =>{\r\n        this.setState({showModal:value})\r\n    };\r\n\r\n    handleDropdown = () => {\r\n        this.setState({showDropdown: !this.state.showDropdown})\r\n    };\r\n\r\n    handleDownload = (job) => {\r\n        if (job.fileURL !== '') {\r\n            window.open(job.fileURL);\r\n        }\r\n    };\r\n\r\n    render() {\r\n\r\n        return (\r\n            <div>\r\n                <MaterialTable\r\n                    columns={[\r\n                        {\r\n                            title: \"Name\", field: \"name\",\r\n                            render: rowData => (\r\n                                <LinesEllipsis\r\n                                    text={rowData.name}\r\n                                    maxLine='2'\r\n                                    ellipsis='...'\r\n                                    trimRight\r\n                                    basedOn='letters'\r\n                                />\r\n                            ),\r\n                        },\r\n                        {\r\n                            title: \"Copies\", field: \"copies\",\r\n                            cellStyle: {width:\"50px\"}\r\n                        },\r\n                        {\r\n                            title: \"Requirements\", field: \"requirement\",\r\n                            disableClick: true,\r\n                            render: rowData => (\r\n                                <div className='d-flex align-items-center remarks-container'>\r\n                                    <LinesEllipsis\r\n                                        text={rowData.requirement}\r\n                                        maxLine='2'\r\n                                        ellipsis='...'\r\n                                        trimRight\r\n                                        basedOn='letters'\r\n                                    />\r\n                                    <div className='hover-buttons'>\r\n                                        <IconButton onClick={() => {\r\n                                            this.props.editFile(rowData.job);\r\n                                        }}>\r\n                                            <CreateIcon fontSize=\"small\"/>\r\n                                        </IconButton>\r\n                                        <IconButton onClick={() => {\r\n                                            this.props.deleteFile(rowData.job);\r\n                                        }}>\r\n                                            <ClearIcon fontSize=\"small\"/>\r\n                                        </IconButton>\r\n                                        {/*<IconButton onClick={this.handleDropdown}>*/}\r\n                                        {/*    <MoreIcon fontSize=\"small\"/>*/}\r\n                                        {/*</IconButton>*/}\r\n                                        {/*<Dropdown show={this.state.showDropdown} alignRight drop='down'>*/}\r\n                                        {/*    <Dropdown.Menu>*/}\r\n                                        {/*        <Dropdown.Item onClick={() => {*/}\r\n                                        {/*            this.handleDownload(rowData.job)*/}\r\n                                        {/*        }}>Download</Dropdown.Item>*/}\r\n                                        {/*        /!*<Dropdown.Item>Rename</Dropdown.Item>*!/*/}\r\n                                        {/*    </Dropdown.Menu>*/}\r\n                                        {/*</Dropdown>*/}\r\n                                    </div>\r\n                                </div>\r\n                            )\r\n                        },\r\n                    ]}\r\n                    data={this.state.data}\r\n                    components={{\r\n                        Container: props => (\r\n                            <Paper {...props} elevation={0} style={{marginTop: '20px', minHeight: '60vh'}}/>\r\n                        ),\r\n                        Row: props => (\r\n                            <MTableBodyRow {...props}\r\n                                           // onMouseEnter={() => {\r\n                                           //\r\n                                           //     this.setState({hover: true, hoverKey: props.data.tableData.id})\r\n                                           // }}\r\n                                           // onMouseLeave={() => {\r\n                                           //     this.setState({hover: false, hoverKey: '', showDropdown: false})\r\n                                           // }}\r\n                                           className='row-hover'\r\n                            />\r\n                        ),\r\n\r\n                    }}\r\n                    options={{\r\n                        sorting: true,\r\n                        selection: true,\r\n                        headerStyle: {fontFamily: 'Roboto', fontSize: '16px', fontWeight: 'bold', color: '#707070'},\r\n                        rowStyle: {fontFamily: 'Roboto', fontSize: '14px', color: '#707070', height: '69px',},\r\n                        toolbarButtonAlignment: 'left',\r\n                        showTextRowsSelected: false,\r\n\r\n                    }}\r\n                    onRowClick={this.handleRowClick}\r\n                    title=''\r\n                    actions={[\r\n                        // {\r\n                        //     tooltip: 'Download Selected Items',\r\n                        //     icon: SaveIcon,\r\n                        //     onClick: (evt, data) => alert('You want to download ' + data.length + ' rows'),\r\n                        // },\r\n                        {\r\n                            tooltip: 'Delete Selected Items',\r\n                            icon: ClearIcon,\r\n                            onClick: (evt, data) => this.props.deleteMultipleFiles(data),\r\n                        },\r\n                        // {\r\n                        //     tooltip: 'Print Selected Items',\r\n                        //     icon: PrintIcon,\r\n                        //     onClick: (evt, data) => alert('You want to Print ' + data.length + ' rows'),\r\n                        // }\r\n                    ]}\r\n                />\r\n                {this.state.data.length>0 && this.state.file !== null && (\r\n                    <JobFileModal\r\n                        file={this.state.file}\r\n                        setModalFlag={value =>\r\n                            this.toggleModal(value)\r\n                        }\r\n                        showPreviewModal={this.state.showModal}\r\n                    />\r\n                )}\r\n            </div>\r\n\r\n\r\n        );\r\n    }\r\n}\r\n\r\nexport default JobFileSummaryTable;","import React, { Component } from \"react\";\r\nimport { Drawer } from \"@material-ui/core\";\r\nimport List from \"@material-ui/core/List\";\r\nimport ListItem from \"@material-ui/core/ListItem\";\r\nimport ListItemText from \"@material-ui/core/ListItemText\";\r\nimport Divider from \"@material-ui/core/Divider\";\r\nimport Paper from \"@material-ui/core/Paper\";\r\n\r\nclass JobFileSummaryTableMobileSlider extends Component {\r\n  handleDownload = job => {\r\n    if (job.fileURL !== \"\") {\r\n      window.open(job.fileURL);\r\n    }\r\n  };\r\n  render() {\r\n    return (\r\n      <Drawer\r\n        anchor=\"bottom\"\r\n        open={this.props.open}\r\n        onClose={this.props.onClose}\r\n        PaperProps={{\r\n          className:\r\n            \"MuiPaper-root MuiPaper-elevation16 MuiDrawer-paper MuiDrawer-paperAnchorBottom drawer-job-file-mobile\"\r\n        }}\r\n      >\r\n        <h3 onClick={this.props.onClose} className=\"job-slide-cancel\">\r\n          Cancel\r\n        </h3>\r\n        <Divider className=\"job-file-slider-drawer-divider\" />\r\n        <Paper elevation={0} className=\"job-file-slider-drawer-paper\">\r\n          <List>\r\n            <ListItem\r\n              button\r\n              onClick={() => {\r\n                this.props.onClose();\r\n                this.props.editFile(this.props.jobFile);\r\n              }}\r\n            >\r\n              <ListItemText>Edit</ListItemText>\r\n            </ListItem>\r\n          </List>\r\n          <List>\r\n            <ListItem button>\r\n              <ListItemText>Rename</ListItemText>\r\n            </ListItem>\r\n          </List>\r\n          <List>\r\n            <ListItem button onClick={this.handleDownload}>\r\n              <ListItemText>Download</ListItemText>\r\n            </ListItem>\r\n          </List>\r\n          <List>\r\n            <ListItem\r\n              button\r\n              onClick={() => {\r\n                this.props.onClose();\r\n                this.props.deleteFile(this.props.jobFile);\r\n              }}\r\n            >\r\n              <ListItemText style={{ color: \"red\" }}>Delete</ListItemText>\r\n            </ListItem>\r\n          </List>\r\n        </Paper>\r\n      </Drawer>\r\n    );\r\n  }\r\n}\r\n\r\nexport default JobFileSummaryTableMobileSlider;\r\n","import React from \"react\";\r\nimport MaterialTable from \"material-table\";\r\nimport Paper from \"@material-ui/core/Paper\";\r\nimport IconButton from \"@material-ui/core/IconButton\";\r\nimport MoreIcon from \"@material-ui/icons/MoreHoriz\";\r\nimport DeleteIcon from \"@material-ui/icons/Delete\";\r\n\r\nimport \"./JobFileSummaryTableMobile.css\";\r\nimport JobFileSummaryTableMobileSlider from \"./JobFileSummaryTableMobileSlider\";\r\n\r\nfunction createData(job, name, copies, requirement, remarks) {\r\n  return { job, name, copies, requirement, remarks };\r\n}\r\n\r\nfunction retrieveRequirement(jobFile, key) {\r\n  const { requirements } = jobFile;\r\n  for (let i = 0; i < requirements.length; i++) {\r\n    const requirement = requirements[i];\r\n    if (requirement.key === key) {\r\n      return requirement;\r\n    }\r\n  }\r\n\r\n  const fullRequirements = this.loadRequirements();\r\n  for (let i = 0; i < fullRequirements.length; i++) {\r\n    const requirement = fullRequirements[i];\r\n    if (requirement.key === key) {\r\n      const jobFileRequirements = jobFile.requirements;\r\n      jobFileRequirements.push(requirement);\r\n      jobFile.requirements = jobFileRequirements;\r\n      this.jobFileChange(jobFile);\r\n      return requirement;\r\n    }\r\n  }\r\n}\r\n\r\nclass JobFileSummaryTableMobile extends React.Component {\r\n  state = {\r\n    data: [],\r\n    showSlider: false,\r\n    jobFileSelected: null\r\n  };\r\n\r\n  componentWillReceiveProps(nextProps, nextContext) {\r\n    if (nextProps.refresh === true) {\r\n      this.setState({ data: [] });\r\n      const rows = this.props.jobFiles.reduce((a, jobFile) => {\r\n        let needPrintCopy = retrieveRequirement(jobFile, \"needPrintCopy\").check;\r\n        let signAndReturn = retrieveRequirement(jobFile, \"signAndReturn\").check;\r\n        let req = \"No Requirement\";\r\n        if (needPrintCopy && !signAndReturn) {\r\n          req = \"Need Print Copy\";\r\n        }\r\n        if (signAndReturn && !needPrintCopy) {\r\n          req = \"Sign and Return\";\r\n        }\r\n        if (signAndReturn && needPrintCopy) {\r\n          req = \"Need Print Copy & Sign and Return\";\r\n        }\r\n        a.push(\r\n          createData(\r\n            jobFile,\r\n            jobFile.filename,\r\n            jobFile.numCopies,\r\n            req,\r\n            jobFile.remarks\r\n          )\r\n        );\r\n        return a;\r\n      }, []);\r\n      this.setState({ data: rows });\r\n    }\r\n  }\r\n\r\n  componentDidMount() {\r\n    const rows = this.props.jobFiles.reduce((a, jobFile) => {\r\n      let needPrintCopy = retrieveRequirement(jobFile, \"needPrintCopy\").check;\r\n      let signAndReturn = retrieveRequirement(jobFile, \"signAndReturn\").check;\r\n      let req = \"No Requirement\";\r\n      if (needPrintCopy && !signAndReturn) {\r\n        req = \"Need Print Copy\";\r\n      }\r\n      if (signAndReturn && !needPrintCopy) {\r\n        req = \"Sign and Return\";\r\n      }\r\n      if (signAndReturn && needPrintCopy) {\r\n        req = \"Need Print Copy & Sign and Return\";\r\n      }\r\n      a.push(\r\n        createData(\r\n          jobFile,\r\n          jobFile.filename,\r\n          jobFile.numCopies,\r\n          req,\r\n          jobFile.remarks\r\n        )\r\n      );\r\n      return a;\r\n    }, []);\r\n    this.setState({ data: rows });\r\n  }\r\n\r\n  handleRowClick = (e, rd) => {\r\n    if (rd.jobFile.fileURL && rd.jobFile.fileURL !== \"\") {\r\n      window.open(rd.job.fileURL);\r\n    }\r\n  };\r\n\r\n  handleSlider = jobFile => {\r\n    this.setState({ showSlider: true, jobFileSelected: jobFile });\r\n  };\r\n\r\n  handleSliderClose = () => {\r\n    this.setState({ showSlider: false });\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <div>\r\n        <MaterialTable\r\n          columns={[\r\n            {\r\n              title: \"Name\",\r\n              field: \"name\",\r\n              render: rowData => (\r\n                <span className=\"job-table-text\">{rowData.name}</span>\r\n              ),\r\n              cellStyle: {\r\n                paddingRight: \"16px\"\r\n              }\r\n            },\r\n            {\r\n              title: \"\",\r\n              field: \"name\",\r\n              disableClick: true,\r\n              sorting: false,\r\n              render: rowData => (\r\n                <IconButton\r\n                  onClick={e => {\r\n                    this.handleSlider(rowData.job);\r\n                  }}\r\n                >\r\n                  <MoreIcon />\r\n                </IconButton>\r\n              ),\r\n              cellStyle: {\r\n                paddingRight: \"16px\"\r\n              }\r\n            }\r\n          ]}\r\n          data={this.state.data}\r\n          components={{\r\n            Container: props => (\r\n              <Paper\r\n                {...props}\r\n                elevation={0}\r\n                style={{ marginTop: \"20px\", minHeight: \"60vh\" }}\r\n              />\r\n            )\r\n          }}\r\n          options={{\r\n            sorting: true,\r\n            selection: true,\r\n            headerStyle: {\r\n              fontFamily: \"Roboto\",\r\n              fontSize: \"16px\",\r\n              fontWeight: \"bold\",\r\n              color: \"#707070\"\r\n            },\r\n            rowStyle: {\r\n              fontFamily: \"Roboto\",\r\n              fontSize: \"14px\",\r\n              color: \"#707070\",\r\n              height: \"69px\"\r\n            },\r\n            toolbarButtonAlignment: \"left\",\r\n            showTextRowsSelected: false,\r\n            showTitle: false,\r\n            paging: false\r\n          }}\r\n          onRowClick={this.handleRowClick}\r\n          actions={[\r\n            {\r\n              tooltip: \"Delete Selected Items\",\r\n              icon: DeleteIcon,\r\n              onClick: (evt, data) => this.props.deleteMultipleFiles(data)\r\n            }\r\n          ]}\r\n        />\r\n        <JobFileSummaryTableMobileSlider\r\n          jobFile={this.state.jobFileSelected}\r\n          open={this.state.showSlider}\r\n          onClose={this.handleSliderClose}\r\n          editFile={this.props.editFile}\r\n          deleteFile={this.props.deleteFile}\r\n        />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default JobFileSummaryTableMobile;\r\n","import React, {Component} from 'react';\r\nimport axios from 'axios';\r\nimport {withRouter} from \"react-router-dom\";\r\nimport {connect} from \"react-redux\";\r\n\r\nimport '../JobDetails.css';\r\n\r\nimport FileUploadSection from \"./FileUploadSection\"\r\nimport AffirmationModal from \"../../../ui/Modal/AffirmationModal\";\r\n\r\nimport {Paper} from '@material-ui/core';\r\n\r\nimport JobFileSummaryTable from \"./JobFileSummaryTable\";\r\nimport {FontAwesomeIcon} from \"@fortawesome/react-fontawesome\";\r\nimport {faPlusSquare} from \"@fortawesome/free-regular-svg-icons\";\r\nimport MediaQuery from \"react-responsive\";\r\nimport JobFileSummaryTableMobile from \"./JobFileSummaryTableMobile\";\r\n\r\n\r\nclass JobFilesDisplay extends Component {\r\n    state = {\r\n        jobFiles: null,\r\n        editJobFile: null,\r\n        showJobFileDeleteModal: false,\r\n        jobFileToDelete: [],\r\n        activeScreen: 'showFiles',\r\n        selectOption: true,\r\n        refresh: false,\r\n        numPages: null,\r\n        pageNumber: 1,\r\n    };\r\n\r\n    componentDidMount() {\r\n        this.getJobFiles();\r\n    }\r\n\r\n    getJobFiles = () => {\r\n        axios.get(`/api/job_files?jobID=${this.props.job._id}`).then(res => {\r\n            const jobFiles = res.data;\r\n            const userJobFiles = jobFiles.filter(o=> o.user === this.props.auth.user.id);\r\n            this.setState({jobFiles: userJobFiles});\r\n        }).catch(err => {\r\n            console.log(err);\r\n        });\r\n    };\r\n\r\n    jobFileChange = (jobFile) => {\r\n        const {jobFiles} = this.state;\r\n        const newJobFiles = [];\r\n        for (let i = 0; i < jobFiles.length; i++) {\r\n            if (jobFiles[i]._id === jobFile._id) {\r\n                newJobFiles.push(jobFile);\r\n            } else {\r\n                newJobFiles.push(jobFiles[i]);\r\n            }\r\n        }\r\n        this.setState({jobFiles: newJobFiles});\r\n    };\r\n\r\n    loadRequirements = () => {\r\n        return [\r\n            {\r\n                id: (+new Date() + Math.floor(Math.random() * 999999)).toString(36),\r\n                key: \"signAndReturn\",\r\n                name: \"Sign and Return\",\r\n                check: false\r\n            },\r\n            {\r\n                id: (+new Date() + Math.floor(Math.random() * 999999)).toString(36),\r\n                key: \"needPrintCopy\",\r\n                name: \"Need Printed Copy\",\r\n                check: false\r\n            }\r\n        ];\r\n    };\r\n\r\n    updateJobFiles = () => {\r\n        axios.put(`/api/job_files`, {\r\n            jobFiles: this.state.jobFiles\r\n        }).then(res => {\r\n            this.setState({jobFiles: res.data});\r\n        }).catch(err => {\r\n            console.log(err);\r\n        });\r\n    };\r\n\r\n    handleDeleteJobFiles = () => {\r\n        this.setState({refresh: true});\r\n        const jobFileToDelete = this.state.jobFileToDelete;\r\n        for (let i = 0; i < jobFileToDelete.length; i++) {\r\n            let jobFile = jobFileToDelete[i];\r\n            const index = this.state.jobFiles.indexOf(jobFile);\r\n            this.state.jobFiles.splice(index, 1);\r\n            this.deleteJobFiles(jobFile);\r\n        }\r\n        this.setState(this.state.jobFiles);\r\n        this.setState({jobFileToDelete: []});\r\n        window.setTimeout(() => {\r\n            this.setState({refresh: false});\r\n        }, 1000)\r\n\r\n    };\r\n\r\n    deleteJobFiles = (jobFileToDelete) => {\r\n        axios.delete(`/api/job_files`, {\r\n            data: {\r\n                jobFile: jobFileToDelete\r\n            }\r\n        }).catch(err => {\r\n            console.log(err);\r\n        });\r\n    };\r\n\r\n    handleSingleDelete = (jobFile) => {\r\n        this.state.jobFileToDelete.push(jobFile);\r\n        this.setState({showJobFileDeleteModal: true}\r\n        )\r\n    };\r\n\r\n    handleMultipleDelete = (data) => {\r\n        const delArray = data.reduce((a, jobFile) => {\r\n            a.push(jobFile.job);\r\n            return a\r\n        }, []);\r\n        this.setState({showJobFileDeleteModal: true, jobFileToDelete: delArray})\r\n    };\r\n\r\n    handleAddEvent = () => {\r\n        const jobFile = {\r\n            id: (+new Date() + Math.floor(Math.random() * 999999)).toString(36),\r\n            fileURL: \"\",\r\n            filename:'',\r\n            numCopies: 1,\r\n            requirements: this.loadRequirements(),\r\n            remarks: \"\",\r\n        };\r\n\r\n        const jobFiles = this.state.jobFiles;\r\n        jobFiles.push(jobFile);\r\n        this.setState({jobFiles: this.state.jobFiles, activeScreen: 'uploadFile'});\r\n    };\r\n\r\n    handleCancel = (type) => {\r\n        if (type === 'upload') {\r\n            this.state.jobFiles.splice(-1, 1);\r\n            this.setState({activeScreen: 'showFiles'});\r\n        } else {\r\n            this.setState({activeScreen: 'showFiles'});\r\n        }\r\n    };\r\n\r\n    handleUploadSuccess = () => {\r\n        this.updateJobFiles();\r\n        this.setState({activeScreen: 'showFiles'});\r\n    };\r\n\r\n    handleEditFile = (jobFile) => {\r\n        this.setState({activeScreen: 'editFile', editJobFile: jobFile});\r\n    };\r\n\r\n    handleEditCancel = () => {\r\n        this.setState({activeScreen: 'showFile', editJobFile: null});\r\n    };\r\n\r\n    render() {\r\n        switch (this.state.jobFiles) {\r\n            case null:\r\n                return <div></div>;\r\n            default:\r\n                switch (this.state.activeScreen) {\r\n                    case 'uploadFile':\r\n                        return (\r\n                            <div>\r\n                                <Paper square={true} className='job-detail-paper' elevation={0}>\r\n                                    {\r\n                                        this.state.jobFiles.length > 0 ?\r\n                                            <div>\r\n                                                <FileUploadSection\r\n                                                    handleCancel={this.handleCancel}\r\n                                                    successClose={this.handleUploadSuccess}\r\n                                                    jobFile={this.state.jobFiles[this.state.jobFiles.length - 1]}\r\n                                                    job={this.props.job}\r\n                                                    type='upload'\r\n                                                    handleSingleDelete={this.handleSingleDelete}\r\n                                                />\r\n                                            </div> : ''\r\n                                    }\r\n                                </Paper>\r\n                            </div>\r\n                        );\r\n                    case 'editFile':\r\n                        return (\r\n                            <div>\r\n                                <Paper square={true} className='job-detail-paper' elevation={0}>\r\n                                    {\r\n                                        this.state.editJobFile !== null ?\r\n                                            <div>\r\n                                                <FileUploadSection\r\n                                                    handleCancel={this.handleEditCancel}\r\n                                                    successClose={this.handleUploadSuccess}\r\n                                                    jobFile={this.state.editJobFile}\r\n                                                    job={this.props.job}\r\n                                                    type='edit'\r\n                                                    handleSingleDelete={this.handleSingleDelete}\r\n                                                />\r\n                                            </div> : ''\r\n                                    }\r\n                                </Paper>\r\n                            </div>\r\n                        );\r\n                    default:\r\n                        return (<div>\r\n                            <Paper square={true} className='job-detail-paper' elevation={0}>\r\n                                <div>\r\n                                    <div>\r\n                                        <div className='d-flex flex-row align-items-center'>\r\n                                            <FontAwesomeIcon icon={faPlusSquare} color=\"green\" size=\"3x\"\r\n                                                             className='job-files-add-file'\r\n                                                             onClick={this.handleAddEvent}\r\n                                            />\r\n                                            <h3 className='job-detail-section-header'>Upload your documents</h3>\r\n                                        </div>\r\n                                    </div>\r\n                                    {this.state.jobFiles.length > 0 ?\r\n                                        <div>\r\n                                            <MediaQuery minWidth={768}>\r\n                                                <JobFileSummaryTable\r\n                                                    jobFiles={this.state.jobFiles}\r\n                                                    deleteFile={this.handleSingleDelete}\r\n                                                    editFile={this.handleEditFile}\r\n                                                    deleteMultipleFiles={this.handleMultipleDelete}\r\n                                                    selectOption={this.state.selectOption}\r\n                                                    refresh={this.state.refresh}\r\n\r\n                                                />\r\n                                            </MediaQuery>\r\n                                            <MediaQuery maxWidth={767}>\r\n                                                <JobFileSummaryTableMobile\r\n                                                    jobFiles={this.state.jobFiles}\r\n                                                    deleteFile={this.handleSingleDelete}\r\n                                                    editFile={this.handleEditFile}\r\n                                                    deleteMultipleFiles={this.handleMultipleDelete}\r\n                                                    selectOption={this.state.selectOption}\r\n                                                    refresh={this.state.refresh}\r\n                                                />\r\n                                            </MediaQuery>\r\n                                        </div>\r\n                                        : <p>You have not uploaded any documents yet</p>}\r\n                                </div>\r\n\r\n                                <AffirmationModal\r\n                                    modal={this.state.showJobFileDeleteModal}\r\n                                    toggle={(e) => this.setState({showJobFileDeleteModal: !this.state.showJobFileDeleteModal})}\r\n                                    title=\"Delete Document?\"\r\n                                    affirmativeAction={(e) => {\r\n                                        this.setState({showJobFileDeleteModal: !this.state.showJobFileDeleteModal});\r\n                                        this.handleDeleteJobFiles();\r\n                                    }}\r\n                                    affirmativeText='Yes'\r\n                                    cancelText='No'\r\n                                >\r\n                                    <p>Are you sure you want to delete the document?</p>\r\n                                </AffirmationModal>\r\n                            </Paper>\r\n                        </div>);\r\n                }\r\n        }\r\n    }\r\n}\r\n\r\nconst mapStateToProps = ({auth}) => {\r\n    return {auth};\r\n};\r\n\r\nexport default withRouter(connect(mapStateToProps)(JobFilesDisplay));\r\n","import React, { Component } from \"react\";\r\nimport {\r\n  Button,\r\n  Col,\r\n  Container,\r\n  Form,\r\n  FormGroup,\r\n  Input,\r\n  Label,\r\n  Row\r\n} from \"reactstrap\";\r\nimport axios from \"axios\";\r\n\r\nimport AffirmationModal from \"../../ui/Modal/AffirmationModal\";\r\n\r\nclass JobDetailsEdit extends Component {\r\n  state = {\r\n    jobStatuses: [\r\n      {\r\n        index: 1,\r\n        title: \"Job booking pending confirmation\",\r\n        description:\r\n          \"We have received your job booking and are currently checking the details. We will send you a confirmation email once everything is verified.\",\r\n        trackingType: \"Electronic\"\r\n      },\r\n      {\r\n        index: 2,\r\n        title: \"Job booking confirmed\",\r\n        description:\r\n          \"We have confirmed your job booking. Please deliver the items to 'No. 6 Tuas Ave 6, Singapore 639311' at least 24 hours before the vessel arrives.\",\r\n        trackingType: \"Electronic\"\r\n      },\r\n      {\r\n        index: 3,\r\n        title: \"Pending items arrival at warehouse\",\r\n        description:\r\n          \"We have confirmed your job booking. Your job details have been passed to our operations side for processing.\",\r\n        trackingType: \"Storage\"\r\n      },\r\n      {\r\n        index: 4,\r\n        title: \"All items have arrived at warehouse\",\r\n        description:\r\n          \"We have received all of your indicated items at our warehouse. We will proceed to check that everything is in order.\",\r\n        trackingType: \"Storage\"\r\n      },\r\n      {\r\n        index: 5,\r\n        title: \"Items are on delivery\",\r\n        description:\r\n          \"Your items have been checked and loaded onto our trucks. It is currently on the way to the delivery destination.\",\r\n        trackingType: \"Truck\"\r\n      },\r\n      {\r\n        index: 6,\r\n        title: \"Items have been received by customer\",\r\n        description:\r\n          \"Your items have been successfully received by the customer.\",\r\n        trackingType: \"Truck\"\r\n      }\r\n    ],\r\n    jobStatus: null,\r\n    showCheckJobStatusModal: false,\r\n    cancellationConfirmationModal: false\r\n  };\r\n\r\n  updateJobStatus = () => {\r\n    axios\r\n      .post(\"/api/job_trackers\", {\r\n        ...this.state.jobStatus,\r\n        jobId: this.props.job._id\r\n      })\r\n      .then(res => {\r\n        window.location.reload();\r\n      })\r\n      .catch(err => {\r\n        console.log(err);\r\n      });\r\n  };\r\n\r\n  checkJobTracker = jobStatus => {\r\n    this.setState({\r\n      jobStatus,\r\n      showCheckJobStatusModal: true\r\n    });\r\n  };\r\n\r\n  cancelJob = () => {\r\n    const job = this.props.job;\r\n    job.isCancelled = \"Confirmed\";\r\n\r\n    axios\r\n      .put(\"/api/jobs\", {\r\n        job,\r\n        sendEmailUpdate: false\r\n      })\r\n      .then(res => {\r\n        window.location.reload();\r\n      })\r\n      .catch(err => {\r\n        console.log(err);\r\n      });\r\n  };\r\n\r\n  render() {\r\n    const job = this.props.job;\r\n    const jobTrackers = job.jobTrackers.sort((a, b) => {\r\n      return a.index - b.index;\r\n    });\r\n\r\n    return (\r\n      <Container fluid>\r\n        <Row>\r\n          <Col xs=\"12\" md={{ size: 4, offset: 4 }}>\r\n            <Button\r\n              type=\"button\"\r\n              color=\"danger\"\r\n              onClick={e =>\r\n                this.setState({ cancellationConfirmationModal: true })\r\n              }\r\n            >\r\n              Cancel Job\r\n            </Button>\r\n            <br />\r\n            <br />\r\n            <Form>\r\n              {this.state.jobStatuses.map((jobStatus, index) => {\r\n                return (\r\n                  <FormGroup check key={index}>\r\n                    <Label check>\r\n                      <Input\r\n                        type=\"checkbox\"\r\n                        disabled={!(jobStatus.index === jobTrackers.length + 1)}\r\n                        checked={jobStatus.index <= jobTrackers.length}\r\n                        onChange={e => this.checkJobTracker(jobStatus)}\r\n                      />{\" \"}\r\n                      {jobStatus.title}\r\n                    </Label>\r\n                  </FormGroup>\r\n                );\r\n              })}\r\n              <br />\r\n              <FormGroup>\r\n                <Button\r\n                  className=\"global-primary-button\"\r\n                  onClick={this.props.cancel}\r\n                >\r\n                  Back\r\n                </Button>\r\n              </FormGroup>\r\n            </Form>\r\n          </Col>\r\n        </Row>\r\n\r\n        <AffirmationModal\r\n          modal={this.state.showCheckJobStatusModal}\r\n          toggle={e =>\r\n            this.setState({\r\n              showCheckJobStatusModal: !this.state.showCheckJobStatusModal\r\n            })\r\n          }\r\n          title=\"Job Status Update\"\r\n          affirmativeAction={this.updateJobStatus}\r\n          affirmativeText=\"Yes\"\r\n          cancelText=\"No\"\r\n        >\r\n          Are you sure you want to update this job status?\r\n        </AffirmationModal>\r\n\r\n        <AffirmationModal\r\n          modal={this.state.cancellationConfirmationModal}\r\n          toggle={e =>\r\n            this.setState({\r\n              cancellationConfirmationModal: !this.state\r\n                .cancellationConfirmationModal\r\n            })\r\n          }\r\n          title=\"Job Cancellation\"\r\n          affirmativeAction={this.cancelJob}\r\n          affirmativeText=\"Confirm\"\r\n        >\r\n          Are you sure you want to cancel this job?\r\n        </AffirmationModal>\r\n      </Container>\r\n    );\r\n  }\r\n}\r\n\r\nexport default JobDetailsEdit;\r\n","import React, { Component } from \"react\";\r\nimport { withRouter } from \"react-router-dom\";\r\nimport { connect } from \"react-redux\";\r\n\r\nimport { Paper, Button } from \"@material-ui/core\";\r\n\r\nimport { Timeline, TimelineEvent } from \"react-event-timeline\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport { faTruck } from \"@fortawesome/free-solid-svg-icons\";\r\n\r\nimport JobDetailsEdit from \"../JobDetailsEdit\";\r\n\r\nimport \"rc-steps/assets/index.css\";\r\nimport \"rc-steps/assets/iconfont.css\";\r\nimport Steps, { Step } from \"rc-steps\";\r\n\r\nimport moment from \"moment\";\r\n\r\nimport \"./JobStatusDisplay.css\";\r\n\r\nclass JobStatusDisplay extends Component {\r\n  state = {\r\n    jobStatuses: [\r\n      {\r\n        index: 1,\r\n        title: \"Job booking pending confirmation\",\r\n        description:\r\n          \"We have received your job booking and are currently checking the details. We will send you a confirmation email once everything is verified.\",\r\n        trackingType: \"Electronic\"\r\n      },\r\n      {\r\n        index: 2,\r\n        title: \"Job booking confirmed\",\r\n        description:\r\n          \"We have confirmed your job booking. Please deliver the items to 'No. 6 Tuas Ave 6, Singapore 639311' at least 24 hours before the vessel arrives.\",\r\n        trackingType: \"Electronic\"\r\n      },\r\n      {\r\n        index: 3,\r\n        title: \"Pending items arrival at warehouse\",\r\n        description:\r\n          \"We have confirmed your job booking. Your job details have been passed to our operations side for processing.\",\r\n        trackingType: \"Storage\"\r\n      },\r\n      {\r\n        index: 4,\r\n        title: \"All items have arrived at warehouse\",\r\n        description:\r\n          \"We have received all of your indicated items at our warehouse. We will proceed to check that everything is in order.\",\r\n        trackingType: \"Storage\"\r\n      },\r\n      {\r\n        index: 5,\r\n        title: \"Items are on delivery\",\r\n        description:\r\n          \"Your items have been checked and loaded onto our trucks. It is currently on the way to the delivery destination.\",\r\n        trackingType: \"Truck\"\r\n      },\r\n      {\r\n        index: 6,\r\n        title: \"Items have been received by customer\",\r\n        description:\r\n          \"Your items have been successfully received by the customer.\",\r\n        trackingType: \"Truck\"\r\n      }\r\n    ],\r\n    showJobDetailsEdit: false\r\n  };\r\n\r\n  render() {\r\n    const steps = this.state.jobStatuses;\r\n    const job = this.props.job;\r\n    const jobTrackers = job.jobTrackers.sort((a, b) => {\r\n      return a.index - b.index;\r\n    });\r\n    const activeStep = jobTrackers.length;\r\n\r\n    const renderSteps = steps.map((step, i) => {\r\n      const jobStatus = jobTrackers.reduce((a, status) => {\r\n        a.push(status.index);\r\n        return a;\r\n      }, []);\r\n      if (!jobStatus.includes(step.index)) {\r\n        return (\r\n          <Step title={step.title} key={i} description={step.description} />\r\n        );\r\n      } else {\r\n        const statusSelected = jobTrackers.filter(o => {\r\n          return o.index === step.index;\r\n        })[0];\r\n        return (\r\n          <Step\r\n            title={statusSelected.title}\r\n            key={i}\r\n            description={\r\n              <div className=\"d-flex flex-column\">\r\n                <span>\r\n                  <i>\r\n                    {moment(statusSelected.timestamp).format(\r\n                      \"Do MMMM YYYY, h:mm:ss a\"\r\n                    )}\r\n                  </i>\r\n                </span>\r\n                <span>{statusSelected.description}</span>\r\n                {statusSelected.remarks !== \"\" ? (\r\n                  <span>Remarks: {statusSelected.remarks}</span>\r\n                ) : (\r\n                  \"\"\r\n                )}\r\n              </div>\r\n            }\r\n          />\r\n        );\r\n      }\r\n    });\r\n\r\n    //Overall Stepper View\r\n    switch (this.state.showJobDetailsEdit) {\r\n      case false:\r\n        return (\r\n          <div>\r\n            <Paper square={true} elevation={0} className=\"job-detail-paper\">\r\n              <div\r\n                className=\"d-flex align-items-center justify-content-center\"\r\n                style={{ margin: 10 }}\r\n              >\r\n                {this.props.auth.userType === \"Admin\" ? (\r\n                  <Button\r\n                    variant=\"contained\"\r\n                    onClick={e => this.setState({ showJobDetailsEdit: true })}\r\n                  >\r\n                    Edit Status\r\n                  </Button>\r\n                ) : (\r\n                  \"\"\r\n                )}\r\n              </div>\r\n              <Steps\r\n                direction=\"vertical\"\r\n                current={activeStep}\r\n                icons={{\r\n                  finish: <span className=\"status-finish\">&#10003;</span>\r\n                }}\r\n              >\r\n                {renderSteps}\r\n              </Steps>\r\n            </Paper>\r\n            {/*<Paper square={true} elevation={0}>*/}\r\n            {/*    <Timeline>*/}\r\n            {/*        {*/}\r\n            {/*            this.props.job.jobTrackers.sort((a, b) => {*/}\r\n            {/*                return b.index - a.index;*/}\r\n            {/*            }).map((jobTracker, index) => {*/}\r\n            {/*                return (*/}\r\n            {/*                    <TimelineEvent*/}\r\n            {/*                        key={index}*/}\r\n            {/*                        title={jobTracker.title}*/}\r\n            {/*                        createdAt={new Date(jobTracker.timestamp).toString()}*/}\r\n            {/*                        icon={<FontAwesomeIcon icon={faTruck}/>}*/}\r\n            {/*                        titleStyle={{fontWeight: \"400\"}}*/}\r\n            {/*                    >*/}\r\n            {/*                        {jobTracker.description}*/}\r\n            {/*                    </TimelineEvent>*/}\r\n            {/*                );*/}\r\n            {/*            })*/}\r\n            {/*        }*/}\r\n            {/*    </Timeline>*/}\r\n            {/*</Paper>*/}\r\n          </div>\r\n        );\r\n      default:\r\n        return (\r\n          <div>\r\n            {this.props.auth.userType === \"Admin\" ? (\r\n              <JobDetailsEdit\r\n                job={this.props.job}\r\n                cancel={e => this.setState({ showJobDetailsEdit: false })}\r\n              />\r\n            ) : (\r\n              \"\"\r\n            )}\r\n          </div>\r\n        );\r\n    }\r\n  }\r\n}\r\n\r\nconst mapStateToProps = ({ auth }) => {\r\n  return { auth };\r\n};\r\n\r\nexport default withRouter(connect(mapStateToProps)(JobStatusDisplay));\r\n","import React, { Component } from \"react\";\r\nimport { withRouter } from \"react-router-dom\";\r\nimport { connect } from \"react-redux\";\r\n\r\nimport { Paper } from \"@material-ui/core\";\r\nimport { Container, Row, Col, Button } from \"react-bootstrap\";\r\nimport FormControl from \"react-bootstrap/FormControl\";\r\n\r\nimport {\r\n  withScriptjs,\r\n  withGoogleMap,\r\n  GoogleMap,\r\n  Marker\r\n} from \"react-google-maps\";\r\n\r\nvar deliveryInAdvance = 6;\r\n\r\nclass JobDropoffDetail extends Component {\r\n  state = {\r\n    LogisticsCompanies: [\r\n      {\r\n        index: \"wsl\",\r\n        companyName: \"Allied Containers, Winspec Logistics Services Pte Ltd\",\r\n        address: \"No. 6 Tuas Ave 6, Singapore 639311\",\r\n        contactNumber: \"6558 6257\",\r\n        website: \"winspecgroup.com\",\r\n        openingHours:\r\n          \"Monday to Friday, from 8:30am to 5:30pm & Saturday, from 8:30am to 12:30pm, excluding PH\",\r\n        addLL: { lat: 1.3262, lng: 103.649817 }\r\n      }\r\n    ],\r\n    remarks: \"\",\r\n    currentCompany: \"\"\r\n  };\r\n\r\n  componentDidMount() {\r\n    //var company =  this.props.job.logisticsCompany;\r\n    var company = \"wsl\";\r\n    for (var i = 0; i < this.state.LogisticsCompanies.length; i++) {\r\n      if (this.state.LogisticsCompanies[i].index === company) {\r\n        this.setState({ currentCompany: this.state.LogisticsCompanies[i] });\r\n        break;\r\n      }\r\n    }\r\n  }\r\n\r\n  handleRemarks = e => {\r\n    this.setState({ remarks: e.target.value });\r\n  };\r\n\r\n  handleSaveRemarks = () => {\r\n    //Insert Backend Here\r\n    console.log(\"Saved Remarks for Logistics Company\");\r\n  };\r\n\r\n  getDropoffTime() {\r\n    var deliveryDate = new Date(this.props.job.vesselArrivalDateTime);\r\n    deliveryDate.setDate(deliveryDate.getHours() - deliveryInAdvance);\r\n    return (\r\n      \"\" +\r\n      deliveryDate.getDate() +\r\n      \"/\" +\r\n      deliveryDate.getMonth() +\r\n      \"/\" +\r\n      deliveryDate.getFullYear()\r\n    );\r\n  }\r\n\r\n  render() {\r\n    var deliveryDate = this.getDropoffTime();\r\n    var LCOpeningHours = this.state.currentCompany.openingHours;\r\n\r\n    const Map = withScriptjs(\r\n      withGoogleMap(props => (\r\n        <GoogleMap\r\n          defaultZoom={14}\r\n          defaultCenter={this.state.currentCompany.addLL}\r\n        >\r\n          <Marker position={this.state.currentCompany.addLL} />\r\n        </GoogleMap>\r\n      ))\r\n    );\r\n\r\n    return (\r\n      <div>\r\n        <Paper square={true} className=\"job-detail-paper\" elevation={0}>\r\n          <Container>\r\n            <Row style={{ marginBottom: 40 }}>\r\n              <Col>\r\n                <h3 className=\"job-detail-section-header\">Drop off Location</h3>\r\n                <p>\r\n                  {this.state.currentCompany.companyName},{\" \"}\r\n                  {this.state.currentCompany.address}\r\n                </p>\r\n              </Col>\r\n            </Row>\r\n            <Row style={{ marginBottom: 40 }}>\r\n              <Col>\r\n                <h3 className=\"job-detail-section-header\">Drop off Time</h3>\r\n                <p>\r\n                  Please Drop-off during office hours from {LCOpeningHours}.\r\n                </p>\r\n              </Col>\r\n            </Row>\r\n            {/*<Row>*/}\r\n            {/*    <Col>*/}\r\n            {/*        <h3 className='job-detail-section-header'>Remarks</h3>*/}\r\n            {/*        <FormControl as=\"textarea\" rows=\"4\" value={this.state.remarks} placeholder='Insert Remarks Here' onChange={this.handleRemarks} className='job-dropoff-remarks-text'/>*/}\r\n            {/*        /!*<Button onClick={this.handleSaveRemarks}>Save Changes</Button>*!/*/}\r\n            {/*    </Col>*/}\r\n            {/*</Row>*/}\r\n            <Row>\r\n              <Col>\r\n                <h3 className=\"job-detail-section-header\">Map</h3>\r\n                <Map\r\n                  googleMapURL=\"https://maps.googleapis.com/maps/api/js?key=AIzaSyCFL111s8lalFUoU08_GwV4O12asuIgo_w&v=3.exp&libraries=geometry,drawing,places\"\r\n                  loadingElement={<div style={{ height: `100%` }} />}\r\n                  containerElement={<div style={{ height: `400px` }} />}\r\n                  mapElement={<div style={{ height: `100%` }} />}\r\n                />\r\n              </Col>\r\n            </Row>\r\n          </Container>\r\n        </Paper>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = ({ auth }) => {\r\n  return { auth };\r\n};\r\n\r\nexport default withRouter(connect(mapStateToProps)(JobDropoffDetail));\r\n","import React, {Component} from 'react';\r\nimport {withRouter} from \"react-router-dom\";\r\nimport {connect} from \"react-redux\";\r\nimport {Paper} from \"@material-ui/core\";\r\nimport {Col, Container, Row, Button} from \"react-bootstrap\";/* \r\nimport JobCreatePriceTable from \"../../JobBilling/JobCreatePriceTable\"; */\r\n\r\nimport './JobBillingDetail.css';\r\nimport AffirmationModal from \"../../../ui/Modal/AffirmationModal\";\r\nimport axios from \"axios\";\r\n\r\nclass JobBillingDetail extends Component {\r\n    state = {\r\n        status: null,\r\n        showJobCancelModal: false,\r\n        paymentTrackers: [],\r\n        paymentTrackerList: [\r\n            {\r\n                index: 1,\r\n                label: 'Not Yet Invoiced',\r\n            },\r\n            {\r\n                index: 2,\r\n                label: 'Invoiced, Not Paid',\r\n            },\r\n            {\r\n                index: 3,\r\n                label: 'Paid',\r\n            },\r\n        ],\r\n    };\r\n\r\n    componentDidMount() {\r\n        const job = this.props.job;\r\n        const paymentTrackers = job.paymentTrackers;\r\n        if (this.props.auth.userType === \"Admin\") {\r\n            this.setState({status: job.isCancelled, paymentTrackers: paymentTrackers});\r\n        } else {\r\n            const userPaymentTrackers = paymentTrackers.filter(o => o.user === this.props.auth._id).sort((a, b) => {\r\n                return b.index - a.index;\r\n            });\r\n            this.setState({status: job.isCancelled, paymentTrackers: userPaymentTrackers});\r\n        }\r\n    };\r\n\r\n    updatePaymentTracker = (paymentTacker, user) => {\r\n        axios.post('/api/payment_trackers', {\r\n            index: paymentTacker.index,\r\n            label: paymentTacker.label,\r\n            jobId: this.props.job._id,\r\n            userId: user,\r\n        }).then(res => {\r\n            window.location.reload();\r\n        }).catch(err => {\r\n            console.log(err);\r\n        });\r\n    };\r\n\r\n    renderCancelProcedure = () => {\r\n        switch (this.state.status) {\r\n            case 'Pending':\r\n                return (\r\n                    <div className='job-billing-request-section'>\r\n                        <h3 className='job-billing-request-requested'>Cancellation Requested</h3>\r\n                        <span>We will do our best in cancelling this job for you.</span>\r\n                        <ul>\r\n                            <li>\r\n                                <span className='font-weight-bold'>If this item is canceled:</span>\r\n                                <br/>\r\n                                You will receive a confirmation email.\r\n                            </li>\r\n                            <li>\r\n                                <span className='font-weight-bold'>If this item is not canceled:</span>\r\n                                <br/>\r\n                                You will receive an email informing you<br/>that\r\n                                your request for cancellation is unsuccessful.\r\n                            </li>\r\n                        </ul>\r\n                    </div>\r\n                );\r\n            case 'Confirmed':\r\n                return (\r\n                    <div className='job-billing-request-section'>\r\n                        <h3 className='job-billing-request-success'>Cancellation Successful</h3>\r\n                        <p>Your request for cancellation has been approved.<br/>\r\n                            Your job has been successfully canceled.</p>\r\n                    </div>\r\n                );\r\n            case 'Denied':\r\n                return (\r\n                    <div className='job-billing-request-section'>\r\n                        <h3 className='job-billing-request-failure'>Cancellation Unsuccessful</h3>\r\n                        <span>Your request for cancellation was unsuccessful.<br/>\r\n                          We are not able to cancel your job.<br/>\r\n                          Contact us at service@simpfleet.com for any queries.</span>\r\n                    </div>\r\n                );\r\n            default:\r\n                return (\r\n                    <div className='job-billing-request-section'>\r\n                        <h6 className='job-billing-request-cancel-text' onClick={() => {\r\n                            this.setState({showJobCancelModal: true});\r\n                        }}>Request Cancellation</h6>\r\n                        <p>Please take note that if your cancellation is within 2 hours of the given loading time\r\n                            or vessel berthing time, we will charge the Full Rate Of The Delivery.</p>\r\n                    </div>\r\n                );\r\n        }\r\n    };\r\n\r\n    render() {\r\n\r\n        let renderAdminPaymentPanel;\r\n        if (this.props.auth.user.userType === \"Admin\") {\r\n            const partyList = this.state.paymentTrackers.reduce((a, tracker) => {\r\n                a.push(tracker.user);\r\n                return a;\r\n            }, []).filter((v, i, a) => a.indexOf(v) === i);\r\n            renderAdminPaymentPanel = partyList.map((id, index) => {\r\n                let userPaymentTracker = this.state.paymentTrackers.filter(o => o.user === id).sort((a, b) => {\r\n                    return b.index - a.index;\r\n                });\r\n                return (\r\n                    <div key={index} className='d-flex align-items-center'>\r\n                        <p>Payment Status: {userPaymentTracker[0].label}</p>\r\n                        {userPaymentTracker.length === 3 ? '' :\r\n                            <Button onClick={(e) => {\r\n                                const paymentIndex = userPaymentTracker.length;\r\n                                this.updatePaymentTracker(this.state.paymentTrackerList[paymentIndex], id)\r\n                            }}>Advance Payment</Button>}\r\n                    </div>\r\n                )\r\n            })\r\n        }\r\n\r\n        return (\r\n            <div>\r\n                <Paper square={true} className='job-detail-paper' elevation={0}>\r\n                    <Container>\r\n                        <Row>\r\n                            <Col xs={12} md={8}>\r\n                                {/*<h3 className='job-detail-section-header-price'>Price</h3>*/}\r\n                                {/*<JobCreatePriceTable jobItems={this.props.job.jobItems}/>*/}\r\n                                {this.state.paymentTrackers[0] ?\r\n                                    <div>\r\n                                        {this.props.auth.user.userType === \"Admin\" ?\r\n                                            <div>\r\n                                                {renderAdminPaymentPanel}\r\n                                            </div> :\r\n                                            <p>Payment Status: {this.state.paymentTrackers[0].label}</p>\r\n                                        }\r\n                                    </div> : ''}\r\n                                {this.renderCancelProcedure()}\r\n                                {\r\n                                    this.props.auth.userType === \"Admin\" &&\r\n                                    this.state.status === 'Pending'\r\n                                        ? <div>\r\n                                            <Button variant='danger' onClick={() => {\r\n                                                const job = this.props.job;\r\n                                                job.isCancelled = 'Denied';\r\n                                                this.props.saveJobCancellation(job);\r\n                                                this.setState({status: job.isCancelled});\r\n                                            }}>Decline</Button>\r\n                                            <Button variant='success' onClick={() => {\r\n                                                const job = this.props.job;\r\n                                                job.isCancelled = 'Confirmed';\r\n                                                this.props.saveJobCancellation(job);\r\n                                                this.setState({status: job.isCancelled});\r\n                                            }} style={{marginLeft: '15px'}}>Approve</Button>\r\n                                        </div>\r\n                                        : ''\r\n                                }\r\n                            </Col>\r\n                        </Row>\r\n                        <AffirmationModal\r\n                            modal={this.state.showJobCancelModal}\r\n                            toggle={(e) => this.setState({showJobCancelModal: !this.state.showJobCancelModal})}\r\n                            title=\"Cancellation\"\r\n                            affirmativeAction={() => {\r\n                                const job = this.props.job;\r\n                                job.isCancelled = 'Confirmed';\r\n                                this.props.saveJobCancellation(job);\r\n                                this.setState({status: job.isCancelled, showJobCancelModal: false});\r\n                            }}\r\n                            affirmativeText='Yes'\r\n                            cancelText=\"No\"\r\n                        >\r\n                            <p><strong>Are you sure you want to cancel job?</strong></p>\r\n                            <p>Please take note that if your cancellation is within 2 hours of the given loading time or vessel berthing time, we will charge the full rate of the delivery.</p>\r\n                        </AffirmationModal>\r\n                    </Container>\r\n                </Paper>\r\n            </div>\r\n\r\n        );\r\n    }\r\n};\r\n\r\nconst mapStateToProps = ({auth}) => {\r\n    return {auth};\r\n};\r\n\r\nexport default withRouter(connect(mapStateToProps)(JobBillingDetail));","import React, {Component} from 'react';\r\nimport axios from 'axios';\r\nimport queryString from 'query-string';\r\nimport {withRouter, Redirect} from \"react-router-dom\";\r\nimport {connect} from \"react-redux\";\r\n\r\nimport {\r\n    Paper,\r\n    Breadcrumbs,\r\n    Link,\r\n    Typography,\r\n    List,\r\n    ListItem,\r\n    ListItemText,\r\n    Snackbar,\r\n    IconButton,\r\n    Slide\r\n} from '@material-ui/core';\r\nimport NavigateNextIcon from '@material-ui/icons/NavigateNext';\r\nimport CloseIcon from '@material-ui/icons/Close';\r\nimport ShareIcon from '@material-ui/icons/Share';\r\n\r\nimport {Col, Container, Row, Button} from 'react-bootstrap'\r\n\r\nimport JobDetailCard from \"./JobDetailCard\";\r\nimport JobFilesDisplay from \"./Files/JobFilesDisplay\";\r\nimport JobShareModal from \"./JobShareModal/JobShareModal\";\r\nimport JobStatusDisplay from \"./JobStatusDisplay/JobStatusDisplay\";\r\nimport JobDropoffDetail from \"./JobDropoffDetail\";\r\nimport JobBillingDetail from \"./JobBillingDetail/JobBillingDetail\";\r\nimport './JobDetails.css';\r\nimport MediaQuery from \"react-responsive\";\r\nimport Tabs from \"@material-ui/core/Tabs\";\r\nimport Tab from \"@material-ui/core/Tab\";\r\nimport {withStyles} from '@material-ui/core/styles';\r\nimport JobShareSlide from \"../JobShareSlide/JobShareSlide\";\r\n\r\nimport Popover, {ArrowContainer} from \"react-tiny-popover\";\r\nimport {FocusOn} from \"react-focus-on\";\r\n\r\nconst AntTabs = withStyles({\r\n    root: {\r\n        borderBottom: '1px solid #e8e8e8',\r\n    },\r\n    indicator: {\r\n        backgroundColor: '#49AE86',\r\n    },\r\n})(Tabs);\r\n\r\nconst AntTab = withStyles(theme => ({\r\n    root: {\r\n        textTransform: 'none',\r\n        minWidth: 72,\r\n        fontWeight: theme.typography.fontWeightRegular,\r\n        marginRight: theme.spacing(0),\r\n        padding: 6,\r\n        fontFamily: 'Roboto',\r\n        '&:hover': {\r\n            color: '#707070',\r\n            opacity: 1,\r\n        },\r\n        '&$selected': {\r\n            color: '#707070',\r\n            fontWeight: theme.typography.fontWeightMedium,\r\n        },\r\n        '&:focus': {\r\n            color: '#707070',\r\n            outline: \"none\",\r\n        },\r\n    },\r\n    selected: {},\r\n}))(props => <Tab disableRipple {...props} />);\r\n\r\nclass JobDetails extends Component {\r\n    state = {\r\n        job: null,\r\n        jobLink: '',\r\n        activeScreen: 'jobDetails',\r\n        showSharingModal: false,\r\n        copied: false,\r\n        inputSelected: false,\r\n    };\r\n\r\n    componentDidMount() {\r\n        // Get job\r\n        axios.get(`/api/jobs/index?index=${queryString.parse(this.props.location.search).job}`).then(res => {\r\n            const job = res.data;\r\n            this.setState({job});\r\n\r\n            // Get job link\r\n            axios.get(`/api/job_links?jobIndex=${job.index}`).then(res => {\r\n                this.setState({jobLink: res.data});\r\n            }).catch(err => {\r\n                console.log(err);\r\n            });\r\n\r\n            const url = new URL(window.location.href);\r\n            const tab = url.searchParams.get(\"tab\");\r\n            if (tab !== null && tab !== '') {\r\n                this.setTabURL(tab);\r\n                this.setState({activeScreen: tab});\r\n            } else {\r\n                this.setState({activeScreen: 'jobDetails'});\r\n            }\r\n        }).catch(err => {\r\n            console.log(err);\r\n        });\r\n    }\r\n\r\n    setTabURL = (tabName) => {\r\n        const url = new URL(window.location.href);\r\n        url.searchParams.set(\"tab\", tabName);\r\n        window.history.pushState('page2', 'Title', url.toString());\r\n    };\r\n\r\n    generateInvitationLink = () => {\r\n        axios.post('/api/job_links', {\r\n            job: this.state.job\r\n        }).then(res => {\r\n            this.setState({jobLink: res.data});\r\n        }).catch(err => {\r\n            console.log(err);\r\n        });\r\n        this.setState({showSharingModal: true});\r\n    };\r\n\r\n    handleShareModalClose = () => {\r\n        this.setState({showSharingModal: false, inputSelected: false});\r\n    };\r\n\r\n    handleDrawerClick(key) {\r\n        this.setTabURL(key);\r\n        this.setState({activeScreen: key});\r\n    }\r\n\r\n    handleCopy = () => {\r\n        this.setState({copied: true});\r\n        window.setTimeout(() => {\r\n            this.setState({copied: false})\r\n        }, 5000)\r\n    };\r\n\r\n\r\n    handleClose = () => {\r\n        this.setState({copied: false})\r\n    };\r\n\r\n    SlideTransition = (props) => {\r\n        return <Slide {...props} direction=\"up\"/>\r\n    };\r\n\r\n    saveJobCancellation = (job) => {\r\n        // Save job details\r\n        axios.put('/api/jobs', {\r\n            job,\r\n            sendEmailUpdate: false\r\n        }).then(res => {\r\n            this.setState({job: res.data});\r\n        }).catch(err => {\r\n            console.log(err);\r\n        });\r\n    };\r\n\r\n    handleChangeTab = (event, newValue) => {\r\n        this.setTabURL(newValue);\r\n        this.setState({activeScreen: newValue})\r\n    };\r\n\r\n    handleSelect = (e) => {\r\n        this.setState({inputSelected: true});\r\n    };\r\n\r\n    render() {\r\n        const showComponent = () => {\r\n            switch (this.state.activeScreen) {\r\n                case 'jobDetails':\r\n                    return <JobDetailCard job={this.state.job}/>;\r\n                case 'document':\r\n                    return <JobFilesDisplay job={this.state.job}/>;\r\n                case 'status':\r\n                    return <JobStatusDisplay job={this.state.job}/>;\r\n                case 'dropoff':\r\n                    return <JobDropoffDetail job={this.state.job}/>;\r\n                case 'billing':\r\n                    return <JobBillingDetail job={this.state.job} saveJobCancellation={this.saveJobCancellation}/>;\r\n                default:\r\n                    return <JobDetailCard job={this.state.job}/>;\r\n            }\r\n        };\r\n\r\n        switch (this.props.auth) {\r\n            case null:\r\n                return <div></div>;\r\n            case false:\r\n                return <Redirect to=\"/\"/>;\r\n            default:\r\n                switch (this.state.job) {\r\n                    case null:\r\n                        return <div></div>;\r\n                    default:\r\n                        return (\r\n                            <div>\r\n                                <MediaQuery minWidth={769}>\r\n                                    <Container fluid style={{marginTop: 20, marginBottom: 30}}>\r\n                                        <Row>\r\n                                            <Col xs={12} md={{span: 10, offset: 1}}>\r\n                                                <Paper elevation={0} className='job-detail-breadcrumbs' square={true}>\r\n                                                    <Breadcrumbs separator={<NavigateNextIcon fontSize=\"small\"/>}\r\n                                                                 aria-label=\"Breadcrumb\">\r\n                                                        <Link href=\"#\" onClick={(e) => {\r\n                                                            this.props.history.push('/');\r\n                                                        }} className='job-detail-breadcrumbs-link'>\r\n                                                            Dashboard\r\n                                                        </Link>\r\n                                                        <h4>{this.state.job.vessel.vesselName.toUpperCase()}, {this.state.job.vessel.vesselIMOID}</h4>\r\n                                                    </Breadcrumbs>\r\n                                                </Paper>\r\n                                                <Paper square={true}>\r\n                                                    <Paper className='job-details-ship-title' square={true}>\r\n                                                        <div className='d-flex align-items-center'>\r\n                                                            <h1 className='job-detail-fonts'\r\n                                                                style={{marginBottom: '0px'}}>{this.state.job.vessel.vesselName.toUpperCase()} {this.state.job.vessel.vesselIMOID}</h1>\r\n                                                            <Button variant=\"outlined\"\r\n                                                                    onClick={this.generateInvitationLink}\r\n                                                                    className='job-details-share-button ml-auto'\r\n                                                                    href=\"#\">\r\n                                                                <ShareIcon className='job-detail-share-icon'/>\r\n                                                                Share\r\n                                                            </Button>\r\n                                                        </div>\r\n                                                    </Paper>\r\n                                                    <Paper square={true} className='job-detail-side-bar'>\r\n                                                        <Container fluid>\r\n                                                            <Row className='align-items-stretch'>\r\n                                                                <Col xs={3} className='col-no-padding job-details-menu'>\r\n                                                                    <Paper square={true}\r\n                                                                           className='job-details-menu-paper'\r\n                                                                           elevation={0}>\r\n                                                                        <List disablePadding={true}>\r\n                                                                            <ListItem button key='jobDetails'\r\n                                                                                      onClick={() => {\r\n                                                                                          this.handleDrawerClick('jobDetails')\r\n                                                                                      }}\r\n                                                                                      className={this.state.activeScreen === 'jobDetails' ? 'job-details-nav-active' : 'job-details-nav'}>\r\n                                                                                <ListItemText>Job Details</ListItemText>\r\n                                                                            </ListItem>\r\n                                                                            <ListItem button key='status'\r\n                                                                                      onClick={() => {\r\n                                                                                          this.handleDrawerClick('status')\r\n                                                                                      }}\r\n                                                                                      className={this.state.activeScreen === 'status' ? 'job-details-nav-active' : 'job-details-nav'}>\r\n                                                                                <ListItemText>Status</ListItemText>\r\n                                                                            </ListItem>\r\n                                                                            <ListItem button key='document'\r\n                                                                                      onClick={() => {\r\n                                                                                          this.handleDrawerClick('document')\r\n                                                                                      }}\r\n                                                                                      className={this.state.activeScreen === 'document' ? 'job-details-nav-active' : 'job-details-nav'}>\r\n                                                                                <ListItemText>Document</ListItemText>\r\n                                                                            </ListItem>\r\n                                                                            <ListItem button key='dropoff'\r\n                                                                                      onClick={() => {\r\n                                                                                          this.handleDrawerClick('dropoff')\r\n                                                                                      }}\r\n                                                                                      className={this.state.activeScreen === 'dropoff' ? 'job-details-nav-active' : 'job-details-nav'}>\r\n                                                                                <ListItemText>Drop Off</ListItemText>\r\n                                                                            </ListItem>\r\n                                                                            <ListItem button key='billing'\r\n                                                                                      onClick={() => {\r\n                                                                                          this.handleDrawerClick('billing')\r\n                                                                                      }}\r\n                                                                                      className={this.state.activeScreen === 'billing' ? 'job-details-nav-active' : 'job-details-nav'}>\r\n                                                                                <ListItemText>Billing</ListItemText>\r\n                                                                            </ListItem>\r\n                                                                        </List>\r\n                                                                    </Paper>\r\n                                                                </Col>\r\n                                                                <Col xs={9}\r\n                                                                     className='col-no-padding job-detail-content-border-rad'\r\n                                                                     as={Paper}>\r\n                                                                    {showComponent()}\r\n                                                                </Col>\r\n                                                            </Row>\r\n                                                        </Container>\r\n                                                    </Paper>\r\n                                                </Paper>\r\n\r\n                                                <div>\r\n                                                    <JobShareModal show={this.state.showSharingModal}\r\n                                                                   Close={this.handleShareModalClose}\r\n                                                                   joblinkurl={this.state.jobLink.url}\r\n                                                                   job={this.state.job}\r\n                                                                   copied={this.handleCopy}\r\n                                                    />\r\n                                                    <Snackbar anchorOrigin={{horizontal: 'left', vertical: 'bottom'}}\r\n                                                              open={this.state.copied}\r\n                                                              message={<span\r\n                                                                  id=\"message-id\">Link Has Been Copied</span>}\r\n                                                              action={\r\n                                                                  <IconButton\r\n                                                                      key=\"close\"\r\n                                                                      color=\"inherit\"\r\n                                                                      onClick={this.handleClose}\r\n                                                                  >\r\n                                                                      <CloseIcon/>\r\n                                                                  </IconButton>\r\n                                                              }\r\n                                                              TransitionComponent={this.SlideTransition}\r\n                                                    />\r\n                                                </div>\r\n                                            </Col>\r\n                                        </Row>\r\n                                    </Container>\r\n                                </MediaQuery>\r\n                                <MediaQuery maxWidth={768}>\r\n                                    <Container fluid\r\n                                               style={{ padding: \"5% 8%\", backgroundColor: '#F7F8F7'}}>\r\n                                        <Row>\r\n                                            <Paper elevation={0} square={true}\r\n                                                   className='d-flex align-items-center w-100' style={{backgroundColor: '#F7F8F7'}}>\r\n                                                <Breadcrumbs separator={<NavigateNextIcon fontSize=\"small\"/>}\r\n                                                             aria-label=\"Breadcrumb\">\r\n                                                    <Link href=\"#\" onClick={(e) => {\r\n                                                        this.props.history.push('/');\r\n                                                    }} className='job-detail-breadcrumbs-link'>\r\n                                                        Dashboard\r\n                                                    </Link>\r\n                                                    <h4 className='job-details-ship-title-font'>{this.state.job.vessel.vesselName.toUpperCase()}, {this.state.job.vessel.vesselIMOID}</h4>\r\n                                                </Breadcrumbs>\r\n                                                <div className='ml-auto'>\r\n                                                    <FocusOn enabled={this.props.isPopoverOpen}\r\n                                                             onClickOutside={this.props.handlePopoverClose}\r\n                                                             onEscapeKey={this.props.handlePopoverClose}>\r\n                                                        <Popover\r\n                                                            isOpen={this.props.isPopoverOpen}\r\n                                                            position={'bottom'}\r\n                                                            padding={10}\r\n                                                            containerStyle={{marginTop: '-10px'}}\r\n                                                            windowBorderPadding={15}\r\n                                                            onClickOutside={this.props.handlePopoverClose}\r\n                                                            content={({position, targetRect, popoverRect}) => (\r\n                                                                <ArrowContainer // if you'd like an arrow, you can import the ArrowContainer!\r\n                                                                    position={position}\r\n                                                                    targetRect={targetRect}\r\n                                                                    popoverRect={popoverRect}\r\n                                                                    arrowColor={'#666666'}\r\n                                                                    arrowSize={10}\r\n                                                                    arrowStyle={{opacity: 1}}\r\n                                                                >\r\n                                                                    <div\r\n                                                                        style={{\r\n                                                                            backgroundColor: '#666666',\r\n                                                                            opacity: 1,\r\n                                                                            width: \"80vw\",\r\n                                                                            padding: 16,\r\n                                                                            borderRadius: '5px'\r\n                                                                        }}\r\n                                                                        onClick={this.props.handlePopoverClose}\r\n                                                                    ><span style={{\r\n                                                                        fontFamily: 'Roboto',\r\n                                                                        fontSize: '14px',\r\n                                                                        color: 'white'\r\n                                                                    }}>Click on this button to share the job with\r\n                                                            anyone who is sending items to the same\r\n                                                            vessel!</span>\r\n                                                                    </div>\r\n                                                                </ArrowContainer>\r\n                                                            )}\r\n                                                        >\r\n                                                            <IconButton onClick={this.generateInvitationLink}>\r\n                                                                <ShareIcon\r\n                                                                    className='job-detail-share-icon-button'/>\r\n                                                            </IconButton>\r\n                                                        </Popover>\r\n                                                    </FocusOn>\r\n                                                </div>\r\n                                            </Paper>\r\n                                        </Row>\r\n                                        <Row>\r\n                                            <AntTabs value={this.state.activeScreen} onChange={this.handleChangeTab} variant=\"fullWidth\" centered className='w-100'>\r\n                                                <AntTab label='Job Details' value='jobDetails'/>\r\n                                                <AntTab label='Status' value='status'/>\r\n                                                <AntTab label='Documents' value='document'/>\r\n                                                <AntTab label='Drop-off' value='dropoff'/>\r\n                                                <AntTab label='Billing' value='billing'/>\r\n                                            </AntTabs>\r\n                                        </Row>\r\n                                        <Row>\r\n                                            <Paper square={true} elevation={5} className='w-100'>\r\n                                                {showComponent()}\r\n                                            </Paper>\r\n                                        </Row>\r\n                                        <div>\r\n                                            <JobShareSlide open={this.state.showSharingModal}\r\n                                                           onClose={this.handleShareModalClose}\r\n                                                           joblinkurl={this.state.jobLink.url}\r\n                                                           job={this.state.job}\r\n                                                           inputSelected={this.state.inputSelected}\r\n                                                           handleSelect={this.handleSelect}/>\r\n                                        </div>\r\n                                    </Container>\r\n                                </MediaQuery>\r\n                            </div>\r\n                        );\r\n                }\r\n        }\r\n    }\r\n}\r\n\r\n\r\nconst mapStateToProps = ({auth}) => {\r\n    return {auth};\r\n};\r\n\r\n\r\nexport default withRouter(connect(mapStateToProps)(JobDetails));","import React from \"react\";\r\n\r\nexport default function UserApprovalModal(props) {\r\n  return (\r\n    <React.Fragment>\r\n      <div className=\"modal-dialog\" role=\"document\">\r\n        <div className=\"modal-content\">\r\n          <div className=\"modal-header\">\r\n            <h5 className=\"modal-title\" id=\"exampleModalLabel\">\r\n              User Approval\r\n            </h5>\r\n            <button\r\n              type=\"button\"\r\n              className=\"close\"\r\n              data-dismiss=\"modal\"\r\n              aria-label=\"Close\"\r\n            >\r\n              <span aria-hidden=\"true\">&times;</span>\r\n            </button>\r\n          </div>\r\n          <div className=\"modal-body\">\r\n            Are you sure to {props.status} {props.user} to login?\r\n          </div>\r\n          <div className=\"modal-footer\">\r\n            <button\r\n              type=\"button\"\r\n              className=\"btn btn-secondary\"\r\n              data-dismiss=\"modal\"\r\n            >\r\n              Cancel\r\n            </button>\r\n            <button\r\n              type=\"button\"\r\n              className={`btn btn-${\r\n                props.status === \"disable\" ? \"danger\" : \"primary\"\r\n              }`}\r\n              onClick={() => props.onUpdateIsApprove(props.users)}\r\n              data-dismiss=\"modal\"\r\n            >\r\n              {props.status}\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </React.Fragment>\r\n  );\r\n}\r\n","import React, { Component } from \"react\";\r\nimport { Container } from \"reactstrap\";\r\nimport { Row, Table, Col } from \"reactstrap\";\r\nimport axios from \"axios\";\r\nimport UserApprovalModal from \"./UserApprovalModal\";\r\n\r\nclass UserApproval extends Component {\r\n  state = {\r\n    users: null\r\n  };\r\n\r\n  componentDidMount() {\r\n    axios\r\n      .get(`/api/users`)\r\n      .then(res => {\r\n        let users = res.data;\r\n        this.setState({ users });\r\n      })\r\n      .catch(err => {\r\n        console.log(err);\r\n      });\r\n  }\r\n\r\n  onUpdateIsApprove = users => {\r\n    console.log(users);\r\n    axios.put(`/api/users`, users).then(\r\n      axios\r\n        .get(`/api/users`)\r\n        .then(res => {\r\n          let users = res.data;\r\n          this.setState({ users });\r\n        })\r\n        .catch(err => {\r\n          console.log(err);\r\n        })\r\n    );\r\n  };\r\n\r\n  render() {\r\n    switch (this.state.users) {\r\n      case null:\r\n        return <div></div>;\r\n      default:\r\n        const content = Object.keys(this.state.users).map((key, index) => {\r\n          const users = this.state.users[key];\r\n          const compObj = users.userCompany;\r\n          let compName = \"\";\r\n          if (compObj === null || compObj === undefined) {\r\n            compName = \"\";\r\n          } else {\r\n            compName = compObj.name;\r\n          }\r\n          return (\r\n            <React.Fragment key={index}>\r\n              <tr>\r\n                <td>{users.firstName === \"\" ? \"-\" : users.firstName}</td>\r\n                <td>{users.lastName === \"\" ? \"-\" : users.lastName}</td>\r\n                <td>{users.email === \"\" ? \"-\" : users.email}</td>\r\n                <td>{compName === \"\" ? \"-\" : compName}</td>\r\n                <td>\r\n                  {users.contactNumber === \"\" ? \"-\" : users.contactNumber}\r\n                </td>\r\n                <td>\r\n                  {users.isApproved === true ? \"approved\" : \"not yet approved\"}\r\n                </td>\r\n                <td>\r\n                  <button\r\n                    className={`btn btn-${\r\n                      users.isApproved ? \"danger\" : \"primary\"\r\n                    }`}\r\n                    /* onClick={() => this.onUpdateIsApprove(users) } */\r\n                    data-toggle=\"modal\"\r\n                    data-target={`#approvemodal${users._id}`}\r\n                  >\r\n                    {users.isApproved ? \"disable\" : \"enable\"}\r\n                  </button>\r\n                </td>\r\n              </tr>\r\n              {/* modal approve */}\r\n              <div\r\n                className=\"modal fade\"\r\n                id={`approvemodal${users._id}`}\r\n                tabIndex=\"-1\"\r\n                role=\"dialog\"\r\n                aria-labelledby=\"exampleModalLabel\"\r\n                aria-hidden=\"true\"\r\n              >\r\n                <UserApprovalModal\r\n                  user={\r\n                    users.firstName === \"\" ? \"this account\" : users.firstName\r\n                  }\r\n                  status={users.isApproved ? \"disable\" : \"enable\"}\r\n                  onUpdateIsApprove={this.onUpdateIsApprove}\r\n                  users={users}\r\n                />\r\n              </div>\r\n            </React.Fragment>\r\n          );\r\n        });\r\n        return (\r\n          <Container fluid>\r\n            <br />\r\n            <Row>\r\n              <Col cs=\"12\" md={{ size: 12, offset: 0 }} className=\"text-center\">\r\n                <h1>User Approval</h1>\r\n              </Col>\r\n              <Col cs=\"12\" md={{ size: 12, offset: 0 }}>\r\n                <Table hover bordered responsive striped>\r\n                  <thead>\r\n                    <tr>\r\n                      <th>First name</th>\r\n                      <th>Last name</th>\r\n                      <th>Email</th>\r\n                      <th>Company</th>\r\n                      <th>Contact</th>\r\n                      <th>Status</th>\r\n                      <th>Action</th>\r\n                    </tr>\r\n                  </thead>\r\n                  <tbody>{content}</tbody>\r\n                </Table>\r\n              </Col>\r\n            </Row>\r\n          </Container>\r\n        );\r\n    }\r\n  }\r\n}\r\nexport default UserApproval;\r\n","import React, { Component } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport \"./App.css\";\r\nimport { BrowserRouter as Router, Route, Switch } from \"react-router-dom\";\r\nimport { fetchUser } from \"./actions/fetchActions\";\r\nimport VIP from \"./components/common/PrivateRoute\";\r\nimport ExNavbar from \"./components/layout/ExNavbar\";\r\nimport Footer from \"./components/layout/Footer\";\r\nimport Login from \"./components/auth/Login\";\r\nimport Dashboard from \"./components/Dashboard/Dashboard\";\r\nimport History from \"./components/History/History\";\r\nimport JobAssignment from \"./components/Job/JobAssignment/JobAssignment\";\r\nimport SideMenuSlider from \"./components/SideMenuSlider/SideMenuSlider\";\r\nimport JobDetails from \"./components/Job/JobDetails/JobDetails\";\r\nimport UserApproval from \"./components/UserApproval/UserApproval\";\r\n\r\nclass DynamicImport extends Component {\r\n  state = {\r\n    component: null\r\n  };\r\n\r\n  componentDidMount() {\r\n    this.props.load().then(component => {\r\n      this.setState(() => ({\r\n        component: component.default ? component.default : component\r\n      }));\r\n    });\r\n  }\r\n\r\n  render() {\r\n    return this.props.children(this.state.component);\r\n  }\r\n}\r\nconst MainNavbar = props => (\r\n  <DynamicImport load={() => import(\"./components/layout/MainNavbar.js\")}>\r\n    {Component =>\r\n      Component === null ? <p>Loading</p> : <Component {...props} />\r\n    }\r\n  </DynamicImport>\r\n);\r\nconst Home = props => (\r\n  <DynamicImport load={() => import(\"./components/content/Home.js\")}>\r\n    {Component =>\r\n      Component === null ? <p>Loading</p> : <Component {...props} />\r\n    }\r\n  </DynamicImport>\r\n);\r\nconst Analytics = props => (\r\n  <DynamicImport load={() => import(\"./components/Analytics/Analytics.js\")}>\r\n    {Component =>\r\n      Component === null ? <p>Loading</p> : <Component {...props} />\r\n    }\r\n  </DynamicImport>\r\n);\r\nclass App extends Component {\r\n  state = {\r\n    openMenu: false,\r\n    isPopoverOpen: false\r\n  };\r\n\r\n  handleMenuStateChange = state => {\r\n    this.setState({ openMenu: state.isOpen });\r\n  };\r\n\r\n  handlePopoverOpen = () => {\r\n    this.setState({ isPopoverOpen: true });\r\n  };\r\n\r\n  handleOpenMenu = () => {\r\n    this.setState({ openMenu: true });\r\n  };\r\n\r\n  handleCloseMenu = () => {\r\n    this.setState({ openMenu: false });\r\n  };\r\n\r\n  render() {\r\n    const { isAuthenticated, user } = this.props.auth;\r\n    return (\r\n      <div className=\"App\">\r\n        <Router>\r\n          {isAuthenticated ? (\r\n            <SideMenuSlider\r\n              open={this.state.openMenu}\r\n              handleCloseMenu={this.handleCloseMenu}\r\n              handleMenuStateChange={this.handleMenuStateChange}\r\n              handlePopoverOpen={this.handlePopoverOpen}\r\n            />\r\n          ) : (\r\n            \"\"\r\n          )}\r\n          <Switch>\r\n            {isAuthenticated ? (\r\n              <Route\r\n                exact\r\n                path=\"/\"\r\n                render={props => (\r\n                  <MainNavbar {...props} handleOpenMenu={this.handleOpenMenu} />\r\n                )}\r\n              />\r\n            ) : (\r\n              <Route exact path=\"/\" component={ExNavbar} />\r\n            )}\r\n            <Route\r\n              path=\"/\"\r\n              render={props => (\r\n                <MainNavbar {...props} handleOpenMenu={this.handleOpenMenu} />\r\n              )}\r\n            />\r\n          </Switch>\r\n          <Route exact path=\"/\" component={Home} />\r\n          <div className=\"\">\r\n            <Route exact path=\"/login\" component={Login} />\r\n            <Route exact path=\"/dashboard\" component={Dashboard} />\r\n            <Route exact path=\"/history\" component={History} />\r\n            <Route\r\n              exact\r\n              path=\"/job_details\"\r\n              render={props => (\r\n                <JobDetails\r\n                  {...props}\r\n                  handlePopoverClose={this.handlePopoverClose}\r\n                  isPopoverOpen={this.state.isPopoverOpen}\r\n                />\r\n              )}\r\n            ></Route>\r\n            {user.userType === \"Admin\" ? (\r\n              <React.Fragment>\r\n                <Route path=\"/user_approval\" component={UserApproval} />\r\n                <Route exact path=\"/job_assignment\" component={JobAssignment} />\r\n                <Route path=\"/analytics\" component={Analytics} />\r\n              </React.Fragment>\r\n            ) : null}\r\n          </div>\r\n          <Footer />\r\n        </Router>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n  auth: state.auth\r\n});\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  fetchUser\r\n)(App);\r\n","import axios from \"axios\";\r\n\r\nimport { FETCH_USER } from \"./types\";\r\n\r\nexport const fetchUser = () => async dispatch => {\r\n  const res = await axios.get(\"/api/users/fetch\");\r\n  await dispatch({ type: FETCH_USER, payload: res.data });\r\n  if (res === null) {\r\n    window.location.href = \"/\";\r\n  }\r\n};\r\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import isEmpty from \"../validation/is-empty\";\r\n\r\nimport { FETCH_USER } from \"../actions/types\";\r\n\r\nconst initialState = {\r\n  isAuthenticated: false,\r\n  user: {}\r\n};\r\n\r\nexport default function(state = initialState, action) {\r\n  switch (action.type) {\r\n    case FETCH_USER:\r\n      return {\r\n        ...state,\r\n        isAuthenticated: !isEmpty(action.payload),\r\n        user: action.payload\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n","import { GET_ERRORS } from \"../actions/types\";\r\n\r\nconst initialState = {};\r\n\r\nexport default function(state = initialState, action) {\r\n  switch (action.type) {\r\n    case GET_ERRORS:\r\n      return action.payload;\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n","import { combineReducers } from \"redux\";\r\nimport fetchReducer from \"./fetchReducer\";\r\nimport errorReducer from \"./errorReducer\";\r\nexport default combineReducers({\r\n  auth: fetchReducer,\r\n  errors: errorReducer\r\n});\r\n","import { createStore, applyMiddleware, compose } from \"redux\";\r\nimport thunk from \"redux-thunk\";\r\nimport rootReducer from \"./reducers\";\r\n\r\nconst initialState = {};\r\n\r\nconst middleware = [thunk];\r\n\r\nconst store = createStore(\r\n  rootReducer,\r\n  initialState,\r\n  compose(\r\n    applyMiddleware(...middleware),\r\n    window.__REDUX_DEVTOOLS_EXTENSION__ && window.__REDUX_DEVTOOLS_EXTENSION__()\r\n  )\r\n);\r\n\r\nexport default store;\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport \"./index.css\";\r\nimport App from \"./App\";\r\nimport * as serviceWorker from \"./serviceWorker\";\r\nimport { Provider } from \"react-redux\";\r\nimport store from \"./store\";\r\n\r\nReactDOM.render(\r\n  <Provider store={store}>\r\n    <App />\r\n  </Provider>,\r\n  document.getElementById(\"root\")\r\n);\r\nserviceWorker.unregister();\r\n","export const GET_ERRORS = \"GET_ERRORS\";\r\nexport const FETCH_USER = \"FETCH_USER\";\r\n","import \"./SidebarMenu.css\";\r\nimport React, { Component } from \"react\";\r\nimport { NavLink, withRouter } from \"react-router-dom\";\r\nimport { connect } from \"react-redux\";\r\n\r\nimport Fab from \"@material-ui/core/Fab\";\r\nimport Grid from \"@material-ui/core/Grid\";\r\nimport axios from \"axios\";\r\n\r\nimport CreateJobModal from \"../Job/CreateJobModal\";\r\n\r\nclass SidebarMenu extends Component {\r\n  state = {\r\n    sidebarOpen: true,\r\n    showModal: false,\r\n    showHistory: false\r\n  };\r\n\r\n  componentDidMount() {\r\n    axios\r\n      .get(`/api/jobs?archive_only=true&user_only=true`)\r\n      .then(res => {\r\n        this.setState({\r\n          showHistory: res.data.length >= 1\r\n        });\r\n      })\r\n      .catch(err => {\r\n        console.log(err);\r\n      });\r\n  }\r\n\r\n  handleOpenModal = () => {\r\n    this.setState({ showModal: true });\r\n  };\r\n\r\n  handleCloseModal = () => {\r\n    this.setState({ showModal: false });\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <div id=\"sidebar-body\">\r\n        <Grid container spacing={3}>\r\n          {/* {this.props.auth.user.userType !== \"Admin\" ? (\r\n            <Grid item xs={12} className=\"d-flex justify-content-center\">\r\n              <Fab\r\n                variant=\"extended\"\r\n                size=\"medium\"\r\n                className=\"side-bar-create-job-button\"\r\n                onClick={this.handleOpenModal}\r\n              >\r\n                + Create job\r\n              </Fab>\r\n            </Grid>\r\n          ) : (\r\n            \"\"\r\n          )} */}\r\n          <Grid item xs={12}>\r\n            <NavLink to=\"/\" className=\"sidebar-link\">\r\n              Upcoming Jobs\r\n            </NavLink>\r\n          </Grid>\r\n          <Grid item xs={12}>\r\n            <NavLink to=\"/dashboard\" className=\"sidebar-link\">\r\n              Dashboard\r\n            </NavLink>\r\n          </Grid>\r\n          {this.state.showHistory ? (\r\n            <Grid item xs={12}>\r\n              <NavLink to=\"/history\" className=\"sidebar-link\">\r\n                History\r\n              </NavLink>\r\n            </Grid>\r\n          ) : (\r\n            \"\"\r\n          )}\r\n          {this.props.auth.user.userType === \"Admin\" ? (\r\n            <Grid item xs={12}>\r\n              <NavLink to=\"/job_assignment\" className=\"sidebar-link\">\r\n                Job Assignment\r\n              </NavLink>\r\n            </Grid>\r\n          ) : (\r\n            \"\"\r\n          )}\r\n          {this.props.auth.user.userType === \"Admin\" ? (\r\n            <Grid item xs={12}>\r\n              <NavLink to=\"/analytics\" className=\"sidebar-link\">\r\n                Analytics\r\n              </NavLink>\r\n            </Grid>\r\n          ) : (\r\n            \"\"\r\n          )}\r\n          {/*{this.props.auth.user.userType === \"Admin\" ? (*/}\r\n          {/*  <Grid item xs={12}>*/}\r\n          {/*    <NavLink to=\"/delivery_schedule\" className=\"sidebar-link\">*/}\r\n          {/*      Job Schedule*/}\r\n          {/*    </NavLink>*/}\r\n          {/*  </Grid>*/}\r\n          {/*) : (*/}\r\n          {/*  \"\"*/}\r\n          {/*)}*/}\r\n          {this.props.auth.user.userType === \"Admin\" ? (\r\n            <Grid item xs={12}>\r\n              <NavLink to=\"/user_approval\" className=\"sidebar-link\">\r\n                User Approval\r\n              </NavLink>\r\n            </Grid>\r\n          ) : (\r\n            \"\"\r\n          )}\r\n        </Grid>\r\n\r\n        <CreateJobModal\r\n          isOpen={this.state.showModal}\r\n          handleCloseModal={this.handleCloseModal}\r\n          fullScreen={false}\r\n        />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = ({ auth }) => {\r\n  return { auth };\r\n};\r\n\r\nexport default withRouter(connect(mapStateToProps)(SidebarMenu));\r\n","import React, {Component} from 'react';\r\nimport axios from 'axios';\r\n\r\nimport Button from '@material-ui/core/Button'\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport DialogActions from '@material-ui/core/DialogActions';\r\nimport DialogContent from '@material-ui/core/DialogContent';\r\nimport DialogTitle from '@material-ui/core/DialogTitle';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport CloseIcon from '@material-ui/icons/Close';\r\nimport InputGroup from 'react-bootstrap/InputGroup'\r\nimport ButtonB from 'react-bootstrap/Button'\r\nimport FormControl from 'react-bootstrap/FormControl'\r\nimport {CopyToClipboard} from 'react-copy-to-clipboard';\r\n\r\nimport TagsInput from 'react-tagsinput';\r\nimport LinesEllipsis from 'react-lines-ellipsis'\r\n\r\nimport 'react-tagsinput/react-tagsinput.css'\r\n\r\nimport './JobShareModal.css';\r\n\r\nimport Snackbar from \"@material-ui/core/Snackbar\";\r\nimport Slide from \"@material-ui/core/Slide\";\r\n\r\nfunction defaultRenderTag(props) {\r\n    let {tag, key, disabled, onRemove, classNameRemove, getTagDisplayValue, ...other} = props\r\n    return (\r\n        <div key={key} {...other}>\r\n            <div style={{maxWidth:400, wordBreak:\"break-all\"}}>\r\n                <LinesEllipsis\r\n                    text={getTagDisplayValue(tag)}\r\n                    maxLine='1'\r\n                    ellipsis='...'\r\n                    trimRight\r\n                    basedOn='letters'\r\n                />\r\n            </div>\r\n            {!disabled &&\r\n            <a className={classNameRemove} onClick={(e) => onRemove(key)}/>\r\n            }\r\n        </div>\r\n    )\r\n}\r\n\r\nclass JobShareModal extends Component {\r\n    // Props: Close=Function to handle close, joburllink=url link string, show=boolean to show modal, job=job object//\r\n    state = {\r\n        copied: false,\r\n        emailList: [],\r\n        message: '',\r\n        emailInputs: '',\r\n        mobileWebShare: false,\r\n        showSuccessSnackBar: false,\r\n    };\r\n\r\n    componentDidMount() {\r\n        // Set whether mobile web share is possible\r\n        this.setState({\r\n            mobileWebShare: navigator.share !== undefined && navigator.share\r\n        });\r\n    }\r\n\r\n    handleMessageChange = (e) => {\r\n        this.setState({message: e.target.value});\r\n    };\r\n\r\n    updateEmailList = (emailList) => {\r\n        this.setState({emailList})\r\n    };\r\n\r\n    handleEmailInputChange = (value) => {\r\n        this.setState({emailInputs: value});\r\n    };\r\n\r\n    handleInputClear = () => {\r\n        this.setState({emailInputs: ''})\r\n    };\r\n\r\n\r\n    //For Mobile Sharing\r\n    webShareJobLink = () => {\r\n        if (this.state.mobileWebShare) {\r\n            navigator.share({\r\n                title: `Job Invitation - ${this.props.job.jobId}`,\r\n                text: `Click this link to join my delivery job to ${this.props.job.vessel.vesselName}`,\r\n                url: this.props.joblinkurl\r\n            })\r\n                .then(() => console.log('Successful share'))\r\n                .catch((error) => console.log('Error sharing', error));\r\n        }\r\n    };\r\n\r\n    sendEmail = () => {\r\n        const emailList = this.state.emailList;\r\n        if (this.state.emailInputs.includes('@')) {\r\n            emailList.push(this.state.emailInputs)\r\n        }\r\n\r\n        for (let i = 0; i < emailList.length; i++) {\r\n            const email = emailList[i];\r\n\r\n            if (email.trim() !== \"\") {\r\n                axios.post('/api/job_links/share', {\r\n                    email,\r\n                    job: this.props.job,\r\n                    message: this.state.message,\r\n                }).then(res => {\r\n                    this.setState({showSuccessSnackBar: true, emailList: [], emailInputs: '', message: ''});\r\n                    window.setTimeout(() => this.setState({showSuccessSnackBar: false}), 5000)\r\n                }).catch(err => {\r\n                    console.log(err);\r\n                });\r\n            }\r\n        }\r\n    };\r\n\r\n    SlideTransition = (props) => {\r\n        return <Slide {...props} direction=\"up\"/>\r\n    };\r\n\r\n    handleSnackBarClose = () => {\r\n        this.setState({showSuccessSnackBar: false})\r\n    };\r\n\r\n\r\n    render() {\r\n        return (\r\n            <div>\r\n                <Dialog open={this.props.show} onClose={this.props.Close} maxWidth=\"sm\" fullWidth={true}>\r\n                    <DialogTitle id=\"alert-dialog-title\" className='job-share-modal-top'>\r\n                        <div className='d-flex align-items-center'>\r\n                            <p className='job-share-modal-title'>{this.props.job.vessel.vesselName.toUpperCase()}, {this.props.job.vessel.vesselIMOID}</p>\r\n                            <IconButton aria-label=\"Close\" className='job-share-modal-close ml-auto'\r\n                                        onClick={this.props.Close}>\r\n                                <CloseIcon/>\r\n                            </IconButton>\r\n                        </div>\r\n                    </DialogTitle>\r\n                    <DialogContent className='job-share-modal-content'>\r\n                        <div className='job-share-modal-copy'>\r\n                            <h6 className='job-share-modal-copy-title'>Do you know anyone sending items\r\n                                to {this.props.job.vessel.vesselName.toUpperCase()}, {this.props.job.vessel.vesselIMOID}?</h6>\r\n                            <InputGroup className='job-share-modal-url'>\r\n                                <FormControl\r\n                                    value={this.props.joblinkurl}\r\n                                    disabled={true}\r\n                                    className='job-share-modal-url-link'\r\n                                />\r\n                                <InputGroup.Append>\r\n                                    <CopyToClipboard text={this.props.joblinkurl}\r\n                                                     onCopy={this.props.copied}\r\n                                    >\r\n                                        {\r\n                                            this.state.mobileWebShare\r\n                                                ? <ButtonB variant=\"outline-secondary\"\r\n                                                           className='job-share-modal-url-link'\r\n                                                           onClick={this.webShareJobLink}>Share</ButtonB>\r\n                                                : <ButtonB variant=\"outline-secondary\"\r\n                                                           className='job-share-modal-url-link'>Copy Link</ButtonB>\r\n                                        }\r\n                                    </CopyToClipboard>\r\n                                </InputGroup.Append>\r\n                            </InputGroup>\r\n                            <p style={{\r\n                                fontFamily: 'Roboto',\r\n                                fontSize: '10px',\r\n                                color: '#707070',\r\n                                marginTop: 5,\r\n                            }}><i>Please ensure that the other party using the link has an account and is logged in\r\n                                before entering the above link.</i></p>\r\n\r\n                        </div>\r\n                        <div className='job-share-modal-email'>\r\n                            <h6 className='job-share-modal-copy-title'>People</h6>\r\n                            <InputGroup>\r\n                                <div style={{width: '100%'}}>\r\n                                    <TagsInput value={this.state.emailList} onChange={this.updateEmailList}\r\n                                               className='form-control job-share-email-inputbox'\r\n                                               onChangeInput={this.handleEmailInputChange}\r\n                                               inputValue={this.state.emailInputs}\r\n                                               inputProps={{\r\n                                                   className: 'react-tagsinput-input job-share-email-input',\r\n                                                   placeholder: 'Please Enter Email Address'\r\n                                               }}\r\n                                               tagProps={{\r\n                                                   className: 'react-tagsinput-tag job-share-email-tag',\r\n                                                   classNameRemove: 'react-tagsinput-remove'\r\n                                               }}\r\n                                               validate={this.validate}\r\n                                               addKeys={[9, 13, 186]}\r\n                                               renderTag={defaultRenderTag}\r\n\r\n                                    />\r\n                                    <p style={{\r\n                                        fontFamily: 'Roboto',\r\n                                        fontSize: '10px',\r\n                                        color: '#707070',\r\n                                        marginBottom: '8px',\r\n                                    }}>for multiple recipients, please use semicolon to separate</p>\r\n                                </div>\r\n                            </InputGroup>\r\n                            <FormControl placeholder='Add a note (Optional)' value={this.state.message} as=\"textarea\"\r\n                                         rows=\"4\" onChange={this.handleMessageChange}\r\n                                         className='job-share-modal-message'/>\r\n                        </div>\r\n                    </DialogContent>\r\n                    <DialogActions className='d-flex justify-content-center job-share-modal-bottom'>\r\n                        <Button onClick={(e) => {\r\n                            if (this.state.emailList.length === 0 && this.state.emailInputs === '') {\r\n                                alert('Email Cannot be Empty!')\r\n                            } else {\r\n                                this.props.Close();\r\n                                this.sendEmail();\r\n                            }\r\n                        }} variant=\"contained\" size=\"large\" className='job-share-modal-button'>\r\n                            Send\r\n                        </Button>\r\n                    </DialogActions>\r\n                </Dialog>\r\n                <Snackbar anchorOrigin={{horizontal: 'left', vertical: 'bottom'}}\r\n                          open={this.state.showSuccessSnackBar}\r\n                          message={<span id=\"message-id\">Message has been sent!</span>}\r\n                          action={\r\n                              <IconButton\r\n                                  key=\"close\"\r\n                                  color=\"inherit\"\r\n                                  onClick={this.handleSnackBarClose}\r\n                              >\r\n                                  <CloseIcon/>\r\n                              </IconButton>\r\n                          }\r\n                          TransitionComponent={this.SlideTransition}\r\n                />\r\n            </div>\r\n        );\r\n    }\r\n\r\n    validate = (tag) => {\r\n        return tag.includes('@')\r\n    }\r\n\r\n}\r\n\r\nexport default JobShareModal;","import React, { Component } from \"react\";\r\nimport axios from \"axios\";\r\n\r\nimport InputGroup from \"react-bootstrap/InputGroup\";\r\nimport ButtonB from \"react-bootstrap/Button\";\r\nimport FormControl from \"react-bootstrap/FormControl\";\r\nimport { CopyToClipboard } from \"react-copy-to-clipboard\";\r\n\r\nimport { Drawer } from \"@material-ui/core\";\r\n\r\nimport \"./JobShareSlide.css\";\r\nimport Divider from \"@material-ui/core/Divider\";\r\nimport Paper from \"@material-ui/core/Paper\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport clsx from \"clsx\";\r\nimport TagsInput from \"react-tagsinput\";\r\n\r\nclass JobShareSlide extends Component {\r\n  state = {\r\n    copied: false,\r\n    emailList: [],\r\n    message: \"\",\r\n    emailInputs: \"\",\r\n    mobileWebShare: false,\r\n    showSuccessSnackBar: false\r\n  };\r\n\r\n  componentDidMount() {\r\n    // Set whether mobile web share is possible\r\n    this.setState({\r\n      mobileWebShare: navigator.share !== undefined && navigator.share\r\n    });\r\n  }\r\n\r\n  handleMessageChange = e => {\r\n    this.setState({ message: e.target.value });\r\n  };\r\n\r\n  updateEmailList = emailList => {\r\n    this.setState({ emailList });\r\n  };\r\n\r\n  handleEmailInputChange = value => {\r\n    this.setState({ emailInputs: value });\r\n  };\r\n\r\n  handleInputClear = () => {\r\n    this.setState({ emailInputs: \"\" });\r\n  };\r\n\r\n  webShareJobLink = () => {\r\n    if (this.state.mobileWebShare) {\r\n      navigator\r\n        .share({\r\n          title: `Job Invitation - ${this.props.job.jobId}`,\r\n          text: `Click this link to join my delivery job to ${this.props.job.vessel.vesselName}`,\r\n          url: this.props.joblinkurl\r\n        })\r\n        .then(() => console.log(\"Successful share\"))\r\n        .catch(error => console.log(\"Error sharing\", error));\r\n    }\r\n  };\r\n\r\n  sendEmail = () => {\r\n    const emailInputs = this.state.emailInputs;\r\n    const emailList = emailInputs.split(\";\");\r\n\r\n    for (let i = 0; i < emailList.length; i++) {\r\n      const email = emailList[i];\r\n\r\n      if (email.trim() !== \"\") {\r\n        axios\r\n          .post(\"/api/job_links/share\", {\r\n            email,\r\n            job: this.props.job\r\n          })\r\n          .catch(err => {\r\n            console.log(err);\r\n          });\r\n      }\r\n    }\r\n  };\r\n\r\n  render() {\r\n    let renderContent;\r\n    if (this.props.inputSelected) {\r\n      renderContent = (\r\n        <div className=\"job-share-modal-copy\">\r\n          <h6 className=\"job-share-modal-copy-title\">Message</h6>\r\n          <FormControl\r\n            placeholder=\"Add a note (Optional)\"\r\n            value={this.state.message}\r\n            as=\"textarea\"\r\n            rows=\"6\"\r\n            onChange={this.handleMessageChange}\r\n            className=\"job-share-modal-message\"\r\n          />\r\n          <Button\r\n            onClick={e => {\r\n              this.props.onClose();\r\n              this.sendEmail();\r\n            }}\r\n            variant=\"contained\"\r\n            size=\"large\"\r\n            className=\"job-share-modal-button\"\r\n            fullWidth\r\n          >\r\n            Send\r\n          </Button>\r\n        </div>\r\n      );\r\n    } else {\r\n      renderContent = (\r\n        <div className=\"job-share-modal-copy\">\r\n          <h6 className=\"job-share-modal-copy-title\">\r\n            Do you know anyone sending items to{\" \"}\r\n            {this.props.job.vessel.vesselName.toUpperCase()},{\" \"}\r\n            {this.props.job.vessel.vesselIMOID}?\r\n          </h6>\r\n          <InputGroup className=\"job-share-modal-url\">\r\n            <FormControl\r\n              onChange={() => {}}\r\n              value={this.props.joblinkurl}\r\n              disabled={true}\r\n              className=\"job-share-modal-url-link\"\r\n            />\r\n            <InputGroup.Append>\r\n              <CopyToClipboard\r\n                text={this.props.joblinkurl}\r\n                onCopy={this.props.copied}\r\n              >\r\n                {this.state.mobileWebShare ? (\r\n                  <ButtonB\r\n                    variant=\"outline-secondary\"\r\n                    className=\"job-share-modal-url-link\"\r\n                    onClick={this.webShareJobLink}\r\n                  >\r\n                    Share\r\n                  </ButtonB>\r\n                ) : (\r\n                  <ButtonB\r\n                    variant=\"outline-secondary\"\r\n                    className=\"job-share-modal-url-link\"\r\n                  >\r\n                    Copy Link\r\n                  </ButtonB>\r\n                )}\r\n              </CopyToClipboard>\r\n            </InputGroup.Append>\r\n          </InputGroup>\r\n        </div>\r\n      );\r\n    }\r\n\r\n    return (\r\n      <Drawer\r\n        anchor=\"bottom\"\r\n        open={this.props.open}\r\n        onClose={this.props.onClose}\r\n        PaperProps={{\r\n          className: clsx(\r\n            \"MuiPaper-root MuiPaper-elevation16 MuiDrawer-paper MuiDrawer-paperAnchorBottom drawer-job-share\",\r\n            this.props.inputSelected && \"full-height-drawer\"\r\n          )\r\n        }}\r\n      >\r\n        <h3 onClick={this.props.onClose} className=\"job-slide-cancel\">\r\n          Cancel\r\n        </h3>\r\n        <Divider className=\"job-share-drawer-divider\" />\r\n        <Paper elevation={0} className=\"job-share-drawer-paper\">\r\n          <div className=\"job-share-modal-email\">\r\n            <h6 className=\"job-share-modal-copy-title\">Send to</h6>\r\n            <InputGroup>\r\n              <div style={{ width: \"100%\" }} onClick={this.props.handleSelect}>\r\n                <TagsInput\r\n                  value={this.state.emailList}\r\n                  onChange={this.updateEmailList}\r\n                  className=\"form-control job-share-email-inputbox\"\r\n                  onChangeInput={this.handleEmailInputChange}\r\n                  inputValue={this.state.emailInputs}\r\n                  inputProps={{\r\n                    className: \"react-tagsinput-input job-share-email-input\",\r\n                    placeholder: \"Please Enter Email Address\"\r\n                  }}\r\n                  tagProps={{\r\n                    className: \"react-tagsinput-tag job-share-email-tag\",\r\n                    classNameRemove: \"react-tagsinput-remove\"\r\n                  }}\r\n                  validate={this.validate}\r\n                  addKeys={[9, 13, 186]}\r\n                />\r\n                <p\r\n                  style={{\r\n                    fontFamily: \"Roboto\",\r\n                    fontSize: \"10px\",\r\n                    color: \"#707070\",\r\n                    marginBottom: \"8px\"\r\n                  }}\r\n                >\r\n                  for multiple recipients, please use semicolon to separate\r\n                </p>\r\n              </div>\r\n            </InputGroup>\r\n          </div>\r\n          {renderContent}\r\n        </Paper>\r\n      </Drawer>\r\n    );\r\n  }\r\n}\r\n\r\nexport default JobShareSlide;\r\n","import 'rc-time-picker/assets/index.css';\r\nimport \"react-datepicker/dist/react-datepicker.css\"\r\nimport 'react-bootstrap-typeahead/css/Typeahead.css';\r\nimport 'react-bootstrap-typeahead/css/Typeahead-bs4.css';\r\nimport \"./CreateJob.css\";\r\nimport React, { Component } from \"react\";\r\nimport { withRouter } from \"react-router-dom\";\r\nimport { connect } from \"react-redux\";\r\nimport { Container, Row, Col, Button } from \"react-bootstrap\";\r\nimport _ from \"lodash\";\r\nimport {Form, FormGroup, Input, Label, FormText} from \"reactstrap\";\r\nimport FormRB from 'react-bootstrap/Form';\r\nimport {Divider, Popover, FormControlLabel, Checkbox} from \"@material-ui/core\";\r\nimport TimePicker from 'rc-time-picker';\r\nimport moment from \"moment\";\r\n/* import JobItemInput from \"./JobDetails/Form/JobItemInput\";\r\nimport DateInputComponent from \"./JobDetails/Form/DateInputComponent\"; */\r\nimport {AsyncTypeahead, Typeahead, Highlighter, TypeaheadMenu} from 'react-bootstrap-typeahead';\r\nimport FormControl from \"@material-ui/core/FormControl\";\r\nimport RadioGroup from \"@material-ui/core/RadioGroup\";\r\nimport FormLabel from \"@material-ui/core/FormLabel\";\r\nimport Radio from \"@material-ui/core/Radio\";\r\n\r\nclass CreateJob extends Component {\r\n  state = {\r\n    jobId: \"\",\r\n    vesselIMOID: \"\",\r\n    vesselName: \"\",\r\n    vesselCallsign: \"\",\r\n    vesselLoadingLocation: \"PSA\",\r\n    vesselArrivalDateTime: new Date().toISOString(),\r\n    uploadedFile: null,\r\n    jobItems: [],\r\n    jobOfflandItems: [],\r\n    careOffParties: [],\r\n    remarks: \"\",\r\n    psaBerthingDateTime: \"\",\r\n    psaUnberthingDateTime: \"\",\r\n    vesselLoadingDateTime: new Date().toISOString(),\r\n    createDSA: false,\r\n    activeStep: 0,\r\n    steps: [\r\n      { title: \"Vessel Information\" },\r\n      { title: \"Vessel Location\" },\r\n      { title: \"Item Details\" },\r\n      { title: \"Confirmation\" }\r\n    ],\r\n    ItemsDeliverAnchorEl: null,\r\n    ItemsOfflandAnchorEl: null,\r\n    job: null,\r\n    vessels: [],\r\n    vesselLighterName: \"\",\r\n    //vesselLighterDateTime: new Date().toISOString(),\r\n    vesselLighterLocation: \"Marina South Wharves\",\r\n    vesselLighterRemarks: \"\",\r\n    otherVesselLocation: \"\",\r\n    submitButtonActive: true,\r\n    isLoading: false,\r\n    vesselQueryResults: [],\r\n    vesselSelected: \"\"\r\n  };\r\n\r\n  componentDidMount() {\r\n  }\r\n\r\n  handleJobIdChange = (e) => {\r\n      this.setState({jobId: e.target.value});\r\n  };\r\n\r\n  handleVesselLoadingLocationChange = (e) => {\r\n      this.setState({vesselLoadingLocation: e.target.value});\r\n  };\r\n\r\n  handleRemarksChange = (e) => {\r\n      this.setState({remarks: e.target.value});\r\n  };\r\n\r\n  handleVesselLighterRemarksChange = (e) => {\r\n      this.setState({vesselLighterRemarks: e.target.value});\r\n  };\r\n\r\n  validateItems = (items) => {\r\n      // Check for empty item entries\r\n      const filteredItems = [];\r\n      for (let i = 0; i < items.length; i++) {\r\n          const item = items[i];\r\n          if (item.quantity !== '' && item.uom !== '') {\r\n              delete item['id'];\r\n              filteredItems.push(item);\r\n          }\r\n      }\r\n      return filteredItems;\r\n  };\r\n\r\n  validateCareOffs = () => {\r\n      // Check for empty care-off entries\r\n      const careOffParties = this.state.careOffParties;\r\n      const filteredCareOffParties = [];\r\n      for (let i = 0; i < careOffParties.length; i++) {\r\n          const careOffParty = careOffParties[i];\r\n          if (careOffParty.companyName !== '' && careOffParty.personName !== '' && careOffParty.contactNumber !== '' && careOffParty.email !== '') {\r\n              delete careOffParty['id'];\r\n              filteredCareOffParties.push(careOffParty);\r\n          }\r\n      }\r\n      return filteredCareOffParties;\r\n  };\r\n\r\n  onSubmit = async (e) => {\r\n      e.preventDefault();\r\n\r\n      // Check for empty item entries\r\n      const filteredItems = this.validateItems(this.state.jobItems);\r\n      const filteredJobOfflandItems = this.validateItems(this.state.jobOfflandItems);\r\n\r\n      // Check for empty care-off entries\r\n      const filteredCareOffParties = this.validateCareOffs();\r\n\r\n      /* if (this.state.vesselQueryResults.length > 1) {\r\n          let vesselSelected = this.state.vesselQueryResults.filter((o) => o.vesselIMOID === this.state.vesselSelected)[0]\r\n          await this.setState({\r\n              vesselIMOID: vesselSelected.vesselIMOID ? vesselSelected.vesselIMOID : '',\r\n              vesselName: vesselSelected ? vesselSelected.vesselName : '',\r\n              vesselCallsign: vesselSelected ? vesselSelected.vesselCallsign : '',\r\n              isLoading: false,\r\n          });\r\n      }\r\n */\r\n      /* if (this.state.vesselIMOID === '' && this.state.vesselCallsign === '') {\r\n          window.alert('Either Vessel IMO or Callsign must be filled');\r\n      } else if (this.state.vesselName === '') {\r\n          window.alert('Vessel Name must be filled');\r\n      } else if (this.state.vesselLoadingLocation !== 'PSA' && (new Date(this.state.vesselLoadingDateTime) - new Date()) < 0) {\r\n          window.alert('Vessel Loading Time cannot be before now')\r\n      } else if (this.state.vesselLoadingDateTime === '') {\r\n          window.alert('Vessel Loading Date and Time must be filled');\r\n      } else if (isNaN(this.state.vesselIMOID) || this.state.vesselIMOID.length !== 7) {\r\n          window.alert('Vessel IMO must contain exactly 7 digits only');\r\n      } else if (filteredItems.length < 1) {\r\n          window.alert('At least one item must be submitted for delivery!');\r\n      } else if (this.state.vesselArrivalDateTime === '') {\r\n          window.alert('Vessel ETA must be filled');\r\n      } else {\r\n          // Disable submit button to prevent duplicate bookings\r\n          this.setState({submitButtonActive: false});\r\n\r\n          // Create job\r\n          axios.post('/api/jobs', {\r\n              jobId: this.state.jobId,\r\n              vesselIMOID: this.state.vesselIMOID,\r\n              vesselCallsign: this.state.vesselCallsign,\r\n              vesselName: this.state.vesselName,\r\n              vesselLoadingLocation: this.state.vesselLoadingLocation,\r\n              vesselArrivalDateTime: this.state.vesselArrivalDateTime,\r\n              jobItems: filteredItems,\r\n              jobOfflandItems: filteredJobOfflandItems,\r\n              careOffParties: filteredCareOffParties,\r\n              remarks: this.state.remarks,\r\n              psaBerthingDateTime: this.state.psaBerthingDateTime,\r\n              psaUnberthingDateTime: this.state.psaUnberthingDateTime,\r\n              vesselLoadingDateTime: this.state.vesselLoadingDateTime,\r\n              createDSA: this.state.createDSA,\r\n              vesselLighterName: this.state.vesselLighterName,\r\n              vesselLighterLocation: this.state.vesselLighterLocation,\r\n              vesselLighterRemarks: this.state.vesselLighterRemarks,\r\n              otherVesselLocation: this.state.otherVesselLocation\r\n          }).then(res => {\r\n              const job = res.data;\r\n\r\n              // Set job tracker to job approved automatically\r\n              axios.post('/api/job_trackers', {\r\n                  index: 2,\r\n                  title: 'Job booking confirmed',\r\n                  description: 'We have confirmed your job booking. Please deliver the items to \\'No. 6 Tuas Ave 6, Singapore 639311\\' at least 24 hours before the vessel arrives.',\r\n                  trackingType: 'Electronic',\r\n                  jobId: job._id\r\n              }).then(res => {\r\n                  axios.post('/api/job_links', {\r\n                      job\r\n                  }).then(res => {\r\n                      this.setState({activeStep: 2, job});\r\n                  }).catch(err => {\r\n                      console.log(err);\r\n                  });\r\n              }).catch(err => {\r\n                  console.log(err);\r\n              });\r\n          }).catch(err => {\r\n              console.log(err);\r\n          });\r\n      } */this.setState({activeStep: 2/* , job */});\r\n  };\r\n\r\n  handleVesselArrivalTimeChange = (value) => {\r\n      this.setState({vesselArrivalDateTime: value.toDate().toISOString()});\r\n  };\r\n\r\n  handleVesselArrivalDateChange = (vesselArrivalDateTime) => {\r\n      this.setState({vesselArrivalDateTime: vesselArrivalDateTime.toISOString()});\r\n  };\r\n\r\n  handleVesselLoadingTimeChange = (value) => {\r\n      this.setState({vesselLoadingDateTime: value.toDate().toISOString()});\r\n  };\r\n\r\n  handleVesselLoadingDateChange = (vesselLoadingDateTime) => {\r\n      this.setState({vesselLoadingDateTime: vesselLoadingDateTime.toISOString()});\r\n  };\r\n\r\n  handleVesselLighterNameChange = (e) => {\r\n      this.setState({vesselLighterName: e.target.value});\r\n  };\r\n\r\n  handleVesselLighterLocationChange = (e) => {\r\n      this.setState({vesselLighterLocation: e.target.value});\r\n  };\r\n\r\n  handleOtherVesselLocationChange = (e) => {\r\n      this.setState({otherVesselLocation: e.target.value});\r\n  };\r\n\r\n  handleDeliverClose = () => {\r\n      this.setState({ItemsDeliverAnchorEl: null})\r\n  };\r\n\r\n  handleOfflandClose = () => {\r\n      this.setState({ItemsOfflandAnchorEl: null})\r\n  };\r\n\r\n  handleCreateDSAChange = (e) => {\r\n      this.setState({createDSA: e.target.checked})\r\n  };\r\n\r\n  handleNextStep = async () => {\r\n      const filteredItems = this.validateItems(this.state.jobItems);\r\n      const filteredJobOfflandItems = this.validateItems(this.state.jobOfflandItems);\r\n\r\n      // Check for empty care-off entries\r\n      const filteredCareOffParties = this.validateCareOffs();\r\n\r\n      const now = new Date();\r\n\r\n      /* if (this.state.vesselIMOID === '' && this.state.vesselCallsign === '') { */\r\n          this.setState({isLoading: true});\r\n          const queryVesselName = this.state.vesselName;\r\n\r\n          try {\r\n              /* const res = await axios.get(`/api/vessels/search?query=${queryVesselName}`); */\r\n              /* const result = res.data;\r\n              if (result.length === 1) {\r\n                  this.setState({\r\n                      vesselIMOID: result[0].vesselIMOID ? result[0].vesselIMOID : '',\r\n                      vesselName: result[0] ? result[0].vesselName : '',\r\n                      vesselCallsign: result[0] ? result[0].vesselCallsign : '',\r\n                      isLoading: false,\r\n                  });\r\n              } else if (result.length > 1) {\r\n                  this.setState({vesselQueryResults: result})\r\n              } else {\r\n                  this.setState({isLoading: false});\r\n                  window.alert(`There is no such Vessel with Name: ${queryVesselName}`)\r\n                  return;\r\n              } */\r\n          } catch (err) {\r\n              console.log(err);\r\n          }/* \r\n      } */\r\n\r\n\r\n      /* if (this.state.vesselName === '') {\r\n          window.alert('Vessel Name must be filled');\r\n      } else if (this.state.vesselLoadingLocation !== 'PSA' && (new Date(this.state.vesselLoadingDateTime) - now.setHours( now.getHours() + 2 )) < 0) {\r\n          window.alert('Vessel Loading Time cannot be 2 hours before Arrival of Vessel')\r\n      } else if (this.state.vesselLoadingDateTime === '') {\r\n          window.alert('Vessel Loading Date and Time must be filled');\r\n      } else if (filteredItems.length < 1) {\r\n          window.alert('At least one item must be submitted for delivery!');\r\n      } else if (this.state.vesselArrivalDateTime === '') {\r\n          window.alert('Vessel ETA must be filled');\r\n      } else if (this.state.vesselLoadingLocation === 'Others' && this.state.otherVesselLocation === '') {\r\n          window.alert('Vessel Loading Location must be filled');\r\n      } else { */\r\n          this.setState({activeStep: 1});\r\n      /* } */\r\n  }; \r\n\r\n  handlePaymentBack = () => {\r\n      this.setState({activeStep: 0});\r\n  };\r\n\r\n  renderText = () => {\r\n      return (\r\n          <div className='d-flex flex-column'>\r\n              <span className='job-create-section-input-label' style={{marginBottom: '0px'}}><strong>I would like SimpFleet to produce DSA(JP LTs) or Entry/Export Permit(PSA) for me</strong></span>\r\n              <span className='job-create-section-label-helper-text'><i>It would cost extra fees if Simpfleet produces the DSA(JP LTs) or Entry/Export Permit(PSA)</i></span>\r\n          </div>);\r\n  };\r\n\r\n  renderJobTimeInfo = () => {\r\n      const vesselLoadingTime = moment(this.state.vesselLoadingDateTime);\r\n      const vesselArrivalTime = moment(this.state.vesselArrivalDateTime);\r\n      switch (this.state.vesselLoadingLocation) {\r\n          case \"PSA\":\r\n              return <div></div>;\r\n          default:\r\n              return (\r\n                  <div>\r\n                      <Row className='job-create-section'>\r\n                          <Col xs={12} sm={9}>\r\n                              <div className='d-flex align-items-center job-create-section-heading'>\r\n                                  <div className='job-create-green-circle'><strong>2</strong></div>\r\n                                  <h1 className='job-create-section-header'>Time</h1>\r\n                              </div>\r\n                              <FormGroup>\r\n                                  <Label className='job-create-section-label'>\r\n                                      {\r\n                                          this.state.vesselLoadingLocation === 'Jurong Port'\r\n                                              ? 'Lighter Loading Date & Time'\r\n                                              : 'Vessel Loading Date & Time'\r\n                                      }\r\n                                  </Label>\r\n                                  <Container fluid style={{paddingRight: \"0px\", paddingLeft: '0px'}}>\r\n                                      <Row>\r\n                                          <Col xs={7}>\r\n                                              {/* <DateInputComponent DateTime={this.state.vesselLoadingDateTime}\r\n                                                                  handleDateChange={this.handleVesselLoadingDateChange}\r\n                                                                  disabled={false}/> */}\r\n                                          </Col>\r\n                                          <Col xs={5}>\r\n                                              <TimePicker\r\n                                                  showSecond={false}\r\n                                                  defaultValue={vesselLoadingTime}\r\n                                                  value={vesselLoadingTime}\r\n                                                  onChange={this.handleVesselLoadingTimeChange}\r\n                                                  allowEmpty={false}\r\n                                                  className='job-create-section-input'\r\n                                              />\r\n                                          </Col></Row></Container>\r\n                              </FormGroup>\r\n                          </Col>\r\n                      </Row>\r\n                      <Divider className='job-create-section-divider'/>\r\n                  </div>\r\n              );\r\n      }\r\n  };\r\n\r\n  _renderMenuItemChildren = (option, props, index) => {\r\n      return [\r\n          <Highlighter key=\"vesselIMOID\" search={props.text}>\r\n              {option.vesselIMOID}\r\n          </Highlighter>,\r\n          <div key=\"vesselName\">\r\n              <small>\r\n                  Vessel Name: {option.vesselName}\r\n              </small>\r\n          </div>,\r\n      ];\r\n  };\r\n\r\n  renderMenu = (results, menuProps) => {\r\n      results.sort((a, b) => a.priority - b.priority);\r\n      // const sortedResults = results.slice(0,8);\r\n      return <TypeaheadMenu {...menuProps} options={results}/>;\r\n  };\r\n\r\n  handleTypeAheadVesselNameChange = (value) => {\r\n      this.setState({\r\n          vesselName: value.trim()\r\n      });\r\n  };\r\n\r\n  handleKeyDown = (e) => {\r\n      if (e.keyCode === 13) {\r\n          const query = e.target.value;\r\n      }\r\n  };\r\n\r\n  handleTypeAheadVesselSelect = (selected) => {\r\n      if (selected[0]) {\r\n          this.setState({\r\n              vesselIMOID: selected[0].vesselIMOID ? selected[0].vesselIMOID : '',\r\n              vesselName: selected[0] ? selected[0].vesselName : '',\r\n              vesselCallsign: selected[0] ? selected[0].vesselCallsign : ''\r\n          });\r\n      } else {\r\n          this.setState({\r\n              vesselIMOID: '',\r\n              vesselName: '',\r\n              vesselCallsign: ''\r\n          });\r\n      }\r\n  };\r\n\r\n  handleVesselSelectChange = (event) => {\r\n      this.setState({vesselSelected: event.target.value});\r\n  };\r\n\r\n  filter = (option, props) => {\r\n      let text = props.text.toLowerCase();\r\n      if (option.vesselCallsign.toLowerCase().indexOf(text) !== -1 ||\r\n          option.vesselIMOID.toLowerCase().indexOf(text) !== -1 ||\r\n          option.vesselName.toLowerCase().indexOf(text) !== -1) {\r\n          option.priority = 1;\r\n          return true\r\n      }\r\n      let textArr = text.split(' ');\r\n      let res = false;\r\n      for (let i = 0; i < textArr.length; i++) {\r\n          const o = textArr[i];\r\n          if (o.length >= 3 && (option.vesselCallsign.toLowerCase().split(' ').includes(o) ||\r\n              option.vesselIMOID.toLowerCase().split(' ').includes(o) ||\r\n              option.vesselName.toLowerCase().split(' ').includes(o))) {\r\n              option.priority = 2;\r\n              res = true;\r\n              break;\r\n          }\r\n      }\r\n      return res\r\n  };\r\n\r\n  renderJobInfo = () => {\r\n      const openDeliver = Boolean(this.state.ItemsDeliverAnchorEl);\r\n      let jobItemText = this.state.jobItems.reduce((a, item) => {\r\n          a.push(item.quantity.toString().concat(' '.concat(item.uom)));\r\n          return a;\r\n      }, []);\r\n      const openOffland = Boolean(this.state.ItemsOfflandAnchorEl);\r\n      let jobOfflandItemsText = this.state.jobOfflandItems.reduce((a, item) => {\r\n          a.push(item.quantity.toString().concat(' '.concat(item.uom)));\r\n          return a;\r\n      }, []);\r\n      return (\r\n          <div>\r\n              <Row className='job-create-section'>\r\n                  <Col xs={12} sm={9}>\r\n                      <div className='d-flex align-items-center job-create-section-heading'>\r\n                          <div className='job-create-green-circle'><strong>1</strong></div>\r\n                          <h1 className='job-create-section-header'>Vessel Information</h1>\r\n                      </div>\r\n\r\n                      <FormGroup>\r\n                          <Label className='job-create-section-label'>Job Number</Label>\r\n                          <Input type=\"text\" onChange={this.handleJobIdChange} value={this.state.jobId}\r\n                                 placeholder='Enter Job Number' className='job-create-section-input'/>\r\n                          <FormText color=\"red\" className=\"job-create-section-formtext\">* If left blank, Job Number\r\n                              will be auto-generated.</FormText>\r\n                      </FormGroup>\r\n\r\n                      <FormGroup>\r\n                          <Label className='job-create-section-label'>Vessel Loading Location</Label>\r\n                          <Input type=\"select\" value={this.state.vesselLoadingLocation}\r\n                                 onChange={this.handleVesselLoadingLocationChange}\r\n                                 className='job-create-section-input'>\r\n                              <option>PSA</option>\r\n                              <option>Jurong Port</option>\r\n                              <option>Others</option>\r\n                          </Input>\r\n                          {\r\n                              this.state.vesselLoadingLocation === 'PSA'\r\n                                  ?\r\n                                  <FormText color=\"red\" className=\"job-create-section-formtext\">* For PSA deliveries,\r\n                                      please note that delivery time will be based on the closest upcoming vessel\r\n                                      berth.</FormText>\r\n                                  : ''\r\n                          }\r\n                          <FormText color=\"red\" className=\"job-create-section-formtext\">* 'Jurong Port' here refers to\r\n                              the JP Lighterage Terminals. For Jurong Port, please select 'Others'.</FormText>\r\n                      </FormGroup>\r\n\r\n                      {\r\n                          this.state.vesselLoadingLocation === 'Others'\r\n                              ? <FormGroup>\r\n                                  <Label className='job-create-section-label'>Address of Vessel Loading Location</Label>\r\n                                  <Input type=\"text\" value={this.state.otherVesselLocation}\r\n                                         onChange={this.handleOtherVesselLocationChange}\r\n                                         className='job-create-section-input'\r\n                                         required\r\n                                  >\r\n                                  </Input>\r\n                              </FormGroup>\r\n                              : ''\r\n                      }\r\n\r\n                      <FormGroup>\r\n                          <Label className='job-create-section-label'>Vessel Name</Label>\r\n                          <Typeahead id='vesselNameInput'\r\n                                     renderMenuItemChildren={this._renderMenuItemChildren}\r\n                                     renderMenu={this.renderMenu}\r\n                                     labelKey=\"vesselName\"\r\n                                     options={this.state.vessels}\r\n                                     placeholder=\"Enter Vessel Name\"\r\n                                     maxResults={1000}\r\n                                     paginate={false}\r\n                                     minLength={3}\r\n                                     onInputChange={this.handleTypeAheadVesselNameChange}\r\n                                     onChange={(selected) => {\r\n                                         this.handleTypeAheadVesselSelect(selected);\r\n                                     }}\r\n                                     inputProps={{className: 'job-create-section-input margin-bottom-zero'}}\r\n                                     filterBy={this.filter}\r\n                                     emptyLabel={false}\r\n                          />\r\n                          <span className='job-create-section-label-helper-text'><i>If vessel is not listed, it is okay to just submit the form.</i></span>\r\n                      </FormGroup>\r\n\r\n                      {\r\n                          this.state.vesselIMOID !== ''\r\n                              ? <FormGroup>\r\n                                  <Label className='job-create-section-label'>Vessel IMO</Label>\r\n                                  <Input type=\"text\" className='job-create-section-input' value={this.state.vesselIMOID}\r\n                                         disabled/>\r\n                              </FormGroup> : ''\r\n                      }\r\n\r\n                      {\r\n                          this.state.vesselCallsign !== ''\r\n                              ? <FormGroup>\r\n                                  <Label className='job-create-section-label'>Vessel Callsign</Label>\r\n                                  <Input type=\"text\" className='job-create-section-input'\r\n                                         value={this.state.vesselCallsign} disabled/>\r\n                              </FormGroup> : ''\r\n                      }\r\n\r\n                      {this.state.vesselLoadingLocation === 'Jurong Port'\r\n                          ? <div>\r\n                              <FormGroup style={{marginBottom: '0px'}}>\r\n                                  <Label className='job-create-section-label'>Lighter Name\r\n                                      (Optional)</Label>\r\n                                  <Input type=\"text\"\r\n                                         onChange={this.handleVesselLighterNameChange}\r\n                                         value={this.state.vesselLighterName}\r\n                                         className='job-create-section-input'\r\n                                         placeholder='Enter Lighter Name'/>\r\n                              </FormGroup>\r\n                              <FormGroup>\r\n                                  <Label className='job-create-section-label'>Lighter Location</Label>\r\n                                  <Input type=\"select\" value={this.state.vesselLighterLocation}\r\n                                         onChange={this.handleVesselLighterLocationChange}\r\n                                         className='job-create-section-input'>\r\n                                      <option>Marina South Wharves</option>\r\n                                      <option>Penjuru Terminal</option>\r\n                                  </Input>\r\n                              </FormGroup>\r\n                              <FormGroup>\r\n                                  <Label className='job-create-section-label'>Lighter Contact Remarks\r\n                                      (Optional)</Label>\r\n                                  <Input type=\"textarea\" value={this.state.vesselLighterRemarks} rows=\"3\"\r\n                                         className='job-create-section-input'\r\n                                         style={{marginBottom: 0}}\r\n                                         onChange={this.handleVesselLighterRemarksChange}/>\r\n                                  <span className='job-create-section-label-helper-text'><i>Please enter contact details for lighter here</i></span>\r\n                              </FormGroup>\r\n                          </div>\r\n                          : ''\r\n                      }\r\n                  </Col>\r\n              </Row>\r\n              <Divider className='job-create-section-divider'/>\r\n\r\n              {this.renderJobTimeInfo()}\r\n\r\n              <Row className='job-create-section'>\r\n                  <Col xs={12} sm={9}>\r\n                      <div className='d-flex align-items-center job-create-section-heading'>\r\n                          <div className='job-create-green-circle'>\r\n                              <strong>{this.state.vesselLoadingLocation === 'PSA' ? '2' : '3'}</strong></div>\r\n                          <h1 className='job-create-section-header'>Delivery Details</h1>\r\n                      </div>\r\n                      <FormRB.Group>\r\n                          <FormRB.Label className='job-create-section-label'>Items to\r\n                              Deliver</FormRB.Label>\r\n                          <FormRB.Control as=\"input\"\r\n                                          value={jobItemText.join(', ')}\r\n                                          onClick={(e) => {\r\n                                              this.setState({ItemsDeliverAnchorEl: e.currentTarget})\r\n                                          }}\r\n                                          style={{marginBottom: 0}}\r\n                                          className='job-create-section-input' onChange={() => {\r\n                          }}>\r\n                          </FormRB.Control>\r\n                          <span className='job-create-section-label-helper-text'><i>* Please let us know if you have any refrigeration, fragile, dangerous or over-sized items in the remarks</i></span>\r\n                          <br/>\r\n                          <span className='job-create-section-label-helper-text'><i>* Please let us know whether blue bin needs to be provided in the remarks</i></span>\r\n                          <br/>\r\n                          <span className='job-create-section-label-helper-text' style={{color: 'red'}}><i>* We have a standard sizing, please refer to our Terms of Services</i></span>\r\n                          <Popover\r\n                              open={openDeliver}\r\n                              anchorEl={this.state.ItemsDeliverAnchorEl}\r\n                              onClose={this.handleDeliverClose}\r\n                              anchorOrigin={{\r\n                                  vertical: 'bottom',\r\n                                  horizontal: 'left',\r\n                              }}\r\n                              transformOrigin={{\r\n                                  vertical: 'top',\r\n                                  horizontal: 'left',\r\n                              }}\r\n                          >\r\n                              {/* <JobItemInput jobItems={this.state.jobItems}\r\n                                            job={this.state.job}\r\n                                            setItems={(jobItems) => this.setState({jobItems})}\r\n                                            disabled={false}\r\n                                            type={\"delivery\"}\r\n                              /> */}\r\n\r\n                          </Popover>\r\n                      </FormRB.Group>\r\n\r\n                      <FormRB.Group>\r\n                          <FormRB.Label className='job-create-section-label'>Items to\r\n                              Offland (Optional)</FormRB.Label>\r\n                          <FormRB.Control as=\"input\"\r\n                                          value={jobOfflandItemsText.join(', ')}\r\n                                          onClick={(e) => {\r\n                                              this.setState({ItemsOfflandAnchorEl: e.currentTarget})\r\n                                          }}\r\n                                          className='job-create-section-input' onChange={() => {\r\n                          }}>\r\n                          </FormRB.Control>\r\n                          <Popover\r\n                              open={openOffland}\r\n                              anchorEl={this.state.ItemsOfflandAnchorEl}\r\n                              onClose={this.handleOfflandClose}\r\n                              anchorOrigin={{\r\n                                  vertical: 'bottom',\r\n                                  horizontal: 'left',\r\n                              }}\r\n                              transformOrigin={{\r\n                                  vertical: 'top',\r\n                                  horizontal: 'left',\r\n                              }}\r\n                          >\r\n                              {/* <JobItemInput jobItems={this.state.jobOfflandItems}\r\n                                            job={this.state.job}\r\n                                            setItems={(jobOfflandItems) => this.setState({jobOfflandItems})}\r\n                                            disabled={false}\r\n                                            type={\"Offland\"}\r\n                              /> */}\r\n                          </Popover>\r\n                      </FormRB.Group>\r\n                      <FormGroup>\r\n                          <Label className='job-create-section-label'>Remarks (Optional)</Label>\r\n                          <Input type=\"textarea\" value={this.state.remarks} rows=\"7\"\r\n                                 className='job-create-section-input margin-bottom-zero'\r\n                                 onChange={this.handleRemarksChange}/>\r\n                          <span className='job-create-section-label-helper-text'><i>* If you require pickup, please input address in the remarks.</i></span>\r\n                      </FormGroup>\r\n                      <FormControlLabel\r\n                          value=\"dsa\"\r\n                          control={<Checkbox color=\"default\" checked={this.state.createDSA}\r\n                                             className='create-dsa-checkbox'/>}\r\n                          onChange={this.handleCreateDSAChange}\r\n                          label={this.renderText()}\r\n                      />\r\n                  </Col>\r\n              </Row>\r\n              <Row className='job-create-section-action'>\r\n                  <Col xs={12}>\r\n                      <div className='d-flex align-items-center justify-content-center'>\r\n                          <Button variant='success' className='job-create-submit-btn'\r\n                                  onClick={this.handleNextStep}>Submit</Button>\r\n                          <Button variant='outline-success' className='job-create-cancel-btn'\r\n                                  onClick={this.props.handleCloseModal}>Cancel</Button>\r\n\r\n                      </div>\r\n                  </Col>\r\n              </Row>\r\n          </div>\r\n\r\n      );\r\n  };\r\n\r\n  renderJobPayment = () => {\r\n      if (this.state.vesselQueryResults.length > 1) {\r\n          return (\r\n              <div>\r\n                  <Row className='job-create-section full-height'>\r\n                      <Col>\r\n                          <div className='d-flex align-items-center job-create-section-heading-price'>\r\n                              <h1 className='job-create-section-header-price'>Confirm Booking?</h1>\r\n                          </div>\r\n                          <div>\r\n                              <FormControl component=\"fieldset\">\r\n                                  <FormLabel component=\"legend\" className='job-create-section-label'\r\n                                             style={{paddingTop: 10, paddingBottom: 10}}>Please Select a\r\n                                      Vessel:</FormLabel>\r\n                                  <RadioGroup\r\n                                      value={this.state.vesselSelected}\r\n                                      onChange={this.handleVesselSelectChange}\r\n                                  >\r\n                                      {this.state.vesselQueryResults.map((obj, index) => {\r\n                                          return (\r\n                                              <FormControlLabel key={index} value={obj.vesselIMOID} control={<Radio/>}\r\n                                                                label={`${obj.vesselName}, ${obj.vesselIMOID}`}/>\r\n                                          );\r\n                                      })}\r\n                                  </RadioGroup>\r\n                              </FormControl>\r\n                          </div>\r\n                          <div className='d-flex align-items-center justify-content-center'\r\n                               style={{marginTop: \"20px\"}}>\r\n                              <Button disabled={!this.state.submitButtonActive} variant='success'\r\n                                      className='job-create-submit-btn'\r\n                                      type=\"submit\">Yes</Button>\r\n                              <Button variant='outline-success' className='job-create-cancel-btn'\r\n                                      onClick={this.props.handleCloseModal}>No</Button>\r\n                          </div>\r\n                      </Col>\r\n                  </Row>\r\n              </div>\r\n          );\r\n      } else {\r\n          return (\r\n              <div>\r\n                  <Row className='job-create-section full-height'>\r\n                      <Col>\r\n                          <div className='d-flex align-items-center job-create-section-heading-price'>\r\n                              <h1 className='job-create-section-header-price'>Confirm Booking?</h1>\r\n                          </div>\r\n\r\n                          <div className='d-flex align-items-center justify-content-center'\r\n                               style={{marginTop: \"20px\"}}>\r\n                              <Button disabled={!this.state.submitButtonActive} variant='success'\r\n                                      className='job-create-submit-btn'\r\n                                      type=\"submit\">Yes</Button>\r\n                              <Button variant='outline-success' className='job-create-cancel-btn'\r\n                                      onClick={this.props.handleCloseModal}>No</Button>\r\n                          </div>\r\n                      </Col>\r\n                  </Row>\r\n              </div>\r\n          );\r\n      }\r\n      // return (<div>\r\n      //     <Row className='job-create-section full-height'>\r\n      //         <Col>\r\n      //             <div className='d-flex align-items-center job-create-section-heading-price'>\r\n      //                 <h1 className='job-create-section-header-price'>Price</h1>\r\n      //             </div>\r\n      //             <JobCreatePriceTable tableHeading=\"Items to Deliver\" jobItems={this.state.jobItems}/>\r\n      //             <br/>\r\n      //             {\r\n      //                 this.state.jobOfflandItems.length > 0\r\n      //                     ?\r\n      //                     <JobCreatePriceTable tableHeading=\"Items to Offland\" jobItems={this.state.jobOfflandItems}/>\r\n      //                     : ''\r\n      //             }\r\n      //             <div className='d-flex align-items-center justify-content-center' style={{marginTop: \"20px\"}}>\r\n      //                 <Button variant='success' className='job-create-submit-btn'\r\n      //                         type=\"submit\">Submit</Button>\r\n      //                 <Button variant='outline-success' className='job-create-cancel-btn'\r\n      //                         onClick={this.props.handleCloseModal}>Cancel</Button>\r\n      //             </div>\r\n      //         </Col>\r\n      //     </Row>\r\n      // </div>)\r\n  };\r\n\r\n  renderSuccess = () => {\r\n      return (\r\n          <Row className='job-create-section-success'>\r\n              <Col>\r\n                  <div\r\n                      className='d-flex align-items-center justify-content-center flex-column job-create-section-heading-price'>\r\n                      <svg className=\"checkmark\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 52 52\">\r\n                          <circle className=\"checkmark__circle\" cx=\"26\" cy=\"26\" r=\"25\" fill=\"none\"/>\r\n                          <path className=\"checkmark__check\" fill=\"none\" d=\"M14.1 27.2l7.1 7.2 16.7-16.8\"/>\r\n                      </svg>\r\n                      <p className='job-create-success-text text-center'>You have successfully booked a job with\r\n                          Simpfleet.</p>\r\n                      <Button variant='success' className='job-create-details-btn' onClick={() => {\r\n                          /* this.props.history.push(`/job_details?job=${this.state.job.index}`); */\r\n                          if (this.props.mobile) {\r\n                              this.props.handlePopoverOpen();\r\n                              this.props.handleCloseModal();\r\n                              this.props.handleCloseMenu();\r\n                          }\r\n                          ;\r\n                      }}>View your job details</Button>\r\n                  </div>\r\n              </Col>\r\n          </Row>\r\n      );\r\n  };\r\n\r\n  renderForm = () => {\r\n      let formDisplay;\r\n      if (this.state.activeStep === 0) {\r\n          formDisplay = this.renderJobInfo();\r\n      } else if (this.state.activeStep === 1) {\r\n          formDisplay = this.renderJobPayment();\r\n      } else if (this.state.activeStep === 2) {\r\n          formDisplay = this.renderSuccess();\r\n      }\r\n\r\n      return (\r\n          <Form onSubmit={this.onSubmit} style={{height: \"100%\"}}>\r\n              {formDisplay}\r\n          </Form>\r\n      );\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <Container fluid style={{ height: \"100%\" }}>\r\n        <Row style={{ height: \"100%\" }}>\r\n          <Col xs={12}> {this.renderForm()} </Col>\r\n        </Row>\r\n      </Container>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = ({ auth }) => {\r\n  return { auth };\r\n};\r\n\r\nexport default withRouter(connect(mapStateToProps)(CreateJob));\r\n","import \"./CreateJobModal.css\";\r\nimport React, { Component } from \"react\";\r\n\r\nimport Dialog from \"@material-ui/core/Dialog\";\r\nimport DialogContent from \"@material-ui/core/DialogContent\";\r\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\r\nimport IconButton from \"@material-ui/core/IconButton\";\r\nimport CloseIcon from \"@material-ui/icons/Close\";\r\nimport CreateJob from \"./CreateJob\";\r\n\r\nexport default class CreateJobModal extends Component {\r\n  render() {\r\n    return (\r\n      <div className=\"job-create-modal\">\r\n        <Dialog\r\n          open={this.props.isOpen}\r\n          onClose={this.props.handleCloseModal}\r\n          maxWidth=\"sm\"\r\n          fullWidth={true}\r\n          fullScreen={this.props.fullScreen}\r\n        >\r\n          <DialogTitle id=\"alert-dialog-title\" className=\"job-share-modal-top\">\r\n            <div className=\"d-flex align-items-center\">\r\n              <p className=\"job-share-modal-title\">Job Booking</p>\r\n              <IconButton\r\n                aria-label=\"Close\"\r\n                className=\"job-share-modal-close ml-auto\"\r\n                onClick={this.props.handleCloseModal}\r\n              >\r\n                <CloseIcon />\r\n              </IconButton>\r\n            </div>\r\n          </DialogTitle>\r\n          <DialogContent className=\"job-create-modal-content\">\r\n            <CreateJob\r\n              handleCloseModal={this.props.handleCloseModal}\r\n              handlePopoverOpen={this.props.handlePopoverOpen}\r\n              handleCloseMenu={this.props.handleCloseMenu}\r\n              mobile={this.props.fullScreen}\r\n            />\r\n          </DialogContent>\r\n        </Dialog>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import axios from \"axios\";\r\n\r\nimport { GET_ERRORS } from \"./types\";\r\n\r\n// Login - Get User Token\r\nexport const loginUser = userData => dispatch => {\r\n  axios\r\n    .post(\"/api/users/login\", userData)\r\n    .then(res => {\r\n      window.alert(\"Welcome to SimpFleet Apps. you are logged.\");\r\n      window.location.href = \"/\";\r\n    })\r\n    .catch(err => {\r\n      dispatch({\r\n        type: GET_ERRORS,\r\n        payload: err.response.data\r\n      });\r\n      if (err.response.data.isApproved) {\r\n        window.alert(\r\n          \"Account not yet Approved. Please check your email or contact us.\"\r\n        );\r\n      }\r\n    });\r\n};\r\n\r\n// Log user out\r\nexport const logoutUser = () => {\r\n  axios.post(\"/api/users/logout\").then(res => {\r\n    window.location.href = \"/\";\r\n  });\r\n};\r\n","const isEmpty = value =>\r\n  value === undefined ||\r\n  value === null ||\r\n  (typeof value === \"object\" && Object.keys(value).length === 0) ||\r\n  (typeof value === \"string\" && value.trim().length === 0);\r\n\r\nmodule.exports = isEmpty;\r\n"],"sourceRoot":""}