{"version":3,"sources":["components/Analytics/Job/BreakdownBy/BreakdownByMonth.js","components/Analytics/Job/BreakdownBy/BreakdownByDeliveryLocations.js","components/Analytics/Job/BreakdownBy/BreakdownByVessels.js","components/Analytics/Job/BreakdownBy/BreakdownByCompanies.js","components/Analytics/Job/JobAnalytics.js","components/Analytics/Analytics.js"],"names":["BreakdownByMonth","jobMonthCategory","this","props","jobMonthCategories","Object","keys","map","key","index","jobs","itemCount","offlandItemCount","itemTimes","offlandItemTimes","cancelledJobs","openJobs","completedJobs","i","length","job","isCancelled","push","jobTrackers","jobItems","jobOfflandItems","j","quantity","style","color","toFixed","cs","md","size","offset","className","striped","hover","bordered","responsive","Component","BreakdownByDeliveryLocations","jobDeliveryCategory","itemCountOthers","offlandItemCountOthers","itemall","itemofflandall","cancelledJobstotal","openJobstotal","completedJobstotal","cancelledJobsOthers","openJobsOthers","completedJobsOthers","jobDeliveryLocationsCategories","jobItem","jobOfflandItem","BreakdownByVessels","jobVesselCategories","BreakdownByCompanies","jobCompaniesCategory","Company","cancelledjobstotal","openjobstotal","completedjobstotal","jobCompanieCategories","uniq","JobAnalytics","state","userCompany","jobDeliveryCategories","jobCompaniesCategories","axios","get","then","res","data","monthOfJob","Date","jobBookingDateTime","getMonth","getFullYear","LocationsOfJob","vesselLoadingLocation","CompaniesOfJob","user","name","jobListMonth","jobListLocation","jobListCompanies","setState","catch","err","console","log","CompanyCategories","Companies","ListCompany","Analytics","fluid"],"mappings":"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","file":"static/js/7.f1f0882c.chunk.js","sourcesContent":["import React, { Component } from \"react\";\r\nimport { Row, Table, Col } from \"reactstrap\";\r\n\r\nclass BreakdownByMonth extends Component {\r\n  render() {\r\n    const { jobMonthCategory } = this.props;\r\n    switch (jobMonthCategory) {\r\n      case null:\r\n        return <div></div>;\r\n      default:\r\n        const jobMonthCategories = Object.keys(jobMonthCategory).map(\r\n          (key, index) => {\r\n            const jobs = jobMonthCategory[key];\r\n            let itemCount = 0;\r\n            let offlandItemCount = 0;\r\n            let itemTimes = 0;\r\n            let offlandItemTimes = 0;\r\n            const cancelledJobs = [];\r\n            const openJobs = [];\r\n            const completedJobs = [];\r\n            for (let i = 0; i < jobs.length; i++) {\r\n              const job = jobs[i];\r\n\r\n              if (job.isCancelled === \"Confirmed\") {\r\n                cancelledJobs.push(job);\r\n              } else {\r\n                if (job.jobTrackers.length === 6) {\r\n                  completedJobs.push(job);\r\n                } else {\r\n                  openJobs.push(job);\r\n                }\r\n\r\n                const { jobItems, jobOfflandItems } = job;\r\n                if (jobItems && jobItems.length > 0) {\r\n                  itemTimes++;\r\n                  for (let j = 0; j < jobItems.length; j++) {\r\n                    const jobItem = jobItems[j];\r\n                    itemCount += jobItem.quantity;\r\n                  }\r\n                }\r\n                if (jobOfflandItems && jobOfflandItems.length > 0) {\r\n                  offlandItemTimes++;\r\n                  for (let j = 0; j < jobOfflandItems.length; j++) {\r\n                    const jobOfflandItem = jobOfflandItems[j];\r\n                    offlandItemCount += jobOfflandItem.quantity;\r\n                  }\r\n                }\r\n              }\r\n            }\r\n\r\n            return (\r\n              <tr key={index}>\r\n                <td>{key}</td>\r\n                <td>{jobs.length}</td>\r\n                <td style={{ color: \"red\" }}>{cancelledJobs.length}</td>\r\n                <td>{openJobs.length}</td>\r\n                <td>{completedJobs.length}</td>\r\n                <td>{itemCount}</td>\r\n                <td>\r\n                  {itemCount === 0 ? \"0\" : (itemCount / itemTimes).toFixed(2)}\r\n                </td>\r\n                <td>{offlandItemCount}</td>\r\n                <td>\r\n                  {offlandItemCount === 0\r\n                    ? \"0\"\r\n                    : (offlandItemCount / offlandItemTimes).toFixed(2)}\r\n                </td>\r\n              </tr>\r\n            );\r\n          }\r\n        );\r\n\r\n        return (\r\n          <Row>\r\n            <Col cs=\"12\" md={{ size: 12, offset: 0 }} className=\"text-center\">\r\n              <h1>Job breakdown by month</h1>\r\n            </Col>\r\n            <Col cs=\"12\" md={{ size: 12, offset: 0 }}>\r\n              <Table striped hover bordered responsive>\r\n                <thead>\r\n                  <tr>\r\n                    <th>Month</th>\r\n                    <th>Total jobs</th>\r\n                    <th style={{ color: \"red\" }}>Cancelled jobs</th>\r\n                    <th>Ongoing jobs</th>\r\n                    <th>Completed jobs</th>\r\n                    <th>No. of Pallets (Delivery)</th>\r\n                    <th>Avg No. of Pallets per Delivery</th>\r\n                    <th>No. of Pallets (Offland)</th>\r\n                    <th>Avg No. of Pallets per Offland</th>\r\n                  </tr>\r\n                </thead>\r\n                <tbody>{jobMonthCategories}</tbody>\r\n              </Table>\r\n            </Col>\r\n          </Row>\r\n        );\r\n    }\r\n  }\r\n}\r\nexport default BreakdownByMonth;\r\n","import React, { Component } from \"react\";\r\nimport { Row, Table, Col } from \"reactstrap\";\r\n\r\nclass BreakdownByDeliveryLocations extends Component {\r\n  render() {\r\n    const { jobDeliveryCategory } = this.props;\r\n    switch (jobDeliveryCategory) {\r\n      case null:\r\n        return <div></div>;\r\n      default:\r\n        let itemCountOthers = 0;\r\n        let offlandItemCountOthers = 0;\r\n        let itemall = 0;\r\n        let itemofflandall = 0;\r\n        const cancelledJobstotal = [];\r\n        const openJobstotal = [];\r\n        const completedJobstotal = [];\r\n        const cancelledJobsOthers = [];\r\n        const openJobsOthers = [];\r\n        const completedJobsOthers = [];\r\n        const jobDeliveryLocationsCategories = Object.keys(\r\n          jobDeliveryCategory\r\n        ).map((key, index) => {\r\n          const jobs = jobDeliveryCategory[key];\r\n          let itemCount = 0;\r\n          let offlandItemCount = 0;\r\n          const cancelledJobs = [];\r\n          const openJobs = [];\r\n          const completedJobs = [];\r\n\r\n          if (key === \"PSA\" || key === \"Jurong Port\") {\r\n            for (let i = 0; i < jobs.length; i++) {\r\n              let job = jobs[i];\r\n\r\n              if (job.isCancelled === \"Confirmed\") {\r\n                cancelledJobs.push(job);\r\n                cancelledJobstotal.push(job);\r\n              } else {\r\n                if (job.jobTrackers.length === 6) {\r\n                  completedJobs.push(job);\r\n                  completedJobstotal.push(job);\r\n                } else {\r\n                  openJobs.push(job);\r\n                  openJobstotal.push(job);\r\n                }\r\n\r\n                const { jobItems, jobOfflandItems } = job;\r\n                if (jobItems && jobItems.length > 0) {\r\n                  for (let j = 0; j < jobItems.length; j++) {\r\n                    const jobItem = jobItems[j];\r\n                    itemCount += jobItem.quantity;\r\n                    itemall += jobItem.quantity;\r\n                  }\r\n                }\r\n                if (jobOfflandItems && jobOfflandItems.length > 0) {\r\n                  for (let j = 0; j < jobOfflandItems.length; j++) {\r\n                    const jobOfflandItem = jobOfflandItems[j];\r\n                    offlandItemCount += jobOfflandItem.quantity;\r\n                    itemofflandall += jobOfflandItem.quantity;\r\n                  }\r\n                }\r\n              }\r\n            }\r\n            return (\r\n              <tr key={index}>\r\n                <td>{key}</td>\r\n                <td>{itemCount}</td>\r\n                <td>{offlandItemCount}</td>\r\n                <td>{openJobs.length}</td>\r\n                <td>{completedJobs.length}</td>\r\n                <td style={{ color: \"red\" }}>{cancelledJobs.length}</td>\r\n                <td>{jobs.length}</td>\r\n              </tr>\r\n            );\r\n          } else if (key !== \"PSA\" || key !== \"Jurong Port\") {\r\n            for (let i = 0; i < jobs.length; i++) {\r\n              let job = jobs[i];\r\n              if (job.isCancelled === \"Confirmed\") {\r\n                cancelledJobsOthers.push(job);\r\n              } else {\r\n                if (job.jobTrackers.length === 6) {\r\n                  completedJobsOthers.push(job);\r\n                } else {\r\n                  openJobsOthers.push(job);\r\n                }\r\n                const { jobItems, jobOfflandItems } = job;\r\n                if (jobItems && jobItems.length > 0) {\r\n                  for (let j = 0; j < jobItems.length; j++) {\r\n                    const jobItem = jobItems[j];\r\n                    itemCountOthers += jobItem.quantity;\r\n                  }\r\n                }\r\n                if (jobOfflandItems && jobOfflandItems.length > 0) {\r\n                  for (let j = 0; j < jobOfflandItems.length; j++) {\r\n                    const jobOfflandItem = jobOfflandItems[j];\r\n                    offlandItemCountOthers += jobOfflandItem.quantity;\r\n                  }\r\n                }\r\n              }\r\n            }\r\n          }\r\n        });\r\n\r\n        return (\r\n          <Row>\r\n            <Col cs=\"12\" md={{ size: 12, offset: 0 }} className=\"text-center\">\r\n              <h1>Job breakdown by Delivery Locations</h1>\r\n            </Col>\r\n            <Col cs=\"12\" md={{ size: 12, offset: 0 }}>\r\n              <Table striped hover bordered responsive>\r\n                <thead>\r\n                  <tr>\r\n                    <th>Delivery Location</th>\r\n                    <th>No. of Pallets (Delivery)</th>\r\n                    <th>No. of Pallets (Offland)</th>\r\n                    <th>Ongoing Jobs</th>\r\n                    <th>Completed Jobs</th>\r\n                    <th style={{ color: \"red\" }}>Cancelled Jobs</th>\r\n                    <th>Total Jobs</th>\r\n                  </tr>\r\n                </thead>\r\n                <tbody>\r\n                  {jobDeliveryLocationsCategories}\r\n                  <tr>\r\n                    <td>Others</td>\r\n                    <td>{itemCountOthers}</td>\r\n                    <td>{offlandItemCountOthers}</td>\r\n                    <td>{openJobsOthers.length}</td>\r\n                    <td>{completedJobsOthers.length}</td>\r\n                    <td style={{ color: \"red\" }}>\r\n                      {cancelledJobsOthers.length}\r\n                    </td>\r\n                    <td>\r\n                      {openJobsOthers.length +\r\n                        completedJobsOthers.length +\r\n                        cancelledJobsOthers.length}\r\n                    </td>\r\n                  </tr>\r\n                </tbody>\r\n                <br />\r\n                <tfoot>\r\n                  <tr>\r\n                    <th>Total</th>\r\n                    <th>{itemCountOthers + itemall} Pallets</th>\r\n                    <th>{offlandItemCountOthers + itemofflandall} Pallets</th>\r\n                    <th>{openJobsOthers.length + openJobstotal.length} Jobs</th>\r\n                    <th>\r\n                      {completedJobsOthers.length + completedJobstotal.length}{\" \"}\r\n                      Jobs\r\n                    </th>\r\n                    <th style={{ color: \"red\" }}>\r\n                      {cancelledJobsOthers.length + cancelledJobstotal.length}{\" \"}\r\n                      jobs\r\n                    </th>\r\n                    <th>\r\n                      {openJobsOthers.length +\r\n                        completedJobsOthers.length +\r\n                        cancelledJobsOthers.length +\r\n                        (openJobstotal.length +\r\n                          completedJobstotal.length +\r\n                          cancelledJobstotal.length)}{\" \"}\r\n                      Jobs\r\n                    </th>\r\n                  </tr>\r\n                </tfoot>\r\n              </Table>\r\n            </Col>\r\n          </Row>\r\n        );\r\n    }\r\n  }\r\n}\r\nexport default BreakdownByDeliveryLocations;\r\n","import React, { Component } from \"react\";\r\nimport { Row, Table, Col } from \"reactstrap\";\r\n\r\nclass BreakdownByVessels extends Component {\r\n  render() {\r\n    const { jobMonthCategory } = this.props;\r\n    switch (jobMonthCategory) {\r\n      case null:\r\n        return <div></div>;\r\n      default:\r\n        const jobVesselCategories = Object.keys(jobMonthCategory).map(\r\n          (key, index) => {\r\n            const jobs = jobMonthCategory[key];\r\n            const cancelledJobs = [];\r\n            const openJobs = [];\r\n            const completedJobs = [];\r\n            for (let i = 0; i < jobs.length; i++) {\r\n              const job = jobs[i];\r\n            }\r\n\r\n            return (\r\n              <tr key={index}>\r\n                <td>{key}</td>\r\n                <td>-</td>\r\n                <td>-</td>\r\n                <td>-</td>\r\n                <td>-</td>\r\n                <td>-</td>\r\n                <td style={{ color: \"red\" }}>-</td>\r\n                <td>-</td>\r\n              </tr>\r\n            );\r\n          }\r\n        );\r\n\r\n        return (\r\n          <Row>\r\n            <Col cs=\"12\" md={{ size: 12, offset: 0 }} className=\"text-center\">\r\n              <h1>Job breakdown by Vessels</h1>\r\n            </Col>\r\n            <Col cs=\"12\" md={{ size: 12, offset: 0 }}>\r\n              <Table striped hover bordered responsive>\r\n                <thead>\r\n                  <tr>\r\n                    <th>Month</th>\r\n                    <th>Vessels Name</th>\r\n                    <th>Vessels IMO</th>\r\n                    <th>Vessels Callsign</th>\r\n                    <th>Ongoing Jobs</th>\r\n                    <th>Completed Jobs</th>\r\n                    <th>Cancelled Jobs</th>\r\n                    <th>Total Jobs</th>\r\n                  </tr>\r\n                </thead>\r\n                <tbody>{jobVesselCategories}</tbody>\r\n              </Table>\r\n            </Col>\r\n          </Row>\r\n        );\r\n    }\r\n  }\r\n}\r\nexport default BreakdownByVessels;\r\n","import React, { Component } from \"react\";\r\nimport { Row, Table, Col } from \"reactstrap\";\r\n\r\nclass BreakdownByCompanies extends Component {\r\n  render() {\r\n    const { jobCompaniesCategory, Company } = this.props;\r\n    switch (jobCompaniesCategory && Company) {\r\n      case null:\r\n        return <div></div>;\r\n      default:\r\n        const cancelledjobstotal = [];\r\n        const openjobstotal = [];\r\n        const completedjobstotal = [];\r\n        const jobCompanieCategories = Object.keys(Company).map(\r\n          (uniq, index) => {\r\n            const cancelledJobs = [];\r\n            const openJobs = [];\r\n            const completedJobs = [];\r\n            const jobData = Object.keys(jobCompaniesCategory).map(\r\n              (key, index) => {\r\n                const jobs = jobCompaniesCategory[key];\r\n                if (uniq === key) {\r\n                  for (let i = 0; i < jobs.length; i++) {\r\n                    let job = jobs[i];\r\n\r\n                    if (job.isCancelled === \"Confirmed\") {\r\n                      cancelledJobs.push(job);\r\n                      cancelledjobstotal.push(job);\r\n                    } else {\r\n                      if (job.jobTrackers.length === 6) {\r\n                        completedJobs.push(job);\r\n                        completedjobstotal.push(job);\r\n                      } else {\r\n                        openJobs.push(job);\r\n                        openjobstotal.push(job);\r\n                      }\r\n                    }\r\n                  }\r\n                }\r\n              }\r\n            );\r\n            return (\r\n              <tr key={index}>\r\n                <td>{uniq}</td>\r\n                <td>{openJobs.length}</td>\r\n                <td>{completedJobs.length}</td>\r\n                <td style={{ color: \"red\" }}>{cancelledJobs.length}</td>\r\n                <td>\r\n                  {openJobs.length +\r\n                    completedJobs.length +\r\n                    cancelledJobs.length}\r\n                </td>\r\n              </tr>\r\n            );\r\n          }\r\n        );\r\n\r\n        return (\r\n          <Row>\r\n            <Col cs=\"12\" md={{ size: 12, offset: 0 }} className=\"text-center\">\r\n              <h1>Job breakdown by Companies</h1>\r\n            </Col>\r\n            <Col cs=\"12\" md={{ size: 12, offset: 0 }}>\r\n              <Table striped hover bordered responsive>\r\n                <thead>\r\n                  <tr>\r\n                    <th>Companies</th>\r\n                    <th>Ongoing Jobs</th>\r\n                    <th>Completed Jobs</th>\r\n                    <th style={{ color: \"red\" }}>Cancelled Jobs</th>\r\n                    <th>Total Jobs</th>\r\n                  </tr>\r\n                </thead>\r\n                <tbody>{jobCompanieCategories}</tbody>\r\n                <br />\r\n                <tfoot>\r\n                  <tr>\r\n                    <th>Total</th>\r\n                    <th>{openjobstotal.length} Jobs</th>\r\n                    <th>{completedjobstotal.length} Jobs</th>\r\n                    <th style={{ color: \"red\" }}>\r\n                      {cancelledjobstotal.length} Jobs\r\n                    </th>\r\n                    <th>\r\n                      {openjobstotal.length +\r\n                        completedjobstotal.length +\r\n                        cancelledjobstotal.length}{\" \"}\r\n                      Jobs\r\n                    </th>\r\n                  </tr>\r\n                </tfoot>\r\n              </Table>\r\n            </Col>\r\n          </Row>\r\n        );\r\n    }\r\n  }\r\n}\r\nexport default BreakdownByCompanies;\r\n","import React, { Component } from \"react\";\r\nimport axios from \"axios\";\r\nimport BreakdownByMonth from \"./BreakdownBy/BreakdownByMonth\";\r\nimport BreakdownByDeliveryLocations from \"./BreakdownBy/BreakdownByDeliveryLocations\";\r\nimport BreakdownByVessels from \"./BreakdownBy/BreakdownByVessels\";\r\nimport BreakdownByCompanies from \"./BreakdownBy/BreakdownByCompanies\";\r\nclass JobAnalytics extends Component {\r\n  state = {\r\n    userCompany: null,\r\n    jobMonthCategories: null,\r\n    jobDeliveryCategories: null,\r\n    jobCompaniesCategories: null\r\n  };\r\n\r\n  componentDidMount() {\r\n    // Get all jobs\r\n    axios\r\n      .get(\r\n        `/api/jobs?user_only=false&numLimit=false&archive_only=false&non_archive_only=false`\r\n      )\r\n      .then(res => {\r\n        let jobs = res.data;\r\n        let jobMonthCategories = {};\r\n        let jobDeliveryCategories = {};\r\n        let jobCompaniesCategories = {};\r\n        for (let i = 0; i < jobs.length; i++) {\r\n          const job = jobs[i];\r\n          const monthOfJob = `${new Date(job.jobBookingDateTime).getMonth() +\r\n            1}/${new Date(job.jobBookingDateTime).getFullYear()}`;\r\n          const LocationsOfJob = job.vesselLoadingLocation;\r\n          const CompaniesOfJob = job.user.userCompany.name;\r\n\r\n          let jobListMonth = jobMonthCategories[monthOfJob];\r\n          if (!jobListMonth) {\r\n            jobListMonth = [];\r\n            jobMonthCategories[monthOfJob] = jobListMonth;\r\n          }\r\n          let jobListLocation = jobDeliveryCategories[LocationsOfJob];\r\n          if (!jobListLocation) {\r\n            jobListLocation = [];\r\n            jobDeliveryCategories[LocationsOfJob] = jobListLocation;\r\n          }\r\n          let jobListCompanies = jobCompaniesCategories[CompaniesOfJob];\r\n          if (!jobListCompanies) {\r\n            jobListCompanies = [];\r\n            jobCompaniesCategories[CompaniesOfJob] = jobListCompanies;\r\n          }\r\n          jobListMonth.push(job);\r\n          jobListLocation.push(job);\r\n          jobListCompanies.push(job);\r\n        }\r\n        this.setState({\r\n          jobMonthCategories: jobMonthCategories,\r\n          jobDeliveryCategories: jobDeliveryCategories,\r\n          jobCompaniesCategories: jobCompaniesCategories\r\n        });\r\n      })\r\n      .catch(err => {\r\n        console.log(err);\r\n      });\r\n    axios.get(\"/api/company/usercompany\").then(res => {\r\n      let Company = res.data;\r\n      let CompanyCategories = {};\r\n      for (let i = 0; i < Company.length; i++) {\r\n        const cmp = Company[i];\r\n        const Companies = cmp.name;\r\n        let ListCompany = CompanyCategories[Companies];\r\n        if (!ListCompany) {\r\n          ListCompany = [];\r\n          CompanyCategories[Companies] = ListCompany;\r\n        }\r\n      }\r\n\r\n      this.setState({\r\n        userCompany: CompanyCategories\r\n      });\r\n    });\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div>\r\n        <BreakdownByMonth jobMonthCategory={this.state.jobMonthCategories} />\r\n        <BreakdownByDeliveryLocations\r\n          jobDeliveryCategory={this.state.jobDeliveryCategories}\r\n        />\r\n        <BreakdownByVessels jobMonthCategory={this.state.jobMonthCategories} />\r\n        <BreakdownByCompanies\r\n          jobCompaniesCategory={this.state.jobCompaniesCategories}\r\n          Company={this.state.userCompany}\r\n        />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default JobAnalytics;\r\n","import React, {Component} from 'react';\r\nimport {Container} from \"reactstrap\";\r\n\r\nimport JobAnalytics from \"./Job/JobAnalytics\";\r\n\r\nclass Analytics extends Component {\r\n    render() {\r\n        return(\r\n            <Container fluid>\r\n                <br/>\r\n                <JobAnalytics/>\r\n            </Container>\r\n        );\r\n    }\r\n}\r\n\r\nexport default Analytics;"],"sourceRoot":""}