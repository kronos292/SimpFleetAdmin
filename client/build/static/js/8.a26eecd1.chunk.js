(window.webpackJsonpclient=window.webpackJsonpclient||[]).push([[8],{1299:function(e,t,a){"use strict";a.r(t);var n=a(12),o=a(10),i=a(15),s=a(16),r=a(17),l=a(0),c=a.n(l),g=a(7),D=a(19),u=a.n(D),m=a(1275),b=a.n(m),j=a(1276),p=a.n(j),h=a(1277),v=a.n(h),k=a(1278),w=a.n(k),y=a(1279),B=a.n(y),T=a(1286),C=a.n(T),f=function(e){function t(){var e,a;Object(n.a)(this,t);for(var o=arguments.length,r=new Array(o),l=0;l<o;l++)r[l]=arguments[l];return(a=Object(i.a)(this,(e=Object(s.a)(t)).call.apply(e,[this].concat(r)))).state={userCompany:null,vessel:null,jobMonthCategories:null,jobDeliveryCategories:null,jobCompaniesCategories:null,AnalysData:null,jobVesselsCategories:null,jobWeeks:null},a}return Object(r.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=this;u.a.get("/api/company/usercompany").then(function(t){for(var a=t.data,n={},o=0;o<a.length;o++){var i=a[o],s=i._id,r=n[s];r||(r=[],n[s]=r),r.push(i)}e.setState({userCompany:n})}),u.a.get("/api/vessels").then(function(t){e.setState({vessel:t.data})}),u.a.get("/api/jobs?user_only=false&numLimit=false&archive_only=false&non_archive_only=false&page=false&limit=false").then(function(t){for(var a=t.data,n={},o={},i={},s={},r={},l={},c=0;c<a.length;c++){var g=a[c],D="".concat(new Date(g.jobBookingDateTime).getMonth()+1,"/").concat(new Date(g.jobBookingDateTime).getFullYear()),u="";if(new Date(g.jobBookingDateTime).getFullYear()%4===0)if(1!==new Date(g.jobBookingDateTime).getDay()){var m=0,b=(m=0===new Date(g.jobBookingDateTime).getDay()?parseInt(new Date(g.jobBookingDateTime).getDate())+1:parseInt(new Date(g.jobBookingDateTime).getDate())-parseInt(new Date(g.jobBookingDateTime).getDay()-1))+6,j=parseInt(new Date(g.jobBookingDateTime).getMonth()+1),p=parseInt(new Date(g.jobBookingDateTime).getMonth()+1),h=parseInt(new Date(g.jobBookingDateTime).getFullYear()),v=parseInt(new Date(g.jobBookingDateTime).getFullYear());m<1&&(1===j?(m+=31,j=12,h-=1):2===j?(m+=31,j=1):3===j?(m+=29,j=2):4===j?(m+=31,j=3):5===j?(m+=30,j=4):6===j?(m+=31,j=5):7===j?(m+=30,j=6):8===j?(m+=31,j=7):9===j?(m+=31,j=8):10===j?(m+=30,j=9):11===j?(m+=31,j=10):12===j&&(m+=30,j=11)),2===j&&b>28?(b-=29,p=3):b>31&&(1===j?(b-=31,p=2):3===j?(b-=31,p=4):4===j?(b-=30,p=5):5===j?(b-=31,p=6):6===j?(b-=30,p=7):7===j?(b-=31,p=8):8===j?(b-=31,p=9):9===j?(b-=30,p=10):10===j?(b-=31,p=11):11===j?(b-=30,p=12):12===j&&(b-=31,p=1,v+=1)),u="".concat(m,"/").concat(j,"/").concat(h," - ").concat(b,"/").concat(p,"/").concat(v)}else{var k=parseInt(new Date(g.jobBookingDateTime).getDate()),w=k+6,y=parseInt(new Date(g.jobBookingDateTime).getMonth()+1),B=parseInt(new Date(g.jobBookingDateTime).getMonth()+1),T=parseInt(new Date(g.jobBookingDateTime).getFullYear()),C=parseInt(new Date(g.jobBookingDateTime).getFullYear());2===y&&w>28?(w-=29,B=3):w>31&&(1===y?(w-=31,B=2):3===y?(w-=31,B=4):4===y?(w-=30,B=5):5===y?(w-=31,B=6):6===y?(w-=30,B=7):7===y?(w-=31,B=8):8===y?(w-=31,B=9):9===y?(w-=30,B=10):10===y?(w-=31,B=11):11===y?(w-=30,B=12):12===y&&(w-=31,B=1,C+=1)),u="".concat(k,"/").concat(y,"/").concat(T," - ").concat(w,"/").concat(B,"/").concat(C)}else if(1!==new Date(g.jobBookingDateTime).getDay()){var f=0,d=(f=0===new Date(g.jobBookingDateTime).getDay()?parseInt(new Date(g.jobBookingDateTime).getDate())+1:parseInt(new Date(g.jobBookingDateTime).getDate())-parseInt(new Date(g.jobBookingDateTime).getDay()-1))+6,I=parseInt(new Date(g.jobBookingDateTime).getMonth()+1),M=parseInt(new Date(g.jobBookingDateTime).getMonth()+1),L=parseInt(new Date(g.jobBookingDateTime).getFullYear()),F=parseInt(new Date(g.jobBookingDateTime).getFullYear());f<1&&(1===I?(f+=31,I=12,L-=1):2===I?(f+=31,I=1):3===I?(f+=28,I=2):4===I?(f+=31,I=3):5===I?(f+=30,I=4):6===I?(f+=31,I=5):7===I?(f+=30,I=6):8===I?(f+=31,I=7):9===I?(f+=31,I=8):10===I?(f+=30,I=9):11===I?(f+=31,I=10):12===I&&(f+=30,I=11)),2===I&&d>28?(d-=28,M=3):d>31&&(1===I?(d-=31,M=2):3===I?(d-=31,M=4):4===I?(d-=30,M=5):5===I?(d-=31,M=6):6===I?(d-=30,M=7):7===I?(d-=31,M=8):8===I?(d-=31,M=9):9===I?(d-=30,M=10):10===I?(d-=31,M=11):11===I?(d-=30,M=12):12===I&&(d-=31,M=1,F+=1)),u="".concat(f,"/").concat(I,"/").concat(L," - ").concat(d,"/").concat(M,"/").concat(F)}else{var Y=parseInt(new Date(g.jobBookingDateTime).getDate()),E=Y+6,O=parseInt(new Date(g.jobBookingDateTime).getMonth()+1),_=parseInt(new Date(g.jobBookingDateTime).getMonth()+1),A=parseInt(new Date(g.jobBookingDateTime).getFullYear()),S=parseInt(new Date(g.jobBookingDateTime).getFullYear());2===O&&E>28?(E-=29,_=3):E>31&&(1===O?(E-=31,_=2):3===O?(E-=31,_=4):4===O?(E-=30,_=5):5===O?(E-=31,_=6):6===O?(E-=30,_=7):7===O?(E-=31,_=8):8===O?(E-=31,_=9):9===O?(E-=30,_=10):10===O?(E-=31,_=11):11===O?(E-=30,_=12):12===O&&(E-=31,_=1,S+=1)),u="".concat(Y,"/").concat(O,"/").concat(A," - ").concat(E,"/").concat(_,"/").concat(S)}var V=l[u];V||(V=[],l[u]=V);var W=n[D];if(W||(W=[],n[D]=W),void 0!==g.vesselLoadingLocation&&null!==g.vesselLoadingLocation&&void 0!==g.vesselLoadingLocation.name&&null!==g.vesselLoadingLocation.name){var J=o[g.vesselLoadingLocation.name];J||(J=[],o[g.vesselLoadingLocation.name]=J),J.push(g)}if(null!==g.user.userCompany){var N=i[g.user.userCompany];N||(N=[],i[g.user.userCompany]=N),N.push(g)}if(null!==g.vessel&&null!==g.vessel.vesselName){var U=s[g.vessel._id];U||(U=[],s[g.vessel._id]=U),U.push(g)}V.push(g),W.push(g)}a.sort(function(e,t){return new Date(e.jobBookingDateTime.toString())-new Date(t.jobBookingDateTime.toString())});for(var q=0;q<a.length;q++){var x=a[q],z="".concat(new Date(x.jobBookingDateTime).getMonth()+1,"/").concat(new Date(x.jobBookingDateTime).getFullYear()),G=r[z];G||(G=[],r[z]=G),G.push(x)}e.setState({jobMonthCategories:n,jobDeliveryCategories:o,jobCompaniesCategories:i,AnalysData:r,jobVesselsCategories:s,jobWeeks:l})}).catch(function(e){console.log(e)})}},{key:"componentDidUpdate",value:function(e,t,a){console.log(this.state)}},{key:"render",value:function(){return c.a.createElement("div",null,c.a.createElement(B.a,{jobMonthAnalys:this.state.AnalysData,jobDeliveryCategory:this.state.jobDeliveryCategories}),c.a.createElement(C.a,{WeeksData:this.state.jobWeeks,Company:this.state.userCompany}),c.a.createElement(b.a,{jobMonthCategory:this.state.jobMonthCategories}),c.a.createElement(p.a,{jobDeliveryCategory:this.state.jobDeliveryCategories}),c.a.createElement(v.a,{jobVesselsCategory:this.state.jobVesselsCategories,Vessel:this.state.vessel}),c.a.createElement(w.a,{jobCompaniesCategory:this.state.jobCompaniesCategories,Company:this.state.userCompany}))}}]),t}(l.Component),d=function(e){function t(){return Object(n.a)(this,t),Object(i.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(r.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return c.a.createElement(g.Container,{fluid:!0},c.a.createElement("br",null),c.a.createElement(f,null))}}]),t}(l.Component);t.default=d}}]);
//# sourceMappingURL=8.a26eecd1.chunk.js.map