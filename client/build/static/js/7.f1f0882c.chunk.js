(window.webpackJsonpclient=window.webpackJsonpclient||[]).push([[7],{1287:function(e,t,l){"use strict";l.r(t);var n=l(13),a=l(10),r=l(15),o=l(16),c=l(17),s=l(0),u=l.n(s),m=l(7),h=l(25),i=l.n(h),E=function(e){function t(){return Object(n.a)(this,t),Object(r.a)(this,Object(o.a)(t).apply(this,arguments))}return Object(c.a)(t,e),Object(a.a)(t,[{key:"render",value:function(){var e=this.props.jobMonthCategory;switch(e){case null:return u.a.createElement("div",null);default:var t=Object.keys(e).map(function(t,l){for(var n=e[t],a=0,r=0,o=0,c=0,s=[],m=[],h=[],i=0;i<n.length;i++){var E=n[i];if("Confirmed"===E.isCancelled)s.push(E);else{6===E.jobTrackers.length?h.push(E):m.push(E);var d=E.jobItems,b=E.jobOfflandItems;if(d&&d.length>0){o++;for(var f=0;f<d.length;f++){a+=d[f].quantity}}if(b&&b.length>0){c++;for(var g=0;g<b.length;g++){r+=b[g].quantity}}}}return u.a.createElement("tr",{key:l},u.a.createElement("td",null,t),u.a.createElement("td",null,n.length),u.a.createElement("td",{style:{color:"red"}},s.length),u.a.createElement("td",null,m.length),u.a.createElement("td",null,h.length),u.a.createElement("td",null,a),u.a.createElement("td",null,0===a?"0":(a/o).toFixed(2)),u.a.createElement("td",null,r),u.a.createElement("td",null,0===r?"0":(r/c).toFixed(2)))});return u.a.createElement(m.r,null,u.a.createElement(m.b,{cs:"12",md:{size:12,offset:0},className:"text-center"},u.a.createElement("h1",null,"Job breakdown by month")),u.a.createElement(m.b,{cs:"12",md:{size:12,offset:0}},u.a.createElement(m.s,{striped:!0,hover:!0,bordered:!0,responsive:!0},u.a.createElement("thead",null,u.a.createElement("tr",null,u.a.createElement("th",null,"Month"),u.a.createElement("th",null,"Total jobs"),u.a.createElement("th",{style:{color:"red"}},"Cancelled jobs"),u.a.createElement("th",null,"Ongoing jobs"),u.a.createElement("th",null,"Completed jobs"),u.a.createElement("th",null,"No. of Pallets (Delivery)"),u.a.createElement("th",null,"Avg No. of Pallets per Delivery"),u.a.createElement("th",null,"No. of Pallets (Offland)"),u.a.createElement("th",null,"Avg No. of Pallets per Offland"))),u.a.createElement("tbody",null,t))))}}}]),t}(s.Component),d=function(e){function t(){return Object(n.a)(this,t),Object(r.a)(this,Object(o.a)(t).apply(this,arguments))}return Object(c.a)(t,e),Object(a.a)(t,[{key:"render",value:function(){var e=this.props.jobDeliveryCategory;switch(e){case null:return u.a.createElement("div",null);default:var t=0,l=0,n=0,a=0,r=[],o=[],c=[],s=[],h=[],i=[],E=Object.keys(e).map(function(m,E){var d=e[m],b=0,f=0,g=[],p=[],v=[];if("PSA"===m||"Jurong Port"===m){for(var y=0;y<d.length;y++){var j=d[y];if("Confirmed"===j.isCancelled)g.push(j),r.push(j);else{6===j.jobTrackers.length?(v.push(j),c.push(j)):(p.push(j),o.push(j));var C=j.jobItems,O=j.jobOfflandItems;if(C&&C.length>0)for(var k=0;k<C.length;k++){var J=C[k];b+=J.quantity,n+=J.quantity}if(O&&O.length>0)for(var w=0;w<O.length;w++){var D=O[w];f+=D.quantity,a+=D.quantity}}}return u.a.createElement("tr",{key:E},u.a.createElement("td",null,m),u.a.createElement("td",null,b),u.a.createElement("td",null,f),u.a.createElement("td",null,p.length),u.a.createElement("td",null,v.length),u.a.createElement("td",{style:{color:"red"}},g.length),u.a.createElement("td",null,d.length))}if("PSA"!==m||"Jurong Port"!==m)for(var M=0;M<d.length;M++){var P=d[M];if("Confirmed"===P.isCancelled)s.push(P);else{6===P.jobTrackers.length?i.push(P):h.push(P);var T=P.jobItems,N=P.jobOfflandItems;if(T&&T.length>0)for(var q=0;q<T.length;q++){var z=T[q];t+=z.quantity}if(N&&N.length>0)for(var I=0;I<N.length;I++){var x=N[I];l+=x.quantity}}}});return u.a.createElement(m.r,null,u.a.createElement(m.b,{cs:"12",md:{size:12,offset:0},className:"text-center"},u.a.createElement("h1",null,"Job breakdown by Delivery Locations")),u.a.createElement(m.b,{cs:"12",md:{size:12,offset:0}},u.a.createElement(m.s,{striped:!0,hover:!0,bordered:!0,responsive:!0},u.a.createElement("thead",null,u.a.createElement("tr",null,u.a.createElement("th",null,"Delivery Location"),u.a.createElement("th",null,"No. of Pallets (Delivery)"),u.a.createElement("th",null,"No. of Pallets (Offland)"),u.a.createElement("th",null,"Ongoing Jobs"),u.a.createElement("th",null,"Completed Jobs"),u.a.createElement("th",{style:{color:"red"}},"Cancelled Jobs"),u.a.createElement("th",null,"Total Jobs"))),u.a.createElement("tbody",null,E,u.a.createElement("tr",null,u.a.createElement("td",null,"Others"),u.a.createElement("td",null,t),u.a.createElement("td",null,l),u.a.createElement("td",null,h.length),u.a.createElement("td",null,i.length),u.a.createElement("td",{style:{color:"red"}},s.length),u.a.createElement("td",null,h.length+i.length+s.length))),u.a.createElement("br",null),u.a.createElement("tfoot",null,u.a.createElement("tr",null,u.a.createElement("th",null,"Total"),u.a.createElement("th",null,t+n," Pallets"),u.a.createElement("th",null,l+a," Pallets"),u.a.createElement("th",null,h.length+o.length," Jobs"),u.a.createElement("th",null,i.length+c.length," ","Jobs"),u.a.createElement("th",{style:{color:"red"}},s.length+r.length," ","jobs"),u.a.createElement("th",null,h.length+i.length+s.length+(o.length+c.length+r.length)," ","Jobs"))))))}}}]),t}(s.Component),b=function(e){function t(){return Object(n.a)(this,t),Object(r.a)(this,Object(o.a)(t).apply(this,arguments))}return Object(c.a)(t,e),Object(a.a)(t,[{key:"render",value:function(){var e=this.props.jobMonthCategory;switch(e){case null:return u.a.createElement("div",null);default:var t=Object.keys(e).map(function(t,l){for(var n=e[t],a=0;a<n.length;a++)n[a];return u.a.createElement("tr",{key:l},u.a.createElement("td",null,t),u.a.createElement("td",null,"-"),u.a.createElement("td",null,"-"),u.a.createElement("td",null,"-"),u.a.createElement("td",null,"-"),u.a.createElement("td",null,"-"),u.a.createElement("td",{style:{color:"red"}},"-"),u.a.createElement("td",null,"-"))});return u.a.createElement(m.r,null,u.a.createElement(m.b,{cs:"12",md:{size:12,offset:0},className:"text-center"},u.a.createElement("h1",null,"Job breakdown by Vessels")),u.a.createElement(m.b,{cs:"12",md:{size:12,offset:0}},u.a.createElement(m.s,{striped:!0,hover:!0,bordered:!0,responsive:!0},u.a.createElement("thead",null,u.a.createElement("tr",null,u.a.createElement("th",null,"Month"),u.a.createElement("th",null,"Vessels Name"),u.a.createElement("th",null,"Vessels IMO"),u.a.createElement("th",null,"Vessels Callsign"),u.a.createElement("th",null,"Ongoing Jobs"),u.a.createElement("th",null,"Completed Jobs"),u.a.createElement("th",null,"Cancelled Jobs"),u.a.createElement("th",null,"Total Jobs"))),u.a.createElement("tbody",null,t))))}}}]),t}(s.Component),f=function(e){function t(){return Object(n.a)(this,t),Object(r.a)(this,Object(o.a)(t).apply(this,arguments))}return Object(c.a)(t,e),Object(a.a)(t,[{key:"render",value:function(){var e=this.props,t=e.jobCompaniesCategory,l=e.Company;switch(t&&l){case null:return u.a.createElement("div",null);default:var n=[],a=[],r=[],o=Object.keys(l).map(function(e,l){var o=[],c=[],s=[];Object.keys(t).map(function(l,u){var m=t[l];if(e===l)for(var h=0;h<m.length;h++){var i=m[h];"Confirmed"===i.isCancelled?(o.push(i),n.push(i)):6===i.jobTrackers.length?(s.push(i),r.push(i)):(c.push(i),a.push(i))}});return u.a.createElement("tr",{key:l},u.a.createElement("td",null,e),u.a.createElement("td",null,c.length),u.a.createElement("td",null,s.length),u.a.createElement("td",{style:{color:"red"}},o.length),u.a.createElement("td",null,c.length+s.length+o.length))});return u.a.createElement(m.r,null,u.a.createElement(m.b,{cs:"12",md:{size:12,offset:0},className:"text-center"},u.a.createElement("h1",null,"Job breakdown by Companies")),u.a.createElement(m.b,{cs:"12",md:{size:12,offset:0}},u.a.createElement(m.s,{striped:!0,hover:!0,bordered:!0,responsive:!0},u.a.createElement("thead",null,u.a.createElement("tr",null,u.a.createElement("th",null,"Companies"),u.a.createElement("th",null,"Ongoing Jobs"),u.a.createElement("th",null,"Completed Jobs"),u.a.createElement("th",{style:{color:"red"}},"Cancelled Jobs"),u.a.createElement("th",null,"Total Jobs"))),u.a.createElement("tbody",null,o),u.a.createElement("br",null),u.a.createElement("tfoot",null,u.a.createElement("tr",null,u.a.createElement("th",null,"Total"),u.a.createElement("th",null,a.length," Jobs"),u.a.createElement("th",null,r.length," Jobs"),u.a.createElement("th",{style:{color:"red"}},n.length," Jobs"),u.a.createElement("th",null,a.length+r.length+n.length," ","Jobs"))))))}}}]),t}(s.Component),g=function(e){function t(){var e,l;Object(n.a)(this,t);for(var a=arguments.length,c=new Array(a),s=0;s<a;s++)c[s]=arguments[s];return(l=Object(r.a)(this,(e=Object(o.a)(t)).call.apply(e,[this].concat(c)))).state={userCompany:null,jobMonthCategories:null,jobDeliveryCategories:null,jobCompaniesCategories:null},l}return Object(c.a)(t,e),Object(a.a)(t,[{key:"componentDidMount",value:function(){var e=this;i.a.get("/api/jobs?user_only=false&numLimit=false&archive_only=false&non_archive_only=false").then(function(t){for(var l=t.data,n={},a={},r={},o=0;o<l.length;o++){var c=l[o],s="".concat(new Date(c.jobBookingDateTime).getMonth()+1,"/").concat(new Date(c.jobBookingDateTime).getFullYear()),u=c.vesselLoadingLocation,m=c.user.userCompany.name,h=n[s];h||(h=[],n[s]=h);var i=a[u];i||(i=[],a[u]=i);var E=r[m];E||(E=[],r[m]=E),h.push(c),i.push(c),E.push(c)}e.setState({jobMonthCategories:n,jobDeliveryCategories:a,jobCompaniesCategories:r})}).catch(function(e){console.log(e)}),i.a.get("/api/company/usercompany").then(function(t){for(var l=t.data,n={},a=0;a<l.length;a++){var r=l[a].name,o=n[r];o||(o=[],n[r]=o)}e.setState({userCompany:n})})}},{key:"render",value:function(){return u.a.createElement("div",null,u.a.createElement(E,{jobMonthCategory:this.state.jobMonthCategories}),u.a.createElement(d,{jobDeliveryCategory:this.state.jobDeliveryCategories}),u.a.createElement(b,{jobMonthCategory:this.state.jobMonthCategories}),u.a.createElement(f,{jobCompaniesCategory:this.state.jobCompaniesCategories,Company:this.state.userCompany}))}}]),t}(s.Component),p=function(e){function t(){return Object(n.a)(this,t),Object(r.a)(this,Object(o.a)(t).apply(this,arguments))}return Object(c.a)(t,e),Object(a.a)(t,[{key:"render",value:function(){return u.a.createElement(m.d,{fluid:!0},u.a.createElement("br",null),u.a.createElement(g,null))}}]),t}(s.Component);t.default=p}}]);
//# sourceMappingURL=7.f1f0882c.chunk.js.map