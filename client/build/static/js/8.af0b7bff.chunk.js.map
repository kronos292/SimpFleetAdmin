{"version":3,"sources":["components/Analytics/Job/BreakdownBy/BreakdownByMonth.js","components/Analytics/Job/BreakdownBy/BreakdownByDeliveryLocations.js","components/Analytics/Job/BreakdownBy/BreakdownByVessels.js","components/Analytics/Job/BreakdownBy/BreakdownByCompanies.js","components/Analytics/Job/Charts/Charts.js","components/Analytics/Job/Tables/WeeksTable.js","components/Analytics/Job/JobAnalytics.js","components/Analytics/Analytics.js"],"names":["BreakdownByMonth","jobMonthCategory","this","props","jobMonthCategories","Object","keys","map","key","index","jobs","itemCount","offlandItemCount","itemTimes","offlandItemTimes","cancelledJobs","openJobs","completedJobs","i","length","job","isCancelled","push","jobTrackers","jobItems","jobOfflandItems","j","quantity","style","color","toFixed","cs","md","size","offset","className","striped","hover","bordered","responsive","backgroundColor","Component","BreakdownByDeliveryLocations","jobDeliveryCategory","itemCountOthers","offlandItemCountOthers","itemall","itemofflandall","cancelledJobstotal","openJobstotal","completedJobstotal","cancelledJobsOthers","openJobsOthers","completedJobsOthers","jobDeliveryLocationsCategories","jobItem","jobOfflandItem","BreakdownByVessels","jobVesselsCategory","Vessel","jobSort","o","vessel","_id","sortJob","id","vesselName","vesselIMO","vesselIMOID","vesselCallsign","ongoing","completed","cancelled","total","sort","a","b","fillData","parseInt","BreakdownByCompanies","jobCompaniesCategory","Company","cancelledjobstotal","openjobstotal","completedjobstotal","uniq","company","Charts","jobMonthAnalys","monthOfmap","psajob","jpjob","shipyardjob","Others","psaItems","jpItems","shipyardItems","OthersItems","chartDataOfmonth","psaitems","jpitems","shipyarditems","othersitems","jobPSA","jobjp","jobshipyard","jobOthers","Date","jobBookingDateTime","getMonth","getFullYear","charAt","String","labels","datasets","label","stack","data","chartDataOfItems","marginBottom","textDecoration","options","legend","display","position","scales","yAxes","ticks","callback","value","values","beginAtZero","WeeksTable","rowSpan","scope","colSpan","JobAnalytics","state","userCompany","jobDeliveryCategories","jobCompaniesCategories","AnalysData","jobVesselsCategories","axios","get","then","res","CompanyCategories","Companies","name","ListCompany","setState","jobAnalys","monthOfJob","jobListMonth","jobListLocation","vesselLoadingLocation","user","jobListCompanies","jobListVessels","toString","month","catch","err","console","log","prevProps","prevState","snapshot","dataTable","Analytics","fluid"],"mappings":"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","file":"static/js/8.af0b7bff.chunk.js","sourcesContent":["import React, { Component } from \"react\";\r\nimport { Row, Table, Col } from \"reactstrap\";\r\nimport Chart from \"chart.js\";\r\n\r\nclass BreakdownByMonth extends Component {\r\n  render() {\r\n    const { jobMonthCategory } = this.props;\r\n    switch (jobMonthCategory) {\r\n      case null:\r\n        return <div></div>;\r\n      default:\r\n        const jobMonthCategories = Object.keys(jobMonthCategory).map(\r\n          (key, index) => {\r\n            const jobs = jobMonthCategory[key];\r\n            let itemCount = 0;\r\n            let offlandItemCount = 0;\r\n            let itemTimes = 0;\r\n            let offlandItemTimes = 0;\r\n            const cancelledJobs = [];\r\n            const openJobs = [];\r\n            const completedJobs = [];\r\n            for (let i = 0; i < jobs.length; i++) {\r\n              const job = jobs[i];\r\n\r\n              if (job.isCancelled === \"Confirmed\") {\r\n                cancelledJobs.push(job);\r\n              } else {\r\n                if (job.jobTrackers.length === 6) {\r\n                  completedJobs.push(job);\r\n                } else {\r\n                  openJobs.push(job);\r\n                }\r\n\r\n                const { jobItems, jobOfflandItems } = job;\r\n                if (jobItems && jobItems.length > 0) {\r\n                  itemTimes++;\r\n                  for (let j = 0; j < jobItems.length; j++) {\r\n                    const jobItem = jobItems[j];\r\n                    itemCount += jobItem.quantity;\r\n                  }\r\n                }\r\n                if (jobOfflandItems && jobOfflandItems.length > 0) {\r\n                  offlandItemTimes++;\r\n                  for (let j = 0; j < jobOfflandItems.length; j++) {\r\n                    const jobOfflandItem = jobOfflandItems[j];\r\n                    offlandItemCount += jobOfflandItem.quantity;\r\n                  }\r\n                }\r\n              }\r\n            }\r\n\r\n            return (\r\n              <tr key={index}>\r\n                <td>{key}</td>\r\n                <td>{jobs.length}</td>\r\n                <td style={{ color: \"red\" }}>{cancelledJobs.length}</td>\r\n                <td>{openJobs.length}</td>\r\n                <td>{completedJobs.length}</td>\r\n                <td>{itemCount}</td>\r\n                <td>\r\n                  {itemCount === 0 ? \"0\" : (itemCount / itemTimes).toFixed(2)}\r\n                </td>\r\n                <td>{offlandItemCount}</td>\r\n                <td>\r\n                  {offlandItemCount === 0\r\n                    ? \"0\"\r\n                    : (offlandItemCount / offlandItemTimes).toFixed(2)}\r\n                </td>\r\n              </tr>\r\n            );\r\n          }\r\n        );\r\n\r\n        return (\r\n          <Row>\r\n            <Col cs=\"12\" md={{ size: 12, offset: 0 }} className=\"text-center\">\r\n              <h1>Job breakdown by month</h1>\r\n            </Col>\r\n            <Col cs=\"12\" md={{ size: 12, offset: 0 }}>\r\n              <Table striped hover bordered responsive>\r\n                <thead>\r\n                  <tr style={{ backgroundColor: \"#49AE4B\", color: \"white\" }}>\r\n                    <th>Month</th>\r\n                    <th>Total jobs</th>\r\n                    <th style={{ color: \"red\" }}>Cancelled jobs</th>\r\n                    <th>Ongoing jobs</th>\r\n                    <th>Completed jobs</th>\r\n                    <th>No. of Pallets (Delivery)</th>\r\n                    <th>Avg No. of Pallets per Delivery</th>\r\n                    <th>No. of Pallets (Offland)</th>\r\n                    <th>Avg No. of Pallets per Offland</th>\r\n                  </tr>\r\n                </thead>\r\n                <tbody>{jobMonthCategories}</tbody>\r\n              </Table>\r\n            </Col>\r\n          </Row>\r\n        );\r\n    }\r\n  }\r\n}\r\nexport default BreakdownByMonth;\r\n","import React, { Component } from \"react\";\r\nimport { Row, Table, Col } from \"reactstrap\";\r\n\r\nclass BreakdownByDeliveryLocations extends Component {\r\n  render() {\r\n    const { jobDeliveryCategory } = this.props;\r\n    switch (jobDeliveryCategory) {\r\n      case null:\r\n        return <div></div>;\r\n      default:\r\n        let itemCountOthers = 0;\r\n        let offlandItemCountOthers = 0;\r\n        let itemall = 0;\r\n        let itemofflandall = 0;\r\n        const cancelledJobstotal = [];\r\n        const openJobstotal = [];\r\n        const completedJobstotal = [];\r\n        const cancelledJobsOthers = [];\r\n        const openJobsOthers = [];\r\n        const completedJobsOthers = [];\r\n        const jobDeliveryLocationsCategories = Object.keys(\r\n          jobDeliveryCategory\r\n        ).map((key, index) => {\r\n          const jobs = jobDeliveryCategory[key];\r\n          let itemCount = 0;\r\n          let offlandItemCount = 0;\r\n          const cancelledJobs = [];\r\n          const openJobs = [];\r\n          const completedJobs = [];\r\n\r\n          if (key === \"PSA\" || key === \"Jurong Port\") {\r\n            for (let i = 0; i < jobs.length; i++) {\r\n              let job = jobs[i];\r\n\r\n              if (job.isCancelled === \"Confirmed\") {\r\n                cancelledJobs.push(job);\r\n                cancelledJobstotal.push(job);\r\n              } else {\r\n                if (job.jobTrackers.length === 6) {\r\n                  completedJobs.push(job);\r\n                  completedJobstotal.push(job);\r\n                } else {\r\n                  openJobs.push(job);\r\n                  openJobstotal.push(job);\r\n                }\r\n\r\n                const { jobItems, jobOfflandItems } = job;\r\n                if (jobItems && jobItems.length > 0) {\r\n                  for (let j = 0; j < jobItems.length; j++) {\r\n                    const jobItem = jobItems[j];\r\n                    itemCount += jobItem.quantity;\r\n                    itemall += jobItem.quantity;\r\n                  }\r\n                }\r\n                if (jobOfflandItems && jobOfflandItems.length > 0) {\r\n                  for (let j = 0; j < jobOfflandItems.length; j++) {\r\n                    const jobOfflandItem = jobOfflandItems[j];\r\n                    offlandItemCount += jobOfflandItem.quantity;\r\n                    itemofflandall += jobOfflandItem.quantity;\r\n                  }\r\n                }\r\n              }\r\n            }\r\n            return (\r\n              <tr key={index}>\r\n                <td>{key}</td>\r\n                <td>{itemCount}</td>\r\n                <td>{offlandItemCount}</td>\r\n                <td>{openJobs.length}</td>\r\n                <td>{completedJobs.length}</td>\r\n                <td style={{ color: \"red\" }}>{cancelledJobs.length}</td>\r\n                <td>{jobs.length}</td>\r\n              </tr>\r\n            );\r\n          } else if (key !== \"PSA\" || key !== \"Jurong Port\") {\r\n            for (let i = 0; i < jobs.length; i++) {\r\n              let job = jobs[i];\r\n              if (job.isCancelled === \"Confirmed\") {\r\n                cancelledJobsOthers.push(job);\r\n              } else {\r\n                if (job.jobTrackers.length === 6) {\r\n                  completedJobsOthers.push(job);\r\n                } else {\r\n                  openJobsOthers.push(job);\r\n                }\r\n                const { jobItems, jobOfflandItems } = job;\r\n                if (jobItems && jobItems.length > 0) {\r\n                  for (let j = 0; j < jobItems.length; j++) {\r\n                    const jobItem = jobItems[j];\r\n                    itemCountOthers += jobItem.quantity;\r\n                  }\r\n                }\r\n                if (jobOfflandItems && jobOfflandItems.length > 0) {\r\n                  for (let j = 0; j < jobOfflandItems.length; j++) {\r\n                    const jobOfflandItem = jobOfflandItems[j];\r\n                    offlandItemCountOthers += jobOfflandItem.quantity;\r\n                  }\r\n                }\r\n              }\r\n            }\r\n          }\r\n        });\r\n\r\n        return (\r\n          <Row>\r\n            <Col cs=\"12\" md={{ size: 12, offset: 0 }} className=\"text-center\">\r\n              <h1>Job breakdown by Delivery Locations</h1>\r\n            </Col>\r\n            <Col cs=\"12\" md={{ size: 12, offset: 0 }}>\r\n              <Table striped hover bordered responsive>\r\n                <thead>\r\n                  <tr style={{ backgroundColor: \"#49AE4B\", color: \"white\" }}>\r\n                    <th>Delivery Location</th>\r\n                    <th>No. of Pallets (Delivery)</th>\r\n                    <th>No. of Pallets (Offland)</th>\r\n                    <th>Ongoing Jobs</th>\r\n                    <th>Completed Jobs</th>\r\n                    <th style={{ color: \"red\" }}>Cancelled Jobs</th>\r\n                    <th>Total Jobs</th>\r\n                  </tr>\r\n                </thead>\r\n                <tbody>\r\n                  {jobDeliveryLocationsCategories}\r\n                  <tr>\r\n                    <td>Others</td>\r\n                    <td>{itemCountOthers}</td>\r\n                    <td>{offlandItemCountOthers}</td>\r\n                    <td>{openJobsOthers.length}</td>\r\n                    <td>{completedJobsOthers.length}</td>\r\n                    <td style={{ color: \"red\" }}>\r\n                      {cancelledJobsOthers.length}\r\n                    </td>\r\n                    <td>\r\n                      {openJobsOthers.length +\r\n                        completedJobsOthers.length +\r\n                        cancelledJobsOthers.length}\r\n                    </td>\r\n                  </tr>\r\n                </tbody>\r\n                <br />\r\n                <tfoot>\r\n                  <tr>\r\n                    <th>Total</th>\r\n                    <th>{itemCountOthers + itemall} Pallets</th>\r\n                    <th>{offlandItemCountOthers + itemofflandall} Pallets</th>\r\n                    <th>{openJobsOthers.length + openJobstotal.length} Jobs</th>\r\n                    <th>\r\n                      {completedJobsOthers.length + completedJobstotal.length}{\" \"}\r\n                      Jobs\r\n                    </th>\r\n                    <th style={{ color: \"red\" }}>\r\n                      {cancelledJobsOthers.length + cancelledJobstotal.length}{\" \"}\r\n                      jobs\r\n                    </th>\r\n                    <th>\r\n                      {openJobsOthers.length +\r\n                        completedJobsOthers.length +\r\n                        cancelledJobsOthers.length +\r\n                        (openJobstotal.length +\r\n                          completedJobstotal.length +\r\n                          cancelledJobstotal.length)}{\" \"}\r\n                      Jobs\r\n                    </th>\r\n                  </tr>\r\n                </tfoot>\r\n              </Table>\r\n            </Col>\r\n          </Row>\r\n        );\r\n    }\r\n  }\r\n}\r\nexport default BreakdownByDeliveryLocations;\r\n","import React, { Component } from \"react\";\r\nimport { Row, Table, Col } from \"reactstrap\";\r\n\r\nclass BreakdownByVessels extends Component {\r\n  render() {\r\n    const { jobVesselsCategory, Vessel } = this.props;\r\n    switch (jobVesselsCategory && Vessel) {\r\n      case null:\r\n        return <div></div>;\r\n      default:\r\n        let jobSort = [];\r\n        let o = 0;\r\n        const cancelledJobstotal = [];\r\n        const openJobstotal = [];\r\n        const completedJobstotal = [];\r\n        let cancelledJobsOthers = 0;\r\n        let openJobsOthers = 0;\r\n        let completedJobsOthers = 0;\r\n        const vessels = Vessel.map(vessel => {\r\n          const jobVesselCategories = Object.keys(jobVesselsCategory).map(\r\n            (key, index) => {\r\n              const jobs = jobVesselsCategory[key];\r\n              const cancelledJobs = [];\r\n              const openJobs = [];\r\n              const completedJobs = [];\r\n              if (key === vessel._id) {\r\n                for (let i = 0; i < jobs.length; i++) {\r\n                  const job = jobs[i];\r\n\r\n                  if (job.isCancelled === \"confirmed\") {\r\n                    cancelledJobs.push(job);\r\n                    cancelledJobstotal.push(job);\r\n                  } else {\r\n                    if (job.jobTrackers.length === 6) {\r\n                      completedJobs.push(job);\r\n                      completedJobstotal.push(job);\r\n                    } else {\r\n                      openJobs.push(job);\r\n                      openJobstotal.push(job);\r\n                    }\r\n                  }\r\n                }\r\n                const sortJob = {\r\n                  id: `${o++}`,\r\n                  vessel: `${vessel.vesselName}`,\r\n                  vesselIMO: `${vessel.vesselIMOID}`,\r\n                  vesselCallsign: `${vessel.vesselCallsign}`,\r\n                  ongoing: `${openJobs.length}`,\r\n                  completed: `${completedJobs.length}`,\r\n                  cancelled: `${cancelledJobs.length}`,\r\n                  total: `${openJobs.length +\r\n                    completedJobs.length +\r\n                    cancelledJobs.length}`\r\n                };\r\n                jobSort.push(sortJob);\r\n              }\r\n            }\r\n          );\r\n        });\r\n\r\n        jobSort.sort((a, b) => {\r\n          return b.total - a.total;\r\n        });\r\n        const fillData = jobSort.map((job, index) => {\r\n          if (index < 50) {\r\n            return (\r\n              <tr key={job.id}>\r\n                <td>{job.vessel ? job.vessel : \"-\"}</td>\r\n                <td>{job.vesselIMO}</td>\r\n                <td>{job.vesselCallsign ? job.vesselCallsign : \"-\"}</td>\r\n                <td>{job.ongoing}</td>\r\n                <td>{job.completed}</td>\r\n                <td style={{ color: \"red\" }}>{job.cancelled}</td>\r\n                <td>{job.total}</td>\r\n              </tr>\r\n            );\r\n          } else {\r\n            openJobsOthers += parseInt(job.ongoing);\r\n            completedJobsOthers += parseInt(job.completed);\r\n            cancelledJobsOthers += parseInt(job.cancelled);\r\n          }\r\n        });\r\n\r\n        return (\r\n          <Row>\r\n            <Col cs=\"12\" md={{ size: 12, offset: 0 }} className=\"text-center\">\r\n              <h1>Job breakdown by Vessels</h1>\r\n            </Col>\r\n            <Col cs=\"12\" md={{ size: 12, offset: 0 }}>\r\n              <Table striped hover bordered responsive>\r\n                <thead>\r\n                  <tr style={{ backgroundColor: \"#49AE4B\", color: \"white\" }}>\r\n                    <th>Vessels Name</th>\r\n                    <th>Vessels IMO</th>\r\n                    <th>Vessels Callsign</th>\r\n                    <th>Ongoing Jobs</th>\r\n                    <th>Completed Jobs</th>\r\n                    <th>Cancelled Jobs</th>\r\n                    <th>Total Jobs</th>\r\n                  </tr>\r\n                </thead>\r\n                <tbody>\r\n                  {fillData}\r\n                  <tr>\r\n                    <td>Others</td>\r\n                    <td></td>\r\n                    <td></td>\r\n                    <td>{openJobsOthers}</td>\r\n                    <td>{completedJobsOthers}</td>\r\n                    <td style={{ color: \"red\" }}>{cancelledJobsOthers}</td>\r\n                    <td>\r\n                      {openJobsOthers +\r\n                        completedJobsOthers +\r\n                        cancelledJobsOthers}\r\n                    </td>\r\n                  </tr>\r\n                </tbody>\r\n                <br />\r\n                <tfoot>\r\n                  <tr>\r\n                    <th>Total</th>\r\n                    <th></th>\r\n                    <th></th>\r\n                    <th>{openJobstotal.length} Jobs</th>\r\n                    <th>{completedJobstotal.length} Jobs</th>\r\n                    <th style={{ color: \"red\" }}>\r\n                      {cancelledJobstotal.length} jobs\r\n                    </th>\r\n                    <th>\r\n                      {openJobstotal.length +\r\n                        completedJobstotal.length +\r\n                        cancelledJobstotal.length}{\" \"}\r\n                      Jobs\r\n                    </th>\r\n                  </tr>\r\n                </tfoot>\r\n              </Table>\r\n            </Col>\r\n          </Row>\r\n        );\r\n    }\r\n  }\r\n}\r\nexport default BreakdownByVessels;\r\n","import React, { Component } from \"react\";\r\nimport { Row, Table, Col } from \"reactstrap\";\r\n\r\nclass BreakdownByCompanies extends Component {\r\n  render() {\r\n    const { jobCompaniesCategory, Company } = this.props;\r\n    switch (jobCompaniesCategory && Company) {\r\n      case null:\r\n        return <div></div>;\r\n      default:\r\n        let jobSort = [];\r\n        let o = 0;\r\n        const cancelledjobstotal = [];\r\n        const openjobstotal = [];\r\n        const completedjobstotal = [];\r\n        const jobCompanieCategories = Object.keys(Company).map(\r\n          (uniq, index) => {\r\n            const cancelledJobs = [];\r\n            const openJobs = [];\r\n            const completedJobs = [];\r\n            const jobData = Object.keys(jobCompaniesCategory).map(\r\n              (key, index) => {\r\n                const jobs = jobCompaniesCategory[key];\r\n                if (uniq === key) {\r\n                  for (let i = 0; i < jobs.length; i++) {\r\n                    let job = jobs[i];\r\n\r\n                    if (job.isCancelled === \"Confirmed\") {\r\n                      cancelledJobs.push(job);\r\n                      cancelledjobstotal.push(job);\r\n                    } else {\r\n                      if (job.jobTrackers.length === 6) {\r\n                        completedJobs.push(job);\r\n                        completedjobstotal.push(job);\r\n                      } else {\r\n                        openJobs.push(job);\r\n                        openjobstotal.push(job);\r\n                      }\r\n                    }\r\n                  }\r\n                }\r\n              }\r\n            );\r\n            const sortJob = {\r\n              id: `${o++}`,\r\n              company: `${uniq}`,\r\n              ongoing: `${openJobs.length}`,\r\n              completed: `${completedJobs.length}`,\r\n              cancelled: `${cancelledJobs.length}`,\r\n              total: `${openJobs.length +\r\n                completedJobs.length +\r\n                cancelledJobs.length}`\r\n            };\r\n            jobSort.push(sortJob);\r\n          }\r\n        );\r\n        jobSort.sort((a, b) => {\r\n          return b.total - a.total;\r\n        });\r\n        const fillData = jobSort.map(job => {\r\n          return (\r\n            <tr key={job.id}>\r\n              <td>{job.company}</td>\r\n              <td>{job.ongoing}</td>\r\n              <td>{job.completed}</td>\r\n              <td style={{ color: \"red\" }}>{job.cancelled}</td>\r\n              <td>{job.total}</td>\r\n            </tr>\r\n          );\r\n        });\r\n        return (\r\n          <Row>\r\n            <Col cs=\"12\" md={{ size: 12, offset: 0 }} className=\"text-center\">\r\n              <h1>Job breakdown by Companies</h1>\r\n            </Col>\r\n            <Col cs=\"12\" md={{ size: 12, offset: 0 }}>\r\n              <Table striped hover bordered responsive>\r\n                <thead>\r\n                  <tr style={{ backgroundColor: \"#49AE4B\", color: \"white\" }}>\r\n                    <th>Companies</th>\r\n                    <th>Ongoing Jobs</th>\r\n                    <th>Completed Jobs</th>\r\n                    <th style={{ color: \"red\" }}>Cancelled Jobs</th>\r\n                    <th>Total Jobs</th>\r\n                  </tr>\r\n                </thead>\r\n                <tbody>{fillData}</tbody>\r\n                <br />\r\n                <tfoot>\r\n                  <tr>\r\n                    <th>Total</th>\r\n                    <th>{openjobstotal.length} Jobs</th>\r\n                    <th>{completedjobstotal.length} Jobs</th>\r\n                    <th style={{ color: \"red\" }}>\r\n                      {cancelledjobstotal.length} Jobs\r\n                    </th>\r\n                    <th>\r\n                      {openjobstotal.length +\r\n                        completedjobstotal.length +\r\n                        cancelledjobstotal.length}{\" \"}\r\n                      Jobs\r\n                    </th>\r\n                  </tr>\r\n                </tfoot>\r\n              </Table>\r\n            </Col>\r\n          </Row>\r\n        );\r\n    }\r\n  }\r\n}\r\nexport default BreakdownByCompanies;\r\n","import React, { Component } from \"react\";\r\nimport { Row, Col, Card, CardBody, CardTitle, CardText } from \"reactstrap\";\r\nimport { Bar } from \"react-chartjs-2\";\r\nclass Charts extends Component {\r\n  render() {\r\n    const { jobMonthAnalys, jobDeliveryCategory } = this.props;\r\n    switch (jobMonthAnalys && jobDeliveryCategory) {\r\n      case null:\r\n        return <div></div>;\r\n      default:\r\n        let monthOfmap = [];\r\n        const psajob = [];\r\n        const jpjob = [];\r\n        const shipyardjob = [];\r\n        const Others = [];\r\n        const psaItems = [];\r\n        const jpItems = [];\r\n        const shipyardItems = [];\r\n        const OthersItems = [];\r\n        const MonthMap = Object.keys(jobMonthAnalys).map((key, index) => {\r\n          let psaitems = 0;\r\n          let jpitems = 0;\r\n          let shipyarditems = 0;\r\n          let othersitems = 0;\r\n          const jobPSA = [];\r\n          const jobjp = [];\r\n          const jobshipyard = [];\r\n          const jobOthers = [];\r\n          const DeliveryLocations = Object.keys(jobDeliveryCategory).map(\r\n            uniq => {\r\n              const jobs = jobDeliveryCategory[uniq];\r\n              if (uniq === \"PSA\") {\r\n                for (let i = 0; i < jobs.length; i++) {\r\n                  let job = jobs[i];\r\n                  if (\r\n                    key ===\r\n                      `${new Date(job.jobBookingDateTime).getMonth() +\r\n                        1}/${new Date(job.jobBookingDateTime).getFullYear()}` &&\r\n                    job.jobItems.length !== 0 &&\r\n                    job.isCancelled !== \"Confirmed\"\r\n                  ) {\r\n                    for (let j = 0; j < job.jobItems.length; j++) {\r\n                      psaitems += job.jobItems[j].quantity;\r\n                    }\r\n                    jobPSA.push(job);\r\n                  }\r\n                }\r\n              } else if (uniq === \"Jurong Port\") {\r\n                for (let i = 0; i < jobs.length; i++) {\r\n                  let job = jobs[i];\r\n                  if (\r\n                    key ===\r\n                      `${new Date(job.jobBookingDateTime).getMonth() +\r\n                        1}/${new Date(job.jobBookingDateTime).getFullYear()}` &&\r\n                    job.jobItems.length !== 0 &&\r\n                    job.isCancelled !== \"Confirmed\"\r\n                  ) {\r\n                    for (let j = 0; j < job.jobItems.length; j++) {\r\n                      jpitems += job.jobItems[j].quantity;\r\n                    }\r\n                    jobjp.push(job);\r\n                  }\r\n                }\r\n              } else if (uniq === \"Shipyard\") {\r\n                for (let i = 0; i < jobs.length; i++) {\r\n                  let job = jobs[i];\r\n                  if (\r\n                    key ===\r\n                      `${new Date(job.jobBookingDateTime).getMonth() +\r\n                        1}/${new Date(job.jobBookingDateTime).getFullYear()}` &&\r\n                    job.jobItems.length !== 0 &&\r\n                    job.isCancelled !== \"Confirmed\"\r\n                  ) {\r\n                    for (let j = 0; j < job.jobItems.length; j++) {\r\n                      shipyarditems += job.jobItems[j].quantity;\r\n                    }\r\n                    jobshipyard.push(job);\r\n                  }\r\n                }\r\n              } else {\r\n                for (let i = 0; i < jobs.length; i++) {\r\n                  let job = jobs[i];\r\n                  if (\r\n                    key ===\r\n                      `${new Date(job.jobBookingDateTime).getMonth() +\r\n                        1}/${new Date(job.jobBookingDateTime).getFullYear()}` &&\r\n                    job.jobItems.length !== 0 &&\r\n                    job.isCancelled !== \"Confirmed\"\r\n                  ) {\r\n                    for (let j = 0; j < job.jobItems.length; j++) {\r\n                      othersitems += job.jobItems[j].quantity;\r\n                    }\r\n                    jobOthers.push(job);\r\n                  }\r\n                }\r\n              }\r\n            }\r\n          );\r\n          if (`${key.charAt(0)}${key.charAt(1)}` === \"1/\") {\r\n            monthOfmap.push(\"Jan\");\r\n          } else if (String(`${key.charAt(0)}${key.charAt(1)}`) === \"2/\") {\r\n            monthOfmap.push(\"Feb\");\r\n          } else if (String(`${key.charAt(0)}${key.charAt(1)}`) === \"3/\") {\r\n            monthOfmap.push(\"Mar\");\r\n          } else if (String(`${key.charAt(0)}${key.charAt(1)}`) === \"4/\") {\r\n            monthOfmap.push(\"Apr\");\r\n          } else if (String(`${key.charAt(0)}${key.charAt(1)}`) === \"5/\") {\r\n            monthOfmap.push(\"May\");\r\n          } else if (String(`${key.charAt(0)}${key.charAt(1)}`) === \"6/\") {\r\n            monthOfmap.push(\"Jun\");\r\n          } else if (String(`${key.charAt(0)}${key.charAt(1)}`) === \"7/\") {\r\n            monthOfmap.push(\"Jul\");\r\n          } else if (String(`${key.charAt(0)}${key.charAt(1)}`) === \"8/\") {\r\n            monthOfmap.push(\"Aug\");\r\n          } else if (String(`${key.charAt(0)}${key.charAt(1)}`) === \"9/\") {\r\n            monthOfmap.push(\"Sep\");\r\n          } else if (String(`${key.charAt(0)}${key.charAt(1)}`) === \"10\") {\r\n            monthOfmap.push(\"Oct\");\r\n          } else if (String(`${key.charAt(0)}${key.charAt(1)}`) === \"11\") {\r\n            monthOfmap.push(\"Nov\");\r\n          } else if (String(`${key.charAt(0)}${key.charAt(1)}`) === \"12\") {\r\n            monthOfmap.push(\"Dec\");\r\n          }\r\n          psaItems.push(psaitems);\r\n          jpItems.push(jpitems);\r\n          shipyardItems.push(shipyarditems);\r\n          OthersItems.push(othersitems);\r\n          psajob.push(jobPSA.length);\r\n          jpjob.push(jobjp.length);\r\n          shipyardjob.push(jobshipyard.length);\r\n          Others.push(jobOthers.length);\r\n        });\r\n        const chartDataOfmonth = {\r\n          labels: monthOfmap,\r\n          datasets: [\r\n            {\r\n              label: \"PSA Port\",\r\n              stack: \"Stack 0\",\r\n              data: psajob,\r\n              backgroundColor: \"rgb(161, 217, 180)\"\r\n            },\r\n            {\r\n              label: \"JP-LT\",\r\n              stack: \"Stack 0\",\r\n              data: jpjob,\r\n              backgroundColor: \"rgb(28, 201, 140)\"\r\n            },\r\n            {\r\n              label: \"Shipyard\",\r\n              stack: \"Stack 0\",\r\n              data: shipyardjob,\r\n              backgroundColor: \"rgb(13, 140, 100)\"\r\n            },\r\n            {\r\n              label: \"Others\",\r\n              stack: \"Stack 0\",\r\n              data: Others,\r\n              backgroundColor: \"rgb(10, 92, 60)\"\r\n            }\r\n          ]\r\n        };\r\n        const chartDataOfItems = {\r\n          labels: monthOfmap,\r\n          datasets: [\r\n            {\r\n              label: \"PSA Port\",\r\n              stack: \"Stack 0\",\r\n              data: psajob,\r\n              backgroundColor: \"rgb(161, 217, 180)\"\r\n            },\r\n            {\r\n              label: \"JP-LT\",\r\n              stack: \"Stack 0\",\r\n              data: jpjob,\r\n              backgroundColor: \"rgb(28, 201, 140)\"\r\n            },\r\n            {\r\n              label: \"Shipyard\",\r\n              stack: \"Stack 0\",\r\n              data: shipyardjob,\r\n              backgroundColor: \"rgb(13, 140, 100)\"\r\n            },\r\n            {\r\n              label: \"Others\",\r\n              stack: \"Stack 0\",\r\n              data: Others,\r\n              backgroundColor: \"rgb(10, 92, 60)\"\r\n            }\r\n          ]\r\n        };\r\n        return (\r\n          <Row style={{ marginBottom: \"15px\" }}>\r\n            <Col cs=\"6\" md={{ size: 6, offset: 0 }}>\r\n              <Card>\r\n                <CardBody>\r\n                  <CardTitle style={{ textDecoration: \"bold\" }}>\r\n                    No Of Deliveries\r\n                  </CardTitle>\r\n                  <CardText>\r\n                    <Bar\r\n                      data={chartDataOfmonth}\r\n                      options={{\r\n                        legend: {\r\n                          display: true,\r\n                          position: \"bottom\"\r\n                        },\r\n                        scales: {\r\n                          yAxes: [\r\n                            {\r\n                              ticks: {\r\n                                callback: function(value, index, values) {\r\n                                  return value + \" Deliveries\";\r\n                                },\r\n                                beginAtZero: true\r\n                              }\r\n                            }\r\n                          ]\r\n                        }\r\n                      }}\r\n                    />\r\n                  </CardText>\r\n                </CardBody>\r\n              </Card>\r\n            </Col>\r\n            <Col cs=\"6\" md={{ size: 6, offset: 0 }}>\r\n              <Card>\r\n                <CardBody>\r\n                  <CardTitle>No Of Items</CardTitle>\r\n                  <CardText>\r\n                    <Bar\r\n                      data={chartDataOfItems}\r\n                      options={{\r\n                        legend: {\r\n                          display: true,\r\n                          position: \"bottom\"\r\n                        },\r\n                        scales: {\r\n                          yAxes: [\r\n                            {\r\n                              ticks: {\r\n                                callback: function(value, index, values) {\r\n                                  return value + \" Items\";\r\n                                },\r\n                                beginAtZero: true\r\n                              }\r\n                            }\r\n                          ]\r\n                        }\r\n                      }}\r\n                    />\r\n                  </CardText>\r\n                </CardBody>\r\n              </Card>\r\n            </Col>\r\n          </Row>\r\n        );\r\n    }\r\n  }\r\n}\r\nexport default Charts;\r\n","import React, { Component } from \"react\";\r\nimport { Row, Table, Col } from \"reactstrap\";\r\n\r\nclass WeeksTable extends Component {\r\n  render() {\r\n    const {} = this.props;\r\n    switch (this.props) {\r\n      case null:\r\n        return <div></div>;\r\n      default:\r\n        return (\r\n          <Row>\r\n            <Col>\r\n              <Table bordered responsive size=\"lg\">\r\n                <thead\r\n                  style={{\r\n                    backgroundColor: \"#49AE4B\",\r\n                    color: \"white\"\r\n                  }}\r\n                >\r\n                  <tr>\r\n                    <td rowSpan=\"2\" scope=\"row\">\r\n                      Week\r\n                    </td>\r\n                    <td rowSpan=\"2\">Client</td>\r\n                    <td rowSpan=\"2\">Ongoing Jobs</td>\r\n                    <td rowSpan=\"2\" style={{ color: \"red\" }}>\r\n                      Cancelled Jobs\r\n                    </td>\r\n                    <td rowSpan=\"2\">Completed Jobs</td>\r\n                    <td rowSpan=\"2\">Total Jobs</td>\r\n                    <td colSpan=\"8\">\r\n                      <center>Delivery</center>\r\n                    </td>\r\n                    <td colSpan=\"8\">\r\n                      <center>Offland</center>\r\n                    </td>\r\n                    <td colSpan=\"5\">\r\n                      <center>PSA</center>\r\n                    </td>\r\n                    <td colSpan=\"5\">\r\n                      <center>Jurong Port-LT</center>\r\n                    </td>\r\n                    <td colSpan=\"5\">\r\n                      <center>Shipyard</center>\r\n                    </td>\r\n                    <td colSpan=\"5\">\r\n                      <center>Others</center>\r\n                    </td>\r\n                    <td rowSpan=\"2\">\r\n                      <center>Billing ($)</center>\r\n                    </td>\r\n                  </tr>\r\n                  <tr>\r\n                    <td>Number Of Pallets</td>\r\n                    <td>Average number of pallets per delivery</td>\r\n                    <td>Number Of Bundles</td>\r\n                    <td>Average number of bundles per delivery</td>\r\n                    <td>Number Of Cartons</td>\r\n                    <td>Average number of cartons per delivery</td>\r\n                    <td>Number Of Bluebins</td>\r\n                    <td>Average number of bluebins per delivery</td>\r\n                    <td>Number Of Pallets</td>\r\n                    <td>Average number of pallets per delivery</td>\r\n                    <td>Number Of Bundles</td>\r\n                    <td>Average number of bundles per delivery</td>\r\n                    <td>Number Of Cartons</td>\r\n                    <td>Average number of cartons per delivery</td>\r\n                    <td>Number Of Bluebins</td>\r\n                    <td>Average number of bluebins per delivery</td>\r\n                    <td>Number Of Trips</td>\r\n                    <td>Number Of Pallets</td>\r\n                    <td>Number Of Bundles</td>\r\n                    <td>Number Of Cartons</td>\r\n                    <td>Number Of Bluebins</td>\r\n                    <td>Number Of Trips</td>\r\n                    <td>Number Of Pallets</td>\r\n                    <td>Number Of Bundles</td>\r\n                    <td>Number Of Cartons</td>\r\n                    <td>Number Of Bluebins</td>\r\n                    <td>Number Of Trips</td>\r\n                    <td>Number Of Pallets</td>\r\n                    <td>Number Of Bundles</td>\r\n                    <td>Number Of Cartons</td>\r\n                    <td>Number Of Bluebins</td>\r\n                    <td>Number Of Trips</td>\r\n                    <td>Number Of Pallets</td>\r\n                    <td>Number Of Bundles</td>\r\n                    <td>Number Of Cartons</td>\r\n                    <td>Number Of Bluebins</td>\r\n                  </tr>\r\n                </thead>\r\n                <tbody>\r\n                  <tr>\r\n                    <td>-</td>\r\n                    <td>-</td>\r\n                    <td>-</td>\r\n                    <td>-</td>\r\n                    <td>-</td>\r\n                    <td>-</td>\r\n                    <td>-</td>\r\n                    <td>-</td>\r\n                    <td>-</td>\r\n                    <td>-</td>\r\n                    <td>-</td>\r\n                    <td>-</td>\r\n                    <td>-</td>\r\n                    <td>-</td>\r\n                    <td>-</td>\r\n                    <td>-</td>\r\n                    <td>-</td>\r\n                    <td>-</td>\r\n                    <td>-</td>\r\n                    <td>-</td>\r\n                    <td>-</td>\r\n                    <td>-</td>\r\n                    <td>-</td>\r\n                    <td>-</td>\r\n                    <td>-</td>\r\n                    <td>-</td>\r\n                    <td>-</td>\r\n                    <td>-</td>\r\n                    <td>-</td>\r\n                    <td>-</td>\r\n                    <td>-</td>\r\n                    <td>-</td>\r\n                    <td>-</td>\r\n                    <td>-</td>\r\n                    <td>-</td>\r\n                    <td>-</td>\r\n                    <td>-</td>\r\n                    <td>-</td>\r\n                    <td>-</td>\r\n                    <td>-</td>\r\n                    <td>-</td>\r\n                    <td>-</td>\r\n                    <td>-</td>\r\n                  </tr>\r\n                </tbody>\r\n              </Table>\r\n            </Col>\r\n          </Row>\r\n        );\r\n    }\r\n  }\r\n}\r\nexport default WeeksTable;\r\n","import React, { Component } from \"react\";\r\nimport axios from \"axios\";\r\nimport BreakdownByMonth from \"./BreakdownBy/BreakdownByMonth\";\r\nimport BreakdownByDeliveryLocations from \"./BreakdownBy/BreakdownByDeliveryLocations\";\r\nimport BreakdownByVessels from \"./BreakdownBy/BreakdownByVessels\";\r\nimport BreakdownByCompanies from \"./BreakdownBy/BreakdownByCompanies\";\r\nimport Charts from \"./Charts/Charts\";\r\nimport WeeksTable from \"./Tables/WeeksTable\";\r\nclass JobAnalytics extends Component {\r\n  state = {\r\n    userCompany: null,\r\n    vessel: null,\r\n    jobMonthCategories: null,\r\n    jobDeliveryCategories: null,\r\n    jobCompaniesCategories: null,\r\n    AnalysData: null,\r\n    jobVesselsCategories: null\r\n  };\r\n\r\n  componentDidMount() {\r\n    /* get user company */\r\n    axios.get(\"/api/company/usercompany\").then(res => {\r\n      let Company = res.data;\r\n      let CompanyCategories = {};\r\n      for (let i = 0; i < Company.length; i++) {\r\n        const cmp = Company[i];\r\n        const Companies = cmp.name;\r\n        let ListCompany = CompanyCategories[Companies];\r\n        if (!ListCompany) {\r\n          ListCompany = [];\r\n          CompanyCategories[Companies] = ListCompany;\r\n        }\r\n      }\r\n      this.setState({\r\n        userCompany: CompanyCategories\r\n      });\r\n    });\r\n    /* get vessel */\r\n    axios.get(\"/api/vessels\").then(res => {\r\n      this.setState({ vessel: res.data });\r\n    });\r\n    // Get all jobs\r\n    axios\r\n      .get(\r\n        `/api/jobs?user_only=false&numLimit=false&archive_only=false&non_archive_only=false&page=false&limit=false`\r\n      )\r\n      .then(res => {\r\n        let jobs = res.data;\r\n        let jobMonthCategories = {};\r\n        let jobDeliveryCategories = {};\r\n        let jobCompaniesCategories = {};\r\n        let jobVesselsCategories = {};\r\n        let jobAnalys = {};\r\n        for (let i = 0; i < jobs.length; i++) {\r\n          const job = jobs[i];\r\n          const monthOfJob = `${new Date(job.jobBookingDateTime).getMonth() +\r\n            1}/${new Date(job.jobBookingDateTime).getFullYear()}`;\r\n\r\n          let jobListMonth = jobMonthCategories[monthOfJob];\r\n          if (!jobListMonth) {\r\n            jobListMonth = [];\r\n            jobMonthCategories[monthOfJob] = jobListMonth;\r\n          }\r\n          let jobListLocation =\r\n            jobDeliveryCategories[job.vesselLoadingLocation];\r\n          if (!jobListLocation) {\r\n            jobListLocation = [];\r\n            jobDeliveryCategories[job.vesselLoadingLocation] = jobListLocation;\r\n          }\r\n          if (\r\n            job.user.userCompany !== null &&\r\n            job.user.userCompany.name !== null\r\n          ) {\r\n            let jobListCompanies =\r\n              jobCompaniesCategories[job.user.userCompany.name];\r\n            if (!jobListCompanies) {\r\n              jobListCompanies = [];\r\n              jobCompaniesCategories[\r\n                job.user.userCompany.name\r\n              ] = jobListCompanies;\r\n            }\r\n            jobListCompanies.push(job);\r\n          }\r\n\r\n          if (job.vessel !== null && job.vessel.vesselName !== null) {\r\n            let jobListVessels = jobVesselsCategories[job.vessel._id];\r\n            if (!jobListVessels) {\r\n              jobListVessels = [];\r\n              jobVesselsCategories[job.vessel._id] = jobListVessels;\r\n            }\r\n            jobListVessels.push(job);\r\n          }\r\n\r\n          jobListMonth.push(job);\r\n          jobListLocation.push(job);\r\n        }\r\n\r\n        jobs.sort((a, b) => {\r\n          return (\r\n            new Date(a.jobBookingDateTime.toString()) -\r\n            new Date(b.jobBookingDateTime.toString())\r\n          );\r\n        });\r\n\r\n        for (let i = 0; i < jobs.length; i++) {\r\n          const job = jobs[i];\r\n          const month = `${new Date(job.jobBookingDateTime).getMonth() +\r\n            1}/${new Date(job.jobBookingDateTime).getFullYear()}`;\r\n          let jobListMonth = jobAnalys[month];\r\n          if (!jobListMonth) {\r\n            jobListMonth = [];\r\n            jobAnalys[month] = jobListMonth;\r\n          }\r\n          jobListMonth.push(job);\r\n        }\r\n        this.setState({\r\n          jobMonthCategories: jobMonthCategories,\r\n          jobDeliveryCategories: jobDeliveryCategories,\r\n          jobCompaniesCategories: jobCompaniesCategories,\r\n          AnalysData: jobAnalys,\r\n          jobVesselsCategories: jobVesselsCategories\r\n        });\r\n      })\r\n      .catch(err => {\r\n        console.log(err);\r\n      });\r\n  }\r\n\r\n  componentDidUpdate(prevProps, prevState, snapshot) {\r\n    console.log(this.state);\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div>\r\n        <Charts\r\n          jobMonthAnalys={this.state.AnalysData}\r\n          jobDeliveryCategory={this.state.jobDeliveryCategories}\r\n        />\r\n        <WeeksTable dataTable={this.state.jobMonthCategories} />\r\n        <BreakdownByMonth jobMonthCategory={this.state.jobMonthCategories} />\r\n        <BreakdownByDeliveryLocations\r\n          jobDeliveryCategory={this.state.jobDeliveryCategories}\r\n        />\r\n        <BreakdownByVessels\r\n          jobVesselsCategory={this.state.jobVesselsCategories}\r\n          Vessel={this.state.vessel}\r\n        />\r\n        <BreakdownByCompanies\r\n          jobCompaniesCategory={this.state.jobCompaniesCategories}\r\n          Company={this.state.userCompany}\r\n        />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default JobAnalytics;\r\n","import React, {Component} from 'react';\r\nimport {Container} from \"reactstrap\";\r\n\r\nimport JobAnalytics from \"./Job/JobAnalytics\";\r\n\r\nclass Analytics extends Component {\r\n    render() {\r\n        return(\r\n            <Container fluid>\r\n                <br/>\r\n                <JobAnalytics/>\r\n            </Container>\r\n        );\r\n    }\r\n}\r\n\r\nexport default Analytics;"],"sourceRoot":""}