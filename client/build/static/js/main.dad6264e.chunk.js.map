{"version":3,"sources":["components/Dashboard/Job/JobSummaryTableDisplayMobile.js","components/Dashboard/Job/JobSummaryTableSearchBar.js","components/common/Pagination.js","components/Dashboard/Job/JobSummaryTable.js","components/common/PrivateRoute.js","components/layout/ExNavbar.js","components/layout/Footer.js","components/auth/Login.js","components/Dashboard/Admin/AdminDashboard.js","components/Dashboard/Consumer/ConsumerDashboard.js","components/Dashboard/Dashboard.js","components/History/User/UserHistory.js","components/History/Admin/AdminHistory.js","components/History/History.js","components/Job/JobAssignment/JobAssignment.js","components/SideMenuSlider/SideMenuSlider.js","components/Job/JobDetails/Form/JobItemInput.js","components/ui/Modal/AffirmationModal.js","components/ui/Modal/InformationModal.js","components/Job/JobDetails/Form/DateInputComponent.js","components/Job/JobDetails/JobDetailCard.js","components/Job/JobDetails/Files/FileDropzone.js","components/Job/JobDetails/Files/FileUpload.js","components/Job/JobDetails/Files/FileDisplay.js","components/Job/JobDetails/Files/FileUploadSection.js","components/Job/JobDetails/Files/FilePreview/FileDownloader.js","components/Job/JobDetails/Files/FilePreview/JobFileModal.js","components/Job/JobDetails/Files/JobFileSummaryTable.js","components/Job/JobDetails/Files/JobFileSummaryTableMobileSlider.js","components/Job/JobDetails/Files/JobFileSummaryTableMobile.js","components/Job/JobDetails/Files/JobFilesDisplay.js","components/Job/JobDetails/JobDetailsEdit.js","components/Job/JobDetails/JobStatusDisplay/JobStatusDisplay.js","components/Job/JobDetails/JobDropoffDetail.js","components/Job/JobDetails/JobBillingDetail/JobBillingDetail.js","components/Job/JobDetails/JobDetails.js","components/UserApproval/UserApprovalModal.js","components/UserApproval/UserApproval.js","App.js","actions/fetchActions.js","serviceWorker.js","reducers/fetchReducer.js","reducers/errorReducer.js","reducers/index.js","store.js","index.js","actions/types.js","components/SidebarMenu/SidebarMenu.js","components/Job/JobDetails/JobShareModal/JobShareModal.js","components/Job/JobShareSlide/JobShareSlide.js","components/Job/CreateJob.js","components/Job/CreateJobModal.js","actions/authAction.js","validation/is-empty.js"],"names":["JobSummaryTableDisplayMobile","state","selectedShareIconIndex","columns","title","field","render","rowData","className","moment","eta","format","name","disableClick","sorting","filtering","props","button","status","timestamp","job","jobTrackers","filter","o","index","length","allowArchive","onClick","event","isArchived","saveJobArchive","key","tableData","id","toggleSharingModal","jobClicked","data","this","components","Container","Paper","elevation","options","paging","padding","headerStyle","fontFamily","fontSize","fontWeight","color","onRowClick","handleRowClick","Component","JobSummaryTableSearchBar","undefined","check","style","width","text","jobBookingDateTime","maxLine","ellipsis","trimRight","basedOn","user","userCompany","firstName","lastName","vessel","vesselName","toUpperCase","vesselIMOID","customSort","a","b","localeCompare","vesselLoadingLocationObj","jobItems","map","items","quantity","uom","jobOfflandItems","paymentTrackers","label","ala","isCancelled","variant","Row","showTitle","vesselLoadingLocation","psaBerthingDateTime","vesselLoadingDateTime","timeA","timeB","isBefore","Pagination","postsPerPage","totalPosts","paginate","currentPage","pageNumbers","i","Math","ceil","push","aria-label","aria-hidden","number","createRow","imo","price","vesselImo","JobSummaryTable","jobs","showSharingModal","copied","archived","inputSelected","e","rd","history","handleShareModalClose","setState","handleCopy","window","setTimeout","handleCopiedClose","handleArchiveClose","SlideTransition","Slide","direction","axios","put","sendEmailUpdate","then","res","catch","err","console","log","handleSelect","get","user_only","numLimit","archive_only","non_archive_only","sort","Date","toString","subtotal","reduce","jobItem","sum","jobId","vesselArrivalDateTime","auth","indexOfLastPost","indexofFirstPost","vesselDeliveries","statusString","statusStyle","userType","data-title","companyName","bordered","hover","striped","responsive","minWidth","slice","JobShareModal","show","joblinkurl","Close","Snackbar","anchorOrigin","horizontal","vertical","open","message","action","IconButton","TransitionComponent","maxWidth","JobShareSlide","onClose","withRouter","connect","component","rest","isAuthenticated","to","ExNavbar","Navbar","expand","Brand","href","preventDefault","Image","src","Nav","Item","type","Footer","xs","md","span","offset","defaultActiveKey","Link","target","query","icon","faWhatsapp","faFacebook","faInstagram","faLinkedin","faTelegram","Login","onChecked","rememberMe","checked","renderContent","errors","fluid","size","onSubmit","Grid","container","spacing","item","TextField","value","email","onChange","fullWidth","autoComplete","autoFocus","Typography","display","margin","password","helperText","FormControlLabel","control","Checkbox","Button","bind","localStorage","getItem","nextProps","userData","setItem","loginUser","theme","createMuiTheme","palette","primary","main","ThemeProvider","AdminDashboard","searchText","postPerPage","pageNumber","ConsumerDashboard","SidebarMenu","Dashboard","UserHistory","AdminHistory","marginTop","History","JobAssignment","jobAssignments","logisticsCompanies","saveJobAssignments","location","reload","renderLogisticsCompanies","jobAssignment","logisticsCompany","jobAssignmentObj","_id","j","logisticsCompanyObj","reverse","SideMenuSlider","showHistory","showModal","handleOpenModal","handleCloseModal","pageWrapId","outerContainerId","customBurgerIcon","isOpen","onStateChange","handleMenuStateChange","customCrossIcon","handleCloseMenu","Fab","marginRight","Divider","onLogoutClick","CreateJobModal","fullScreen","handlePopoverOpen","createUOMList","JobItemInput","priceList","UOMList","onQuantityUpdate","newProduct","Number","products","newProducts","product","setItems","indexOf","splice","handleAddEvent","itemPrice","floor","random","UOM","renderMenu","includes","jobItemSelected","MenuItem","Prepend","parseInt","document","getElementById","alt","min","onKeyDown","keyCode","stopPropagation","Append","onKeyPress","test","AffirmationModal","isMobile","updatePredicate","addEventListener","removeEventListener","innerWidth","Dialog","modal","toggle","DialogTitle","DialogContent","children","DialogActions","affirmativeAction","affirmativeText","marginLeft","cancelText","InformationModal","onClosed","DateInputComponent","focused","onClickOutside","toggleController","marginBottom","DateTime","disabled","faCalendarAlt","zIndex","position","date","onDateChange","handleDateChange","onOutsideClick","numberOfMonths","isOutsideRange","day","isInclusivelyAfterDay","JobDetailsCard","jobEdit","showJobUpdateModal","jobUpdatedModal","currentCareOffParty","jobPrevState","showItemsDeliverList","focusedVesselArriveDate","ItemsDeliverAnchorEl","ItemsOfflandAnchorEl","handleVesselLoadingLocationChange","handleVesselArrivalDateChange","toISOString","handleVesselArrivalTimeChange","toDate","handleVesselLighterLocationChange","vesselLighterLocation","handleVesselLighterNameChange","vesselLighterName","handleVesselBerthingDateTimeChange","handleVesselUnberthingDateTimeChange","psaUnberthingDateTime","handleVesselLoadingDateChange","handleVesselLoadingTimeChange","handleRemarksChange","remarks","handleVesselLighterRemarksChange","vesselLighterRemarks","validateItems","filteredItems","saveJobDetails","filteredOfflandingItems","now","careOffParties","setHours","getHours","alert","careOffParty","checkValidDate","d","handleDeliverClose","handleOfflandClose","handleCreateDSAChange","createDSA","handleOtherVesselLocationChange","renderJobTimeDetails","vesselLoadingTime","psaBerthingTime","psaUnberthingTime","sm","paddingRight","paddingLeft","showSecond","defaultValue","allowEmpty","vesselLighterDateTime","otherVesselLocation","openDeliver","Boolean","jobItemText","concat","openOffland","jobOfflandItemsText","square","rows","vesselCallsign","Group","Label","Control","as","join","currentTarget","Popover","anchorEl","transformOrigin","JSON","parse","stringify","FileDropzone","highlight","openFileDialog","fileInputRef","current","click","fileListToArray","list","array","onFilesAdded","evt","files","onDragOver","onDragLeave","onDrop","dataTransfer","React","createRef","cursor","ref","multiple","textDecoration","FileUpload","uploading","handleOnMouseEnter","handleOnMouseOut","renderUploadDisplay","file","onMouseEnter","onMouseLeave","height","FileDisplay","edit","handleEdit","jobFile","fileURL","handleDocumentTitleChange","filename","ButtonGroup","border","handleSingleDelete","FileUploadSection","requirements","needPrintCopy","signAndReturn","numCopies","documentType","retrieveRequirement","requirement","fullRequirements","loadRequirements","jobFileRequirements","updateRequirement","boolean","newRequirements","handlePrintCopyChange","handleSignAndReturnChange","handleUploadType","handleNumberOfCopiesChange","handleAddDocument","formData","FormData","append","post","headers","finally","jobID","handleEditDocument","successClose","req","FormLabel","RadioGroup","row","Radio","checkedIcon","renderUpload","placeholder","handleCancel","FileDownloader","Object","keys","jobFileUrls","responseType","blob","Blob","downloadUrl","URL","createObjectURL","createElement","download","body","appendChild","remove","error","downloadSelectedFiles","faDownload","JobFileModal","showPreviewModal","setModalFlag","fileUrlArray","split","fileType","toLowerCase","useState","onHide","dialogClassName","createData","copies","jobFileChange","JobFileSummaryTable","hoverKey","showDropdown","toggleModal","handleDropdown","handleDownload","nextContext","refresh","jobFiles","cellStyle","editFile","deleteFile","minHeight","selection","rowStyle","toolbarButtonAlignment","showTextRowsSelected","actions","tooltip","ClearIcon","deleteMultipleFiles","JobFileSummaryTableMobileSlider","Drawer","anchor","PaperProps","List","ListItem","ListItemText","JobFileSummaryTableMobile","showSlider","jobFileSelected","handleSlider","handleSliderClose","DeleteIcon","JobFilesDisplay","editJobFile","showJobFileDeleteModal","jobFileToDelete","activeScreen","selectOption","numPages","getJobFiles","userJobFiles","newJobFiles","updateJobFiles","handleDeleteJobFiles","deleteJobFiles","delete","handleMultipleDelete","delArray","handleUploadSuccess","handleEditFile","handleEditCancel","faPlusSquare","JobDetailsEdit","jobStatuses","description","trackingType","jobStatus","showCheckJobStatusModal","cancellationConfirmationModal","updateJobStatus","checkJobTracker","cancelJob","cancel","JobStatusDisplay","showJobDetailsEdit","steps","activeStep","renderSteps","step","statusSelected","icons","finish","JobDropoffDetail","LogisticsCompanies","address","contactNumber","website","openingHours","addLL","lat","lng","currentCompany","handleRemarks","handleSaveRemarks","deliveryDate","setDate","getDate","getMonth","getFullYear","LCOpeningHours","getDropoffTime","Map","withScriptjs","withGoogleMap","defaultZoom","defaultCenter","googleMapURL","loadingElement","containerElement","mapElement","JobBillingDetail","showJobCancelModal","paymentTrackerList","updatePaymentTracker","paymentTacker","userId","renderCancelProcedure","userPaymentTrackers","renderAdminPaymentPanel","tracker","v","userPaymentTracker","paymentIndex","saveJobCancellation","AntTabs","withStyles","root","borderBottom","indicator","backgroundColor","Tabs","AntTab","textTransform","typography","fontWeightRegular","opacity","fontWeightMedium","outline","selected","Tab","disableRipple","JobDetails","jobLink","setTabURL","tabName","url","searchParams","set","pushState","generateInvitationLink","handleClose","handleChangeTab","newValue","queryString","search","tab","showComponent","JobDetailCard","Breadcrumbs","separator","disablePadding","handleDrawerClick","enabled","isPopoverOpen","handlePopoverClose","onEscapeKey","containerStyle","windowBorderPadding","content","targetRect","popoverRect","arrowColor","arrowSize","arrowStyle","borderRadius","centered","UserApprovalModal","Fragment","role","data-dismiss","onUpdateIsApprove","users","UserApproval","compObj","compName","isApproved","data-toggle","data-target","tabIndex","aria-labelledby","cs","DynamicImport","load","default","MainNavbar","Home","Analytics","App","openMenu","handleOpenMenu","exact","path","dispatch","FETCH_USER","payload","hostname","match","initialState","combineReducers","isEmpty","GET_ERRORS","middleware","thunk","store","createStore","rootReducer","compose","applyMiddleware","__REDUX_DEVTOOLS_EXTENSION__","ReactDOM","navigator","serviceWorker","ready","registration","unregister","sidebarOpen","defaultRenderTag","tag","onRemove","classNameRemove","getTagDisplayValue","other","wordBreak","emailList","emailInputs","mobileWebShare","showSuccessSnackBar","handleMessageChange","updateEmailList","handleEmailInputChange","handleInputClear","webShareJobLink","share","sendEmail","trim","handleSnackBarClose","validate","onCopy","onChangeInput","inputValue","inputProps","tagProps","addKeys","renderTag","clsx","CreateJob","uploadedFile","vessels","submitButtonActive","isLoading","vesselQueryResults","vesselSelected","handleJobIdChange","validateCareOffs","filteredCareOffParties","personName","handleNextStep","handlePaymentBack","renderText","renderJobTimeInfo","Col","_renderMenuItemChildren","option","results","menuProps","priority","handleTypeAheadVesselNameChange","handleKeyDown","handleTypeAheadVesselSelect","handleVesselSelectChange","textArr","renderJobInfo","required","renderMenuItemChildren","labelKey","maxResults","minLength","onInputChange","filterBy","emptyLabel","renderJobPayment","FormControl","paddingTop","paddingBottom","obj","renderSuccess","xmlns","viewBox","cx","cy","r","fill","mobile","renderForm","formDisplay","response","logoutUser","module","exports"],"mappings":"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","file":"static/js/main.dad6264e.chunk.js","sourcesContent":["import React, { Component } from \"react\";\r\nimport Paper from \"@material-ui/core/Paper\";\r\nimport MaterialTable from \"material-table\";\r\nimport ShareIcon from \"@material-ui/icons/Share\";\r\nimport ArchiveIcon from \"@material-ui/icons/Archive\";\r\nimport moment from \"moment\";\r\n\r\nclass JobSummaryTableDisplayMobile extends Component {\r\n  constructor() {\r\n    super();\r\n    this.state = {\r\n      selectedShareIconIndex: 0\r\n    };\r\n  }\r\n  render() {\r\n    return (\r\n      <MaterialTable\r\n        columns={[\r\n          {\r\n            title: \"ETA\",\r\n            field: \"eta\",\r\n            render: rowData => (\r\n              <span className=\"job-table-text\">\r\n                {moment(rowData.eta).format(\"DD MMMM YYYY, HH:mm\")}\r\n              </span>\r\n            )\r\n          },\r\n          {\r\n            title: \"Job Number\",\r\n            field: \"name\",\r\n            render: rowData => (\r\n              <span className=\"job-table-text\">{rowData.name}</span>\r\n            )\r\n          },\r\n          {\r\n            title: \"Status\",\r\n            field: \"status\",\r\n            disableClick: true,\r\n            sorting: false,\r\n            filtering: false,\r\n            render: rowData => (\r\n              <div>\r\n                {this.props.button ? (\r\n                  <div className=\"d-flex align-items-center\">\r\n                    <div className=\"d-flex justify-content-center flex-column\">\r\n                      <span className=\"job-table-text\">\r\n                        {rowData.status[0].title}\r\n                      </span>\r\n                      <i className=\"job-table-helper-text\">\r\n                        {moment(rowData.status[0].timestamp).format(\r\n                          \"MMM DD YYYY, HH:mm\"\r\n                        )}\r\n                      </i>\r\n                    </div>\r\n                    {rowData.job.jobTrackers.filter(o => {\r\n                      return o.index === 6;\r\n                    }).length > 0 && this.props.allowArchive ? (\r\n                      <ArchiveIcon\r\n                        onClick={event => {\r\n                          rowData.job.isArchived = true;\r\n                          this.props.saveJobArchive(rowData.job);\r\n                        }}\r\n                        key={rowData.tableData.id}\r\n                        className=\"job-summary-icon-buttons\"\r\n                      />\r\n                    ) : (\r\n                      <ShareIcon\r\n                        onClick={event => {\r\n                          this.props.toggleSharingModal(true);\r\n                          this.props.jobClicked(rowData.job);\r\n                        }}\r\n                        key={rowData.tableData.id}\r\n                        className=\"job-summary-icon-buttons\"\r\n                      />\r\n                    )}\r\n                  </div>\r\n                ) : (\r\n                  <div>\r\n                    <div className=\"d-flex justify-content-center flex-column\">\r\n                      <span className=\"job-table-text\">\r\n                        {rowData.status[0].title}\r\n                      </span>\r\n                      <i className=\"job-table-helper-text\">\r\n                        {moment(rowData.status[0].timestamp).format(\r\n                          \"MMM DD YYYY, HH:mm\"\r\n                        )}\r\n                      </i>\r\n                    </div>\r\n                  </div>\r\n                )}\r\n              </div>\r\n            )\r\n          }\r\n        ]}\r\n        data={this.props.data}\r\n        components={{\r\n          Container: props => <Paper {...props} elevation={0} />\r\n        }}\r\n        title={this.props.title}\r\n        options={{\r\n          sorting: true,\r\n          paging: false,\r\n          padding: \"dense\",\r\n          // showTitle: false,\r\n          headerStyle: {\r\n            fontFamily: \"Roboto\",\r\n            fontSize: \"14px\",\r\n            fontWeight: \"bold\",\r\n            color: \"#707070\"\r\n          }\r\n        }}\r\n        onRowClick={this.props.handleRowClick}\r\n      />\r\n    );\r\n  }\r\n}\r\nexport default JobSummaryTableDisplayMobile;\r\n","import React, { Component } from \"react\";\r\nimport Button from \"react-bootstrap/Button\";\r\nimport Paper from \"@material-ui/core/Paper\";\r\nimport MaterialTable, { MTableBodyRow } from \"material-table\";\r\nimport ShareIcon from \"@material-ui/icons/Share\";\r\nimport ArchiveIcon from \"@material-ui/icons/Archive\";\r\nimport moment from \"moment\";\r\nimport LinesEllipsis from \"react-lines-ellipsis\";\r\n\r\nexport default class JobSummaryTableSearchBar extends Component {\r\n  render() {\r\n    if (this.props.check !== undefined) {\r\n      return (\r\n        <MaterialTable\r\n          columns={[\r\n            /* job created* = created record date */\r\n            {\r\n              title: \"Job Created\",\r\n              field: \"jobCreated\",\r\n              render: rowData => (\r\n                <div\r\n                  className=\"d-flex align-items-center\"\r\n                  style={{ width: \"15vw\" }}\r\n                >\r\n                  <div style={{ width: \"100%\" }}>\r\n                    <LinesEllipsis\r\n                      style={{ width: \"100%\" }}\r\n                      text={moment(rowData.job.jobBookingDateTime).format(\r\n                        \"DD MMM YYYY, HH:mm\"\r\n                      )}\r\n                      maxLine=\"1\"\r\n                      ellipsis=\"...\"\r\n                      trimRight\r\n                      basedOn=\"letters\"\r\n                      className={\"job-table-text\"}\r\n                    />\r\n                  </div>\r\n                </div>\r\n              )\r\n            },\r\n            /* date of delivery */\r\n            {\r\n              title: \"Date of Delivery\",\r\n              field: \"dateOfDelivery\",\r\n              render: rowData => (\r\n                <div\r\n                  className=\"d-flex align-items-center\"\r\n                  style={{ width: \"15vw\" }}\r\n                >\r\n                  <div style={{ width: \"100%\" }}>\r\n                    <LinesEllipsis\r\n                      style={{ width: \"100%\" }}\r\n                      text=\"-\"\r\n                      maxLine=\"1\"\r\n                      ellipsis=\"...\"\r\n                      trimRight\r\n                      basedOn=\"letters\"\r\n                      className={\"job-table-text\"}\r\n                    />\r\n                  </div>\r\n                </div>\r\n              )\r\n            },\r\n            /* client */\r\n            {\r\n              title: \"Client\",\r\n              field: \"userCompanyName\",\r\n              render: rowData => (\r\n                <div\r\n                  className=\"d-flex align-items-center\"\r\n                  style={{ width: \"20vw\" }}\r\n                >\r\n                  <div style={{ width: \"100%\" }}>\r\n                    <LinesEllipsis\r\n                      style={{ width: \"100%\" }}\r\n                      text={\r\n                        rowData.job.user.userCompany !== null\r\n                          ? rowData.job.user.firstName ===\r\n                            rowData.job.user.lastName\r\n                            ? rowData.job.user.firstName +\r\n                              \", \" +\r\n                              rowData.job.user.userCompany.name\r\n                            : rowData.job.user.firstName +\r\n                              \" \" +\r\n                              rowData.job.user.lastName +\r\n                              \", \" +\r\n                              rowData.job.user.userCompany.name\r\n                          : \"-\"\r\n                      }\r\n                      maxLine=\"1\"\r\n                      ellipsis=\"...\"\r\n                      trimRight\r\n                      basedOn=\"letters\"\r\n                      className={\"job-table-text\"}\r\n                    />\r\n                  </div>\r\n                </div>\r\n              )\r\n            },\r\n            /* job number */\r\n            {\r\n              title: \"Job Number\",\r\n              field: \"name\",\r\n              render: rowData => (\r\n                <div\r\n                  className=\"d-flex align-items-center\"\r\n                  style={{ width: \"10vw\" }}\r\n                >\r\n                  <div style={{ width: \"100%\" }}>\r\n                    <LinesEllipsis\r\n                      style={{ width: \"100%\" }}\r\n                      text={rowData.name}\r\n                      maxLine=\"1\"\r\n                      ellipsis=\"...\"\r\n                      trimRight\r\n                      basedOn=\"letters\"\r\n                      className={\"job-table-text\"}\r\n                    />\r\n                  </div>\r\n                </div>\r\n              )\r\n            },\r\n            /* vessel */\r\n            {\r\n              title: \"Vessel\",\r\n              field: \"vesselName\",\r\n              render: rowData => (\r\n                <div\r\n                  className=\"d-flex align-items-center\"\r\n                  style={{ width: \"20vw\" }}\r\n                >\r\n                  <div style={{ width: \"100%\" }}>\r\n                    <LinesEllipsis\r\n                      style={{ width: \"100%\" }}\r\n                      text={\r\n                        rowData.job.vessel !== null\r\n                          ? rowData.job.vessel.vesselName.toUpperCase()\r\n                          : \"\"\r\n                      }\r\n                      maxLine=\"1\"\r\n                      ellipsis=\"...\"\r\n                      trimRight\r\n                      basedOn=\"letters\"\r\n                      className={\"job-table-text\"}\r\n                    />\r\n                    <i className=\"job-table-helper-text\">\r\n                      {rowData.job.vessel !== null\r\n                        ? rowData.job.vessel.vesselIMOID\r\n                        : \"\"}\r\n                    </i>\r\n                  </div>\r\n                </div>\r\n              ),\r\n              customSort: (a, b) =>\r\n                a.job.vessel.vesselName.localeCompare(b.job.vessel.vesselName)\r\n            },\r\n            /* vessel loading location */\r\n            {\r\n              title: \"Vessel Loading Location\",\r\n              field: \"vesselLoadingLocation\",\r\n              render: rowData => (\r\n                <div\r\n                  className=\"d-flex align-items-center\"\r\n                  style={{ width: \"20vw\" }}\r\n                >\r\n                  <div style={{ width: \"100%\" }}>\r\n                    <LinesEllipsis\r\n                      style={{ width: \"100%\" }}\r\n                      text={\r\n                        rowData.job.vesselLoadingLocationObj !== undefined\r\n                          ? rowData.job.vesselLoadingLocationObj !== null\r\n                            ? rowData.job.vesselLoadingLocationObj.name\r\n                            : \"-\"\r\n                          : \"-\"\r\n                      }\r\n                      maxLine=\"1\"\r\n                      ellipsis=\"...\"\r\n                      trimRight\r\n                      basedOn=\"letters\"\r\n                      className={\"job-table-text\"}\r\n                    />\r\n                  </div>\r\n                </div>\r\n              )\r\n            },\r\n            /* delivery item* = jobItems */\r\n            {\r\n              title: \"Delivery Items\",\r\n              field: \"deliveryitems\",\r\n              render: rowData => (\r\n                <div\r\n                  className=\"d-flex align-items-center\"\r\n                  style={{ width: \"15vw\" }}\r\n                >\r\n                  <div className=\"\" style={{ width: \"100%\" }}>\r\n                    {rowData.job.jobItems.map((items, index) => {\r\n                      return (\r\n                        <LinesEllipsis\r\n                          style={{ width: \"100%\" }}\r\n                          text={\r\n                            index === rowData.job.jobItems.length - 1\r\n                              ? items.quantity + \" \" + items.uom\r\n                              : items.quantity + \" \" + items.uom + \", \"\r\n                          }\r\n                          maxLine=\"1\"\r\n                          ellipsis=\"...\"\r\n                          trimRight\r\n                          basedOn=\"letters\"\r\n                          className={\"job-table-text\"}\r\n                        />\r\n                      );\r\n                    })}\r\n                  </div>\r\n                </div>\r\n              )\r\n            },\r\n            /* offland item* = OfflandItems */\r\n            {\r\n              title: \"Offland Items\",\r\n              field: \"jobOfflandItems\",\r\n              render: rowData => (\r\n                <div\r\n                  className=\"d-flex align-items-center\"\r\n                  style={{ width: \"15vw\" }}\r\n                >\r\n                  <div className=\"\" style={{ width: \"100%\" }}>\r\n                    {rowData.job.jobOfflandItems.map((items, index) => {\r\n                      return (\r\n                        <LinesEllipsis\r\n                          style={{ width: \"100%\" }}\r\n                          text={\r\n                            index === rowData.job.jobOfflandItems.length - 1\r\n                              ? items.quantity + \" \" + items.uom\r\n                              : items.quantity + \" \" + items.uom + \", \"\r\n                          }\r\n                          maxLine=\"1\"\r\n                          ellipsis=\"...\"\r\n                          trimRight\r\n                          basedOn=\"letters\"\r\n                          className={\"job-table-text\"}\r\n                        />\r\n                      );\r\n                    })}\r\n                  </div>\r\n                </div>\r\n              )\r\n            },\r\n            /* billing* = payment tracker */\r\n            {\r\n              title: \"Billing\",\r\n              field: \"billing\",\r\n              render: rowData => (\r\n                <div\r\n                  className=\"d-flex align-items-center\"\r\n                  style={{ width: \"20vw\" }}\r\n                >\r\n                  <div style={{ width: \"100%\" }}>\r\n                    <LinesEllipsis\r\n                      style={{ width: \"100%\" }}\r\n                      text={\r\n                        rowData.job.paymentTrackers.length === 3\r\n                          ? rowData.job.paymentTrackers[2].label\r\n                          : rowData.job.paymentTrackers.length === 2\r\n                          ? rowData.job.paymentTrackers[1].label\r\n                          : rowData.job.paymentTrackers.length === 1\r\n                          ? rowData.job.paymentTrackers[0].label\r\n                          : \"-\"\r\n                      }\r\n                      maxLine=\"1\"\r\n                      ala\r\n                      ellipsis=\"...\"\r\n                      trimRight\r\n                      basedOn=\"letters\"\r\n                      className={\"job-table-text\"}\r\n                    />\r\n                    <i className=\"job-table-helper-text\">$XX</i>\r\n                  </div>\r\n                </div>\r\n              )\r\n            },\r\n            /* status */\r\n            {\r\n              title: \"Status\",\r\n              field: \"status\",\r\n              disableClick: true,\r\n              sorting: false,\r\n              filtering: false,\r\n              render: rowData => (\r\n                <div\r\n                  className=\"d-flex align-items-center\"\r\n                  style={{ width: \"20vw\" }}\r\n                >\r\n                  <div style={{ width: \"100%\" }}>\r\n                    <LinesEllipsis\r\n                      style={{ width: \"100%\" }}\r\n                      text={\r\n                        rowData.job.isCancelled === \"Confirmed\"\r\n                          ? \"Job has been cancelled\"\r\n                          : rowData.status[0].title\r\n                      }\r\n                      maxLine=\"1\"\r\n                      ellipsis=\"...\"\r\n                      trimRight\r\n                      basedOn=\"letters\"\r\n                      className={\r\n                        rowData.job.isCancelled === \"Confirmed\"\r\n                          ? \"job-table-text red\"\r\n                          : \"job-table-text\"\r\n                      }\r\n                    />\r\n                    <i className=\"job-table-helper-text\">\r\n                      {moment(rowData.status[0].timestamp).format(\r\n                        \"MMM DD YYYY, HH:mm\"\r\n                      )}\r\n                    </i>\r\n                  </div>\r\n                  {rowData.job.jobTrackers.filter(o => {\r\n                    return o.index === 6;\r\n                  }).length > 0 && this.props.allowArchive ? (\r\n                    <Button\r\n                      variant=\"outlined\"\r\n                      onClick={event => {\r\n                        rowData.job.isArchived = true;\r\n                        this.props.saveJobArchive(rowData.job);\r\n                      }}\r\n                      key={rowData.tableData.id}\r\n                      className=\"table-share-button\"\r\n                    >\r\n                      <div className=\"d-flex align-items-center\">\r\n                        Archive\r\n                        <ArchiveIcon />\r\n                      </div>\r\n                    </Button>\r\n                  ) : (\r\n                    <Button\r\n                      variant=\"outlined\"\r\n                      onClick={event => {\r\n                        this.props.toggleSharingModal(true);\r\n                        this.props.jobClicked(rowData.job);\r\n                      }}\r\n                      key={rowData.tableData.id}\r\n                      className=\"table-share-button\"\r\n                    >\r\n                      <div className=\"d-flex align-items-center\">\r\n                        Share\r\n                        <ShareIcon />\r\n                      </div>\r\n                    </Button>\r\n                  )}\r\n                </div>\r\n              )\r\n            },\r\n            /* document* = check job file */\r\n            {\r\n              title: \"Document\",\r\n              field: \"document\",\r\n              render: rowData => (\r\n                <div\r\n                  className=\"d-flex align-items-center\"\r\n                  style={{ width: \"10vw\" }}\r\n                >\r\n                  <div style={{ width: \"100%\" }}>\r\n                    <LinesEllipsis\r\n                      style={{ width: \"100%\" }}\r\n                      text=\"-\"\r\n                      maxLine=\"1\"\r\n                      ellipsis=\"...\"\r\n                      trimRight\r\n                      basedOn=\"letters\"\r\n                      className={\"job-table-text\"}\r\n                    />\r\n                  </div>\r\n                </div>\r\n              )\r\n            },\r\n            /* 3pl* */\r\n            {\r\n              title: \"3PL\",\r\n              field: \"3pl\",\r\n              render: rowData => (\r\n                <div\r\n                  className=\"d-flex align-items-center\"\r\n                  style={{ width: \"10vw\" }}\r\n                >\r\n                  <div style={{ width: \"100%\" }}>\r\n                    <LinesEllipsis\r\n                      style={{ width: \"100%\" }}\r\n                      text=\"-\"\r\n                      maxLine=\"1\"\r\n                      ellipsis=\"...\"\r\n                      trimRight\r\n                      basedOn=\"letters\"\r\n                      className={\"job-table-text\"}\r\n                    />\r\n                  </div>\r\n                </div>\r\n              )\r\n            }\r\n          ]}\r\n          data={this.props.data}\r\n          components={{\r\n            Container: props => <Paper {...props} elevation={0} />,\r\n            Row: props => <MTableBodyRow {...props} className=\"rows\" />\r\n          }}\r\n          options={{\r\n            sorting: true,\r\n            paging: false,\r\n            padding: \"dense\",\r\n            showTitle: false,\r\n            headerStyle: {\r\n              fontFamily: \"Roboto\",\r\n              fontSize: \"14px\",\r\n              fontWeight: \"bold\",\r\n              color: \"#707070\"\r\n            }\r\n          }}\r\n          onRowClick={this.props.handleRowClick}\r\n        />\r\n      );\r\n    } else {\r\n      return (\r\n        <MaterialTable\r\n          columns={[\r\n            {\r\n              title: \"Vessel Loading Time\",\r\n              field: \"job\",\r\n              render: rowData => {\r\n                switch (rowData.job.vesselLoadingLocation) {\r\n                  case \"PSA\":\r\n                    return (\r\n                      <span className=\"job-table-text\">\r\n                        {moment(rowData.job.psaBerthingDateTime).format(\r\n                          \"DD MMMM YYYY, HH:mm\"\r\n                        )}\r\n                      </span>\r\n                    );\r\n                  case \"Jurong Port\":\r\n                    return (\r\n                      <span className=\"job-table-text\">\r\n                        {moment(rowData.job.vesselLoadingDateTime).format(\r\n                          \"DD MMMM YYYY, HH:mm\"\r\n                        )}\r\n                      </span>\r\n                    );\r\n                  default:\r\n                    return (\r\n                      <span className=\"job-table-text\">\r\n                        {moment(rowData.job.vesselLoadingDateTime).format(\r\n                          \"DD MMMM YYYY, HH:mm\"\r\n                        )}\r\n                      </span>\r\n                    );\r\n                }\r\n              },\r\n              customSort: (a, b) => {\r\n                let timeA, timeB;\r\n                if (a.job.vesselLoadingLocation === \"PSA\") {\r\n                  timeA = moment(a.job.psaBerthingDateTime);\r\n                } else {\r\n                  timeA = moment(a.job.vesselLoadingDateTime);\r\n                }\r\n                if (b.job.vesselLoadingLocation === \"PSA\") {\r\n                  timeB = moment(b.job.psaBerthingDateTime);\r\n                } else {\r\n                  timeB = moment(b.job.vesselLoadingDateTime);\r\n                }\r\n                if (timeA.isBefore(timeB)) {\r\n                  return 1;\r\n                } else {\r\n                  return -1;\r\n                }\r\n              }\r\n            },\r\n            {\r\n              title: \"Job Number\",\r\n              field: \"name\",\r\n              render: rowData => (\r\n                <span className=\"job-table-text\">{rowData.name}</span>\r\n              )\r\n            },\r\n            {\r\n              title: \"Vessel Name\",\r\n              field: \"vesselName\",\r\n              render: rowData => (\r\n                <div className=\"d-flex flex-column\">\r\n                  <span className=\"job-table-text\">\r\n                    {rowData.job.vessel !== null\r\n                      ? rowData.job.vessel.vesselName.toUpperCase()\r\n                      : \"\"}\r\n                  </span>\r\n                  <span className=\"job-table-helper-text\">\r\n                    <i>\r\n                      {rowData.job.vessel !== null\r\n                        ? rowData.job.vessel.vesselIMOID\r\n                        : \"\"}\r\n                    </i>\r\n                  </span>\r\n                </div>\r\n              ),\r\n              customSort: (a, b) =>\r\n                a.job.vessel.vesselName.localeCompare(b.job.vessel.vesselName)\r\n            },\r\n            {\r\n              title: \"Status\",\r\n              field: \"status\",\r\n              disableClick: true,\r\n              sorting: false,\r\n              filtering: false,\r\n              render: rowData => (\r\n                <div\r\n                  className=\"d-flex align-items-center\"\r\n                  style={{ width: \"20vw\" }}\r\n                >\r\n                  <div style={{ width: \"100%\" }}>\r\n                    <LinesEllipsis\r\n                      style={{ width: \"100%\" }}\r\n                      text={\r\n                        rowData.job.isCancelled === \"Confirmed\"\r\n                          ? \"Job has been cancelled\"\r\n                          : rowData.status[0].title\r\n                      }\r\n                      maxLine=\"1\"\r\n                      ellipsis=\"...\"\r\n                      trimRight\r\n                      basedOn=\"letters\"\r\n                      className={\r\n                        rowData.job.isCancelled === \"Confirmed\"\r\n                          ? \"job-table-text red\"\r\n                          : \"job-table-text\"\r\n                      }\r\n                    />\r\n                    <i className=\"job-table-helper-text\">\r\n                      {moment(rowData.status[0].timestamp).format(\r\n                        \"MMM DD YYYY, HH:mm\"\r\n                      )}\r\n                    </i>\r\n                  </div>\r\n                  {rowData.job.jobTrackers.filter(o => {\r\n                    return o.index === 6;\r\n                  }).length > 0 && this.props.allowArchive ? (\r\n                    <Button\r\n                      variant=\"outlined\"\r\n                      onClick={event => {\r\n                        rowData.job.isArchived = true;\r\n                        this.props.saveJobArchive(rowData.job);\r\n                      }}\r\n                      key={rowData.tableData.id}\r\n                      className=\"table-share-button\"\r\n                    >\r\n                      <div className=\"d-flex align-items-center\">\r\n                        Archive\r\n                        <ArchiveIcon />\r\n                      </div>\r\n                    </Button>\r\n                  ) : (\r\n                    <Button\r\n                      variant=\"outlined\"\r\n                      onClick={event => {\r\n                        this.props.toggleSharingModal(true);\r\n                        this.props.jobClicked(rowData.job);\r\n                      }}\r\n                      key={rowData.tableData.id}\r\n                      className=\"table-share-button\"\r\n                    >\r\n                      <div className=\"d-flex align-items-center\">\r\n                        Share\r\n                        <ShareIcon />\r\n                      </div>\r\n                    </Button>\r\n                  )}\r\n                </div>\r\n              )\r\n            }\r\n          ]}\r\n          data={this.props.data}\r\n          components={{\r\n            Container: props => <Paper {...props} elevation={0} />,\r\n            Row: props => <MTableBodyRow {...props} className=\"rows\" />\r\n          }}\r\n          options={{\r\n            sorting: true,\r\n            paging: false,\r\n            padding: \"dense\",\r\n            showTitle: false,\r\n            headerStyle: {\r\n              fontFamily: \"Roboto\",\r\n              fontSize: \"14px\",\r\n              fontWeight: \"bold\",\r\n              color: \"#707070\"\r\n            }\r\n          }}\r\n          onRowClick={this.props.handleRowClick}\r\n        />\r\n      );\r\n    }\r\n  }\r\n}\r\n","import React from \"react\";\r\n\r\nexport default function Pagination({\r\n  postsPerPage,\r\n  totalPosts,\r\n  paginate,\r\n  currentPage\r\n}) {\r\n  const pageNumbers = [];\r\n\r\n  for (let i = 1; i <= Math.ceil(totalPosts / postsPerPage); i++) {\r\n    pageNumbers.push(i);\r\n  }\r\n\r\n  return (\r\n    <nav aria-label=\"Page navigation example\">\r\n      <ul className=\"pagination justify-content-center\">\r\n        <li className={`page-item${currentPage === 1 ? \" disabled\" : \"\"}`}>\r\n          <a\r\n            className=\"page-link\"\r\n            aria-label=\"Previous\"\r\n            onClick={() => paginate(currentPage - 1)}\r\n          >\r\n            <span aria-hidden=\"true\">&laquo;</span>\r\n          </a>\r\n        </li>\r\n        {pageNumbers.map(number => (\r\n          <li\r\n            key={number}\r\n            className={`page-item${number === currentPage ? \" active\" : \"\"}`}\r\n          >\r\n            <a onClick={() => paginate(number)} className=\"page-link\">\r\n              {number}\r\n            </a>\r\n          </li>\r\n        ))}\r\n        <li\r\n          className={`page-item${\r\n            currentPage === pageNumbers.length ? \" disabled\" : \"\"\r\n          }`}\r\n        >\r\n          <a\r\n            className=\"page-link\"\r\n            aria-label=\"Next\"\r\n            onClick={() => paginate(currentPage + 1)}\r\n          >\r\n            <span aria-hidden=\"true\">&raquo;</span>\r\n          </a>\r\n        </li>\r\n      </ul>\r\n    </nav>\r\n  );\r\n}\r\n","import \"./JobSummaryTable.css\";\r\nimport React, { Component } from \"react\";\r\nimport axios from \"axios\";\r\nimport { withRouter } from \"react-router-dom\";\r\nimport { connect } from \"react-redux\";\r\nimport { Table } from \"reactstrap\";\r\nimport MediaQuery from \"react-responsive\";\r\n\r\nimport IconButton from \"@material-ui/core/IconButton\";\r\nimport CloseIcon from \"@material-ui/icons/Close\";\r\nimport Snackbar from \"@material-ui/core/Snackbar\";\r\n\r\nimport JobSummaryTableDisplayMobile from \"./JobSummaryTableDisplayMobile\";\r\nimport JobSummaryTableSearchBar from \"./JobSummaryTableSearchBar\";\r\nimport Slide from \"@material-ui/core/Slide\";\r\nimport JobShareModal from \"../../Job/JobDetails/JobShareModal/JobShareModal\";\r\nimport JobShareSlide from \"../../Job/JobShareSlide/JobShareSlide\";\r\nimport Pagination from \"../../common/Pagination\";\r\n\r\nfunction priceRow(qty, price) {\r\n  // return qty * price;\r\n  return 0;\r\n}\r\n\r\nfunction createRow(name, imo, vesselName, status, job, eta, price) {\r\n  return {\r\n    name: name,\r\n    vesselImo: imo,\r\n    vesselName: vesselName,\r\n    status: status,\r\n    job: job,\r\n    eta: eta,\r\n    price: price\r\n  };\r\n}\r\n\r\nclass JobSummaryTable extends Component {\r\n  state = {\r\n    jobs: null,\r\n    data: [],\r\n    showSharingModal: false,\r\n    copied: false,\r\n    jobClicked: null,\r\n    archived: false,\r\n    inputSelected: false\r\n  };\r\n\r\n  componentDidMount() {\r\n    // Get all jobs\r\n    axios\r\n      .get(\r\n        `/api/jobs?user_only=${this.props.user_only}&numLimit=${\r\n          this.props.numLimit ? this.props.numLimit : false\r\n        }&archive_only=${\r\n          this.props.archive_only ? this.props.archive_only : false\r\n        }&non_archive_only=${\r\n          this.props.non_archive_only ? this.props.non_archive_only : false\r\n        }`\r\n      )\r\n      .then(res => {\r\n        const data = [];\r\n        const jobs = res.data.sort((a, b) => {\r\n          return (\r\n            new Date(b.jobBookingDateTime.toString()) -\r\n            new Date(a.jobBookingDateTime.toString())\r\n          );\r\n        });\r\n        this.setState({\r\n          jobs: jobs\r\n        });\r\n        for (let i = 0; i < jobs.length; i++) {\r\n          let job = jobs[i];\r\n          job.jobTrackers.sort((a, b) => {\r\n            return b.index - a.index;\r\n          });\r\n          const subtotal = job.jobItems\r\n            .reduce((a, jobItem) => {\r\n              a.push(priceRow(jobItem.quantity, jobItem.price));\r\n              return a;\r\n            }, [])\r\n            .reduce((sum, i) => sum + i, 0);\r\n          data.push(\r\n            createRow(\r\n              job.jobId,\r\n              job.vessel !== null ? job.vessel.vesselIMOID : \"\",\r\n              job.vessel !== null ? job.vessel.vesselName : \"\",\r\n              job.jobTrackers,\r\n              job,\r\n              job.vesselArrivalDateTime,\r\n              subtotal\r\n            )\r\n          );\r\n        }\r\n        this.setState({\r\n          data: data\r\n        });\r\n      })\r\n      .catch(err => {\r\n        console.log(err);\r\n      });\r\n  }\r\n\r\n  handleRowClick = (e, rd) => {\r\n    let index = rd.tableData.id;\r\n    this.props.history.push(`/job_details?job=${this.state.jobs[index].index}`);\r\n  };\r\n\r\n  handleShareModalClose = () => {\r\n    this.setState({ showSharingModal: false, inputSelected: false });\r\n  };\r\n\r\n  handleCopy = () => {\r\n    this.setState({ copied: true });\r\n    window.setTimeout(() => {\r\n      this.setState({ copied: false });\r\n    }, 5000);\r\n  };\r\n\r\n  handleCopiedClose = () => {\r\n    this.setState({ copied: false });\r\n  };\r\n\r\n  handleArchiveClose = () => {\r\n    this.setState({ archived: false });\r\n  };\r\n\r\n  SlideTransition = props => {\r\n    return <Slide {...props} direction=\"up\" />;\r\n  };\r\n\r\n  saveJobArchive = job => {\r\n    // Save job details\r\n    axios\r\n      .put(\"/api/jobs\", {\r\n        job,\r\n        sendEmailUpdate: false\r\n      })\r\n      .then(res => {\r\n        this.props.history.push(\"/history\");\r\n      })\r\n      .catch(err => {\r\n        console.log(err);\r\n      });\r\n  };\r\n\r\n  handleSelect = e => {\r\n    this.setState({ inputSelected: true });\r\n  };\r\n\r\n  render() {\r\n    switch (this.state.jobs) {\r\n      case null:\r\n        return <div></div>;\r\n      default:\r\n        switch (this.props.auth) {\r\n          case null:\r\n            return <div></div>;\r\n          default:\r\n            const { postsPerPage, currentPage, paginate } = this.props;\r\n            const indexOfLastPost = currentPage * postsPerPage;\r\n            const indexofFirstPost = indexOfLastPost - postsPerPage;\r\n            /* admin */\r\n            const vesselDeliveries = this.state.jobs\r\n              .sort((a, b) => {\r\n                return (\r\n                  new Date(b.jobBookingDateTime.toString()) -\r\n                  new Date(a.jobBookingDateTime.toString())\r\n                );\r\n              })\r\n              .map((job, index) => {\r\n                const { vessel, user, jobTrackers } = job;\r\n                const jobTracker = jobTrackers.sort((a, b) => {\r\n                  return b.index - a.index;\r\n                })[0];\r\n\r\n                let statusString = jobTracker.title;\r\n                let statusStyle = { color: \"red\" };\r\n                if (job.isCancelled === \"Confirmed\") {\r\n                  statusString = \"Job Cancelled\";\r\n                } else if (job.isCancelled === \"Pending\") {\r\n                  statusString = \"Cancel Requested\";\r\n                } else if (job.isCancelled === \"Denied\") {\r\n                  statusString = \"Cancellation Denied\";\r\n                } else {\r\n                  statusStyle = {};\r\n                }\r\n                let vesselName = \"\";\r\n                let vesselIMOID = \"\";\r\n                if (vessel === null) {\r\n                  vesselName = \"\";\r\n                  vesselIMOID = \"\";\r\n                } else {\r\n                  vesselName = vessel.vesselName;\r\n                  vesselIMOID = vessel.vesselIMOID;\r\n                }\r\n\r\n                return (\r\n                  <tr\r\n                    key={index}\r\n                    className=\"job-summary-table-row\"\r\n                    onClick={e =>\r\n                      this.props.history.push(`/job_details?job=${job.index}`)\r\n                    }\r\n                  >\r\n                    {this.props.auth.userType === \"Admin\" ? (\r\n                      <td data-title=\"Company\">{user.companyName}</td>\r\n                    ) : (\r\n                      \"\"\r\n                    )}\r\n                    <td data-title=\"Job Number\">{job.jobId}</td>\r\n                    <td data-title=\"Vessel IMO\">{vesselIMOID}</td>\r\n                    <td data-title=\"Vessel Name\">{vesselName}</td>\r\n                    <td data-title=\"Status\" style={statusStyle}>\r\n                      {statusString}\r\n                    </td>\r\n                  </tr>\r\n                );\r\n              });\r\n\r\n            return (\r\n              <div className=\"job-summary-table-padding\">\r\n                {this.props.auth.userType === \"Admin\" ? (\r\n                  <Table\r\n                    bordered\r\n                    hover\r\n                    striped\r\n                    responsive\r\n                    className=\"responsive-table\"\r\n                  >\r\n                    <thead>\r\n                      <tr>\r\n                        {this.props.auth.user.userType === \"Admin\" ? (\r\n                          <th>Company</th>\r\n                        ) : (\r\n                          \"\"\r\n                        )}\r\n                        <th>Job Number</th>\r\n                        <th>Vessel IMO</th>\r\n                        <th>Vessel Name</th>\r\n                        <th>Status</th>\r\n                      </tr>\r\n                    </thead>\r\n                    <tbody>{vesselDeliveries}</tbody>\r\n                  </Table>\r\n                ) : (\r\n                  <div>\r\n                    <MediaQuery minWidth={768}>\r\n                      {/* webview table */}\r\n                      <JobSummaryTableSearchBar\r\n                        check={postsPerPage}\r\n                        data={\r\n                          postsPerPage\r\n                            ? this.state.data.slice(\r\n                                indexofFirstPost,\r\n                                indexOfLastPost\r\n                              )\r\n                            : this.state.data\r\n                        }\r\n                        showSharingModal={this.state.showSharingModal}\r\n                        toggleSharingModal={showSharingModal => {\r\n                          this.setState({ showSharingModal });\r\n                        }}\r\n                        jobClicked={jobClicked => {\r\n                          this.setState({ jobClicked });\r\n                        }}\r\n                        handleRowClick={this.handleRowClick}\r\n                        saveJobArchive={this.saveJobArchive}\r\n                        allowArchive={this.props.allowArchive}\r\n                        button={this.props.button}\r\n                      />\r\n                      {this.state.jobClicked ? (\r\n                        <div>\r\n                          <JobShareModal\r\n                            show={this.state.showSharingModal}\r\n                            joblinkurl={`localhost:3000/job_invitations/${this.state.jobClicked.index}`}\r\n                            Close={this.handleShareModalClose}\r\n                            job={this.state.jobClicked}\r\n                            copied={this.handleCopy}\r\n                          />\r\n\r\n                          <Snackbar\r\n                            anchorOrigin={{\r\n                              horizontal: \"left\",\r\n                              vertical: \"bottom\"\r\n                            }}\r\n                            open={this.state.copied}\r\n                            message={\r\n                              <span id=\"message-id\">Link Has Been Copied</span>\r\n                            }\r\n                            action={\r\n                              <IconButton\r\n                                key=\"close\"\r\n                                color=\"inherit\"\r\n                                onClick={this.handleCopiedClose}\r\n                              >\r\n                                <CloseIcon />\r\n                              </IconButton>\r\n                            }\r\n                            TransitionComponent={this.SlideTransition}\r\n                          />\r\n                        </div>\r\n                      ) : (\r\n                        \"\"\r\n                      )}\r\n                    </MediaQuery>\r\n                    <MediaQuery maxWidth={767}>\r\n                      {/* mobileview table */}\r\n                      <JobSummaryTableDisplayMobile\r\n                        data={\r\n                          postsPerPage\r\n                            ? this.state.data.slice(\r\n                                indexofFirstPost,\r\n                                indexOfLastPost\r\n                              )\r\n                            : this.state.data\r\n                        }\r\n                        showSharingModal={this.state.showSharingModal}\r\n                        toggleSharingModal={showSharingModal => {\r\n                          this.setState({ showSharingModal });\r\n                        }}\r\n                        jobClicked={jobClicked => {\r\n                          this.setState({ jobClicked });\r\n                        }}\r\n                        handleRowClick={this.handleRowClick}\r\n                        saveJobArchive={this.saveJobArchive}\r\n                        allowArchive={this.props.allowArchive}\r\n                        button={this.props.button}\r\n                        title={this.props.title}\r\n                      />\r\n                      {this.state.jobClicked ? (\r\n                        <div>\r\n                          {\r\n                            <JobShareSlide\r\n                              open={this.state.showSharingModal}\r\n                              onClose={this.handleShareModalClose}\r\n                              joblinkurl={`localhost:3000/job_invitations/${this.state.jobClicked.index}`}\r\n                              job={this.state.jobClicked}\r\n                              inputSelected={this.state.inputSelected}\r\n                              handleSelect={this.handleSelect}\r\n                            />\r\n                          }\r\n                        </div>\r\n                      ) : (\r\n                        \"\"\r\n                      )}\r\n                    </MediaQuery>\r\n\r\n                    <Snackbar\r\n                      anchorOrigin={{ horizontal: \"left\", vertical: \"bottom\" }}\r\n                      open={this.state.archived}\r\n                      message={\r\n                        <span id=\"message-id\">Item has been Archived</span>\r\n                      }\r\n                      action={\r\n                        <IconButton\r\n                          key=\"close\"\r\n                          color=\"inherit\"\r\n                          onClick={this.handleArchiveClose}\r\n                        >\r\n                          <CloseIcon />\r\n                        </IconButton>\r\n                      }\r\n                      TransitionComponent={this.SlideTransition}\r\n                    />\r\n                  </div>\r\n                )}\r\n                <br />\r\n                {postsPerPage ? (\r\n                  <Pagination\r\n                    postsPerPage={postsPerPage}\r\n                    totalPosts={this.state.data.length}\r\n                    paginate={paginate}\r\n                    currentPage={currentPage}\r\n                  />\r\n                ) : null}\r\n              </div>\r\n            );\r\n        }\r\n    }\r\n  }\r\n}\r\n\r\nconst mapStateToProps = ({ auth }) => {\r\n  return { auth };\r\n};\r\n\r\nexport default withRouter(connect(mapStateToProps)(JobSummaryTable));\r\n","import React from \"react\";\r\nimport { Route, Redirect } from \"react-router-dom\";\r\nimport { connect } from \"react-redux\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nconst VIP = ({ component: Component, auth, ...rest }) => (\r\n  <Route\r\n    {...rest}\r\n    render={props =>\r\n      auth.isAuthenticated === true ? (\r\n        <Component {...props} />\r\n      ) : (\r\n        <Redirect to=\"/login\" />\r\n      )\r\n    }\r\n  />\r\n);\r\n\r\nVIP.propTypes = {\r\n  auth: PropTypes.object.isRequired\r\n};\r\n\r\nconst mapStateToProps = state => ({\r\n  auth: state.auth\r\n});\r\n\r\nexport default connect(mapStateToProps)(VIP);\r\n","import React, { Component } from \"react\";\r\nimport { withRouter } from \"react-router-dom\";\r\n\r\nimport { Nav, Navbar, Image } from \"react-bootstrap\";\r\n\r\nimport \"./ExNavbar.css\";\r\nclass ExNavbar extends Component {\r\n  render() {\r\n    return (\r\n      <Navbar expand=\"lg\" className=\"nav-bar\">\r\n        <Navbar.Brand\r\n          href=\"#\"\r\n          onClick={e => {\r\n            e.preventDefault();\r\n            this.props.history.push(\"/\");\r\n          }}\r\n        >\r\n          <Image className=\"logo\" src=\"../../../images/logo.jpg\" />\r\n        </Navbar.Brand>\r\n        <Nav className=\"ml-auto\">\r\n          <Nav.Item>\r\n            <form className=\"form-inline mt-2 mt-md-0\">\r\n              <button\r\n                onClick={e => {\r\n                  e.preventDefault();\r\n                  this.props.history.push(\"/login\");\r\n                }}\r\n                className=\"btn btn-outline-success my-2 my-sm-0 font\"\r\n                type=\"button\"\r\n              >\r\n                SIGN IN\r\n              </button>\r\n            </form>\r\n          </Nav.Item>\r\n        </Nav>\r\n      </Navbar>\r\n    );\r\n  }\r\n}\r\n\r\nexport default withRouter(ExNavbar);\r\n","import React from \"react\";\r\n\r\nimport Container from \"react-bootstrap/Container\";\r\nimport Col from \"react-bootstrap/Col\";\r\nimport Row from \"react-bootstrap/Row\";\r\nimport Nav from \"react-bootstrap/Nav\";\r\n\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport {\r\n  faWhatsapp,\r\n  faFacebook,\r\n  faInstagram,\r\n  faLinkedin,\r\n  faTelegram\r\n} from \"@fortawesome/free-brands-svg-icons\";\r\n\r\nimport MediaQuery from \"react-responsive\";\r\n\r\nimport \"./Footer.css\";\r\nexport default function Footer() {\r\n  return (\r\n    <div id=\"footer-div\">\r\n      <div className=\"section-footer\">\r\n        <Container>\r\n          <Row className=\"nav-btm\">\r\n            <Col xs={6} md={{ span: 3, offset: 0 }}>\r\n              <Nav defaultActiveKey=\"#home\" className=\"flex-column\">\r\n                <Nav.Link className=\"disabled title-footer\">Company</Nav.Link>\r\n                <Nav.Link\r\n                  href=\"https://www.shipsuppliesdirect.com/\"\r\n                  target=\"_blank\"\r\n                >\r\n                  About Ship Supplies Direct\r\n                </Nav.Link>\r\n                <Nav.Link href=\"https://medium.com/@shipsuppliesdirect\">\r\n                  Blog\r\n                </Nav.Link>\r\n                <Nav.Link href=\"/\">Press</Nav.Link>\r\n              </Nav>\r\n            </Col>\r\n            {/*<Col xs={6} md={{ span: 3, offset: 0 }}>*/}\r\n            {/*    <Nav defaultActiveKey=\"#home\" className=\"flex-column\">*/}\r\n            {/*        <Nav.Link className='disabled title-footer'>SimpFleet</Nav.Link>*/}\r\n            {/*        <Nav.Link href=\"/\" target=\"_blank\">FAQ</Nav.Link>*/}\r\n            {/*        <Nav.Link href=\"/\" target=\"_blank\">Career</Nav.Link>*/}\r\n            {/*    </Nav>*/}\r\n            {/*</Col>*/}\r\n          </Row>\r\n          <Row>\r\n            <hr className=\"line-footer\" />\r\n          </Row>\r\n          <MediaQuery query=\"(min-width: 426px)\">\r\n            <Row className=\"font-large\">\r\n              <Col>\r\n                <h6 className=\"h6-footer\">2019 Ship Supplies Direct</h6>\r\n              </Col>\r\n              <Col\r\n                md={{ span: 3, offset: 0 }}\r\n                className=\"d-flex justify-content-end align-items-start\"\r\n              >\r\n                <a\r\n                  href=\"https://api.whatsapp.com/send?phone=6587480467\"\r\n                  target=\"_blank\"\r\n                  className=\"sicon\"\r\n                >\r\n                  <FontAwesomeIcon\r\n                    icon={faWhatsapp}\r\n                    color=\"white\"\r\n                    className=\"highlight\"\r\n                  />\r\n                </a>\r\n                <a\r\n                  href=\"https://www.facebook.com/SimpFleet-2427717804140333/\"\r\n                  target=\"_blank\"\r\n                  className=\"sicon\"\r\n                >\r\n                  <FontAwesomeIcon\r\n                    icon={faFacebook}\r\n                    color=\"white\"\r\n                    className=\"highlight\"\r\n                  />\r\n                </a>\r\n                <a\r\n                  href=\"https://www.instagram.com/shipsuppliesdirect/\"\r\n                  target=\"_blank\"\r\n                  className=\"sicon\"\r\n                >\r\n                  <FontAwesomeIcon\r\n                    icon={faInstagram}\r\n                    color=\"white\"\r\n                    className=\"highlight\"\r\n                  />\r\n                </a>\r\n                {/*<a href='#home' target='_blank' className='sicon'><FontAwesomeIcon icon={faWeixin} color=\"white\" className='highlight'/></a>*/}\r\n                <a\r\n                  href=\"https://www.linkedin.com/company/ship-supplies-direct/\"\r\n                  target=\"_blank\"\r\n                  className=\"sicon\"\r\n                >\r\n                  <FontAwesomeIcon\r\n                    icon={faLinkedin}\r\n                    color=\"white\"\r\n                    className=\"highlight\"\r\n                  />\r\n                </a>\r\n                <a\r\n                  href=\"https://telegram.me/ShipSuppliesDirect\"\r\n                  target=\"_blank\"\r\n                  className=\"sicon\"\r\n                >\r\n                  <FontAwesomeIcon\r\n                    icon={faTelegram}\r\n                    color=\"white\"\r\n                    className=\"highlight\"\r\n                  />\r\n                </a>\r\n              </Col>\r\n            </Row>\r\n          </MediaQuery>\r\n          <MediaQuery query=\"(max-width: 425px)\">\r\n            <Row className=\"font-large\">\r\n              <Col className=\"d-flex justify-content-center align-items-start\">\r\n                <h6 className=\"h6-footer\">2019 Ship Supplies Direct</h6>\r\n              </Col>\r\n            </Row>\r\n            <Row className=\"font-large\">\r\n              <Col className=\"d-flex justify-content-center align-items-start\">\r\n                <a\r\n                  href=\"https://api.whatsapp.com/send?phone=6587480467\"\r\n                  target=\"_blank\"\r\n                  className=\"sicon\"\r\n                >\r\n                  <FontAwesomeIcon\r\n                    icon={faWhatsapp}\r\n                    color=\"white\"\r\n                    className=\"highlight\"\r\n                  />\r\n                </a>\r\n                <a\r\n                  href=\"https://www.facebook.com/SimpFleet-2427717804140333/\"\r\n                  target=\"_blank\"\r\n                  className=\"sicon\"\r\n                >\r\n                  <FontAwesomeIcon\r\n                    icon={faFacebook}\r\n                    color=\"white\"\r\n                    className=\"highlight\"\r\n                  />\r\n                </a>\r\n                <a\r\n                  href=\"https://www.instagram.com/shipsuppliesdirect/\"\r\n                  target=\"_blank\"\r\n                  className=\"sicon\"\r\n                >\r\n                  <FontAwesomeIcon\r\n                    icon={faInstagram}\r\n                    color=\"white\"\r\n                    className=\"highlight\"\r\n                  />\r\n                </a>\r\n                {/*<a href='#home' target='_blank' className='sicon'><FontAwesomeIcon icon={faWeixin} color=\"white\" className='highlight' /></a>*/}\r\n                <a\r\n                  href=\"https://www.linkedin.com/company/ship-supplies-direct/\"\r\n                  target=\"_blank\"\r\n                  className=\"sicon\"\r\n                >\r\n                  <FontAwesomeIcon\r\n                    icon={faLinkedin}\r\n                    color=\"white\"\r\n                    className=\"highlight\"\r\n                  />\r\n                </a>\r\n                <a\r\n                  href=\"https://telegram.me/ShipSuppliesDirect\"\r\n                  target=\"_blank\"\r\n                  className=\"sicon\"\r\n                >\r\n                  <FontAwesomeIcon\r\n                    icon={faTelegram}\r\n                    color=\"white\"\r\n                    className=\"highlight\"\r\n                  />\r\n                </a>\r\n              </Col>\r\n            </Row>\r\n          </MediaQuery>\r\n        </Container>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import React, { Component } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport { connect } from \"react-redux\";\r\nimport { loginUser } from \"../../actions/authAction\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport { NavLink, Redirect } from \"react-router-dom\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport { Grid, Paper, TextField } from \"@material-ui/core\";\r\nimport FormControlLabel from \"@material-ui/core/FormControlLabel\";\r\nimport Checkbox from \"@material-ui/core/Checkbox\";\r\nimport { Container, Row, Col, Form } from \"reactstrap\";\r\nimport { createMuiTheme } from \"@material-ui/core/styles\";\r\nimport { ThemeProvider } from \"@material-ui/styles\";\r\nimport \"./Login.css\";\r\nclass Login extends Component {\r\n  constructor() {\r\n    super();\r\n    this.state = {\r\n      email: \"\",\r\n      password: \"\",\r\n      rememberMe: false,\r\n      errors: {}\r\n    };\r\n\r\n    this.onChange = this.onChange.bind(this);\r\n    this.onSubmit = this.onSubmit.bind(this);\r\n  }\r\n\r\n  componentDidMount() {\r\n    if (this.props.auth.isAuthenticated) {\r\n      this.props.history.push(\"/dashboard\");\r\n      if (\r\n        localStorage.getItem(\"checked\") &&\r\n        localStorage.getItem(\"checked\") !== \"\"\r\n      ) {\r\n        this.setState({\r\n          email: localStorage.getItem(\"email\"),\r\n          password: localStorage.getItem(\"password\"),\r\n          rememberMe: true\r\n        });\r\n      }\r\n    }\r\n  }\r\n\r\n  componentWillReceiveProps(nextProps) {\r\n    if (nextProps.auth.isAuthenticated) {\r\n      this.props.history.push(\"/dashboard\");\r\n    }\r\n\r\n    if (nextProps.errors) {\r\n      this.setState({ errors: nextProps.errors });\r\n    }\r\n  }\r\n\r\n  onSubmit(e) {\r\n    e.preventDefault();\r\n\r\n    const userData = {\r\n      email: this.state.email,\r\n      password: this.state.password\r\n    };\r\n    if (this.state.rememberMe) {\r\n      localStorage.setItem(\"checked\", \"checked\");\r\n      localStorage.setItem(\"email\", this.state.email);\r\n      localStorage.setItem(\"password\", this.state.password);\r\n    } else {\r\n      localStorage.setItem(\"checked\", \"\");\r\n    }\r\n    this.props.loginUser(userData);\r\n  }\r\n\r\n  onChange(e) {\r\n    this.setState({ [e.target.name]: e.target.value });\r\n  }\r\n  onChecked = e => {\r\n    this.setState({ rememberMe: e.target.checked });\r\n  };\r\n  renderContent = () => {\r\n    const { errors } = this.state;\r\n    switch (this.props.auth.isAuthenticated) {\r\n      case false:\r\n        return (\r\n          <Container fluid className=\"signin-background\">\r\n            <Row>\r\n              <Col xs=\"12\" md={{ size: 10, offset: 1 }}>\r\n                <Row>\r\n                  <Col md={{ size: 4, offset: 4 }}>\r\n                    <Paper className=\"signin-top\">\r\n                      <Form onSubmit={this.onSubmit}>\r\n                        <Grid container spacing={0}>\r\n                          <Grid item xs={12}>\r\n                            <h2 className=\"text-center signin-title\">Log In</h2>\r\n                          </Grid>\r\n                          <Grid item xs={12}>\r\n                            <TextField\r\n                              name=\"email\"\r\n                              type=\"email\"\r\n                              value={this.state.email}\r\n                              onChange={this.onChange}\r\n                              variant=\"outlined\"\r\n                              fullWidth\r\n                              id=\"email-login\"\r\n                              label=\"Email Address\"\r\n                              autoComplete=\"email\"\r\n                              autoFocus\r\n                            />\r\n                            <Typography\r\n                              variant=\"caption\"\r\n                              display=\"block\"\r\n                              style={{ color: \"red\" }}\r\n                            >\r\n                              {errors.email}\r\n                            </Typography>\r\n                            <TextField\r\n                              variant=\"outlined\"\r\n                              margin=\"normal\"\r\n                              name=\"password\"\r\n                              type=\"password\"\r\n                              value={this.state.password}\r\n                              onChange={this.onChange}\r\n                              fullWidth\r\n                              label=\"Password\"\r\n                              id=\"password\"\r\n                              autoComplete=\"current-password\"\r\n                              helperText=\"\"\r\n                            />\r\n                            <Typography\r\n                              variant=\"caption\"\r\n                              display=\"block\"\r\n                              style={{ color: \"red\" }}\r\n                            >\r\n                              {errors.password}\r\n                            </Typography>\r\n                          </Grid>\r\n                          <Grid item>\r\n                            <FormControlLabel\r\n                              control={\r\n                                <Checkbox\r\n                                  onChange={this.onChecked}\r\n                                  checked={this.state.rememberMe}\r\n                                  color=\"primary\"\r\n                                />\r\n                              }\r\n                              label=\"Remember me\"\r\n                            />\r\n                          </Grid>\r\n                          <Grid item xs={12}>\r\n                            <Button\r\n                              type=\"submit\"\r\n                              fullWidth\r\n                              variant=\"contained\"\r\n                              color=\"primary\"\r\n                              className=\"button-text\"\r\n                            >\r\n                              Sign In\r\n                            </Button>\r\n                          </Grid>\r\n                          <Grid item xs={12}>\r\n                            <p className=\"text-center signin-forget\">\r\n                              <NavLink to=\"/password_reset\" className=\"link\">\r\n                                Forgot Password?\r\n                              </NavLink>\r\n                            </p>\r\n                          </Grid>\r\n                        </Grid>\r\n                      </Form>\r\n                    </Paper>\r\n                  </Col>\r\n                </Row>\r\n              </Col>\r\n            </Row>\r\n          </Container>\r\n        );\r\n      case null:\r\n        return <Redirect to=\"/\" />;\r\n    }\r\n  };\r\n  render() {\r\n    const theme = createMuiTheme({\r\n      palette: {\r\n        primary: {\r\n          main: \"#49AE4B\"\r\n        }\r\n      }\r\n    });\r\n\r\n    return (\r\n      <ThemeProvider theme={theme}>\r\n        <div>{this.renderContent()}</div>\r\n      </ThemeProvider>\r\n    );\r\n  }\r\n}\r\n\r\nLogin.propTypes = {\r\n  loginUser: PropTypes.func.isRequired,\r\n  auth: PropTypes.object.isRequired,\r\n  errors: PropTypes.object.isRequired\r\n};\r\n\r\nconst mapStateToProps = state => ({\r\n  auth: state.auth,\r\n  errors: state.errors\r\n});\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  { loginUser }\r\n)(Login);\r\n","import React, { Component } from \"react\";\r\nimport { Col, Container, Row } from \"reactstrap\";\r\n\r\nimport JobSummaryTable from \"../Job/JobSummaryTable\";\r\n\r\nclass AdminDashboard extends Component {\r\n  constructor() {\r\n    super();\r\n    this.state = {\r\n      searchText: \"\",\r\n      currentPage: 1,\r\n      postPerPage: 50\r\n    };\r\n    this.paginate = this.paginate.bind(this);\r\n  }\r\n\r\n  paginate(pageNumber) {\r\n    this.setState({ currentPage: pageNumber });\r\n  }\r\n  render() {\r\n    return (\r\n      <Container fluid>\r\n        <Row>\r\n          <Col md=\"12\">\r\n            <JobSummaryTable\r\n              postsPerPage={this.state.postPerPage}\r\n              paginate={this.paginate}\r\n              currentPage={this.state.currentPage}\r\n            />\r\n          </Col>\r\n        </Row>\r\n      </Container>\r\n    );\r\n  }\r\n}\r\n\r\nexport default AdminDashboard;\r\n","import React, { Component } from \"react\";\r\nimport { Col, Container, Row } from \"reactstrap\";\r\n\r\nimport JobSummaryTable from \"../Job/JobSummaryTable\";\r\nimport SidebarMenu from \"../../SidebarMenu/SidebarMenu\";\r\nimport MediaQuery from \"react-responsive\";\r\n\r\nclass ConsumerDashboard extends Component {\r\n  render() {\r\n    return (\r\n      <Container fluid>\r\n        <MediaQuery minWidth={769}>\r\n          <Row>\r\n            <Col xs=\"2\">\r\n              <SidebarMenu />\r\n            </Col>\r\n            <Col xs=\"10\">\r\n              <Row>\r\n                <Col xs=\"12\" style={{ padding: \"0 40px\" }}>\r\n                  <h3 className=\"job-summary-header\">Dashboard</h3>\r\n                  <JobSummaryTable\r\n                    user_only={true}\r\n                    allowArchive={true}\r\n                    button={true}\r\n                    non_archive_only={true}\r\n                  />\r\n                </Col>\r\n              </Row>\r\n            </Col>\r\n          </Row>\r\n        </MediaQuery>\r\n        <MediaQuery maxWidth={768}>\r\n          <Row>\r\n            <Col xs=\"12\" style={{ padding: \"20px 10px\" }}>\r\n              {/*<h3 className='job-summary-header'>Dashboard</h3>*/}\r\n              <JobSummaryTable\r\n                user_only={true}\r\n                allowArchive={true}\r\n                button={true}\r\n                non_archive_only={true}\r\n                title=\"Dashboard\"\r\n              />\r\n            </Col>\r\n          </Row>\r\n        </MediaQuery>\r\n      </Container>\r\n    );\r\n  }\r\n}\r\nexport default ConsumerDashboard;\r\n","import React, { Component } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { Redirect } from \"react-router-dom\";\r\n\r\nimport AdminDashboard from \"./Admin/AdminDashboard\";\r\nimport ConsumerDashboard from \"./Consumer/ConsumerDashboard\";\r\n\r\nclass Dashboard extends Component {\r\n  render() {\r\n    switch (this.props.auth) {\r\n      case null:\r\n        return <div></div>;\r\n      case false:\r\n        return <Redirect to=\"/\" />;\r\n      default:\r\n        switch (this.props.auth.user.userType) {\r\n          case \"Admin\":\r\n            return <AdminDashboard />;\r\n          default:\r\n            return <ConsumerDashboard />;\r\n        }\r\n    }\r\n  }\r\n}\r\n\r\nconst mapStateToProps = ({ auth }) => {\r\n  return { auth };\r\n};\r\n\r\nexport default connect(mapStateToProps)(Dashboard);\r\n","import React, { Component } from \"react\";\r\nimport { Col, Container, Row } from \"reactstrap\";\r\n\r\nimport JobSummaryTable from \"../../Dashboard/Job/JobSummaryTable\";\r\nimport SidebarMenu from \"../../SidebarMenu/SidebarMenu\";\r\nimport MediaQuery from \"react-responsive\";\r\n\r\nclass UserHistory extends Component {\r\n  render() {\r\n    return (\r\n      <Container fluid>\r\n        <MediaQuery minWidth={769}>\r\n          <Row>\r\n            <Col xs=\"2\">\r\n              <SidebarMenu />\r\n            </Col>\r\n            <Col xs=\"10\">\r\n              <Row>\r\n                <Col xs=\"12\" style={{ padding: \"0 40px\" }}>\r\n                  <h3 className=\"job-summary-header\">History</h3>\r\n                  <JobSummaryTable\r\n                    user_only={true}\r\n                    button={false}\r\n                    archive_only={true}\r\n                    allowArchive={false}\r\n                  />\r\n                </Col>\r\n              </Row>\r\n            </Col>\r\n          </Row>\r\n        </MediaQuery>\r\n        <MediaQuery maxWidth={768}>\r\n          <Row>\r\n            <Col xs=\"12\" style={{ padding: \"20px 10px\" }}>\r\n              {/*<h3 className='job-summary-header'>History</h3>*/}\r\n              <JobSummaryTable\r\n                user_only={true}\r\n                button={false}\r\n                archive_only={true}\r\n                allowArchive={false}\r\n                title=\"History\"\r\n              />\r\n            </Col>\r\n          </Row>\r\n        </MediaQuery>\r\n      </Container>\r\n    );\r\n  }\r\n}\r\n\r\nexport default UserHistory;\r\n","import React, { Component } from \"react\";\r\nimport { Col, Container, Row } from \"reactstrap\";\r\n\r\nimport JobSummaryTable from \"../../Dashboard/Job/JobSummaryTable\";\r\n\r\nclass AdminHistory extends Component {\r\n  render() {\r\n    return (\r\n      <Container fluid style={{ marginTop: \"-50px\" }}>\r\n        <br />\r\n        <h1 className=\"text-center\">History</h1>\r\n        <Row>\r\n          <Col xs=\"12\" md={{ size: 10, offset: 1 }}>\r\n            <JobSummaryTable user_only={false} />\r\n          </Col>\r\n        </Row>\r\n      </Container>\r\n    );\r\n  }\r\n}\r\nexport default AdminHistory;\r\n","import React, { Component } from \"react\";\r\nimport { Redirect } from \"react-router-dom\";\r\nimport { connect } from \"react-redux\";\r\n\r\nimport UserHistory from \"./User/UserHistory\";\r\nimport AdminHistory from \"./Admin/AdminHistory\";\r\n\r\nclass History extends Component {\r\n  render() {\r\n    switch (this.props.auth) {\r\n      case null:\r\n        return <div></div>;\r\n      case false:\r\n        return <Redirect to=\"/\" />;\r\n      default:\r\n        switch (this.props.auth.user.userType) {\r\n          case \"Admin\":\r\n            return <AdminHistory />;\r\n          default:\r\n            return <UserHistory />;\r\n        }\r\n    }\r\n  }\r\n}\r\n\r\nconst mapStateToProps = ({ auth }) => {\r\n  return { auth };\r\n};\r\nexport default connect(mapStateToProps)(History);\r\n","import React, {Component} from \"react\";\r\nimport {Input, Table, Button, Container, Row, Col} from \"reactstrap\";\r\nimport axios from \"axios\";\r\n\r\nclass JobAssignment extends Component {\r\n    state = {\r\n        jobAssignments: null,\r\n        logisticsCompanies: null\r\n    };\r\n\r\n    componentDidMount() {\r\n        axios.get(\"/api/job_assignments\").then(res => {\r\n            this.setState({\r\n                jobAssignments: res.data.reverse()\r\n            });\r\n        }).catch(err => {\r\n            console.log(err);\r\n        });\r\n\r\n        axios.get(\"/api/logistics_companies\").then(res => {\r\n            this.setState({\r\n                logisticsCompanies: res.data\r\n            });\r\n        }).catch(err => {\r\n            console.log(err);\r\n        });\r\n    }\r\n\r\n    saveJobAssignments = () => {\r\n        axios\r\n            .put(\"/api/job_assignments\", {\r\n                jobAssignments: this.state.jobAssignments\r\n            })\r\n            .then(res => {\r\n                window.location.reload();\r\n            })\r\n            .catch(err => {\r\n                console.log(err);\r\n            });\r\n    };\r\n\r\n    renderLogisticsCompanies = jobAssignment => {\r\n        const defaultValue = \"Please Select\";\r\n        return (\r\n            <Input\r\n                type=\"select\"\r\n                value={\r\n                    jobAssignment.logisticsCompany !== undefined\r\n                        ? jobAssignment.logisticsCompany.name\r\n                        : defaultValue\r\n                }\r\n                onChange={e => {\r\n                    const jobAssignments = this.state.jobAssignments;\r\n                    for (let i = 0; i < jobAssignments.length; i++) {\r\n                        const jobAssignmentObj = jobAssignments[i];\r\n                        if (jobAssignmentObj._id === jobAssignment._id) {\r\n                            const logisticsCompanies = this.state.logisticsCompanies;\r\n                            for (let j = 0; j < logisticsCompanies.length; j++) {\r\n                                const logisticsCompanyObj = logisticsCompanies[j];\r\n                                if (logisticsCompanyObj.name === e.target.value) {\r\n                                    jobAssignmentObj.logisticsCompany = logisticsCompanyObj;\r\n                                    break;\r\n                                }\r\n                            }\r\n                            break;\r\n                        }\r\n                    }\r\n                    this.setState({jobAssignments});\r\n                }}\r\n            >\r\n                <option>{defaultValue}</option>\r\n                {this.state.logisticsCompanies.map((logisticsCompany, index) => {\r\n                    return <option key={index}>{logisticsCompany.name}</option>;\r\n                })}\r\n            </Input>\r\n        );\r\n    };\r\n\r\n    render() {\r\n        switch (this.state.jobAssignments) {\r\n            case null:\r\n                return <div></div>;\r\n            default:\r\n                switch (this.state.logisticsCompanies) {\r\n                    case null:\r\n                        return <div></div>;\r\n                    default:\r\n                        const jobAssignments = this.state.jobAssignments.map(\r\n                            (jobAssignment, index) => {\r\n                                const {job} = jobAssignment;\r\n                                const {user, vessel} = job;\r\n                                const {userCompany} = user;\r\n                                return (\r\n                                    <tr key={index}>\r\n                                        <td>{index + 1}</td>\r\n                                        <td>{job.index}</td>\r\n                                        <td>{userCompany.name}</td>\r\n                                        <td>{job.jobId}</td>\r\n                                        <td>{vessel !== null ? vessel.vesselName : ''}</td>\r\n                                        <td>{this.renderLogisticsCompanies(jobAssignment)}</td>\r\n                                    </tr>\r\n                                );\r\n                            }\r\n                        );\r\n\r\n                        return (\r\n                            <Container fluid>\r\n                                <br/>\r\n                                <Row>\r\n                                    <Col xs=\"12\" className=\"text-center\">\r\n                                        <Button\r\n                                            type=\"button\"\r\n                                            onClick={e => this.saveJobAssignments()}\r\n                                        >\r\n                                            Save Changes\r\n                                        </Button>\r\n                                    </Col>\r\n                                </Row>\r\n                                <br/>\r\n\r\n                                <Table striped hover bordered responsive>\r\n                                    <tr>\r\n                                        <th>No.</th>\r\n                                        <th>Job ID</th>\r\n                                        <th>Company</th>\r\n                                        <th>Job Number</th>\r\n                                        <th>Vessel</th>\r\n                                        <th>Assignment</th>\r\n                                    </tr>\r\n                                    {jobAssignments}\r\n                                </Table>\r\n                            </Container>\r\n                        );\r\n                }\r\n        }\r\n    }\r\n}\r\n\r\nexport default JobAssignment;\r\n","import \"./SideMenuSlider.css\";\r\nimport React, { Component } from \"react\";\r\n\r\nimport CreateJobModal from \"../Job/CreateJobModal\";\r\nimport Divider from \"@material-ui/core/Divider\";\r\nimport Grid from \"@material-ui/core/Grid\";\r\nimport Fab from \"@material-ui/core/Fab\";\r\nimport { push as Menu } from \"react-burger-menu\";\r\nimport { NavLink, withRouter } from \"react-router-dom\";\r\nimport MediaQuery from \"react-responsive\";\r\nimport { connect } from \"react-redux\";\r\nimport CloseIcon from \"@material-ui/icons/Close\";\r\nimport IconButton from \"@material-ui/core/IconButton\";\r\nimport AddIcon from \"@material-ui/icons/Add\";\r\n\r\nclass SideMenuSlider extends Component {\r\n  state = {\r\n    showHistory: false,\r\n    showModal: false\r\n  };\r\n\r\n  handleOpenModal = () => {\r\n    this.setState({ showModal: true });\r\n  };\r\n\r\n  handleCloseModal = () => {\r\n    this.setState({ showModal: false });\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <MediaQuery maxWidth={768}>\r\n        <Menu\r\n          pageWrapId={\"page-wrap\"}\r\n          outerContainerId={\"outer-container\"}\r\n          customBurgerIcon={false}\r\n          isOpen={this.props.open}\r\n          onStateChange={state => this.props.handleMenuStateChange(state)}\r\n          customCrossIcon={false}\r\n          className=\"menu-width\"\r\n        >\r\n          <Grid container spacing={3}>\r\n            <Grid item xs={12} className=\"d-flex align-items-center\">\r\n              <IconButton\r\n                className=\"closeButtonMenu ml-auto\"\r\n                onClick={this.props.handleCloseMenu}\r\n              >\r\n                <CloseIcon className=\"closeIconMenu\" />\r\n              </IconButton>\r\n            </Grid>\r\n            <Grid item xs={12} className=\"d-flex justify-content-center\">\r\n              <Fab\r\n                variant=\"extended\"\r\n                size=\"large\"\r\n                className=\"side-bar-create-job-button\"\r\n                onClick={this.handleOpenModal}\r\n              >\r\n                <AddIcon style={{ marginRight: \"5px\" }} fontSize=\"small\" />\r\n                Create job\r\n              </Fab>\r\n            </Grid>\r\n            <Grid item xs={12}>\r\n              <NavLink\r\n                to=\"/\"\r\n                className=\"sidebar-link\"\r\n                onClick={this.props.handleCloseMenu}\r\n              >\r\n                Home\r\n              </NavLink>\r\n            </Grid>\r\n            <Grid item xs={12}>\r\n              <NavLink\r\n                to=\"/dashboard\"\r\n                className=\"sidebar-link\"\r\n                onClick={this.props.handleCloseMenu}\r\n              >\r\n                Dashboard\r\n              </NavLink>\r\n            </Grid>\r\n            <Grid item xs={12}>\r\n              {/* {this.state.showHistory ? ( */}\r\n              <NavLink\r\n                to=\"/history\"\r\n                className=\"sidebar-link\"\r\n                onClick={this.props.handleCloseMenu}\r\n              >\r\n                History\r\n              </NavLink>\r\n              {/* ) : (\r\n                \"\"\r\n              )} */}\r\n            </Grid>\r\n            <Grid\r\n              item\r\n              xs={12}\r\n              className=\"d-flex align-items-center justify-content-center\"\r\n            >\r\n              <Divider style={{ width: \"85%\" }} />\r\n            </Grid>\r\n            <Grid item xs={12}>\r\n              <NavLink\r\n                to=\"/\"\r\n                className=\"sidebar-secondary-link\"\r\n                onClick={this.props.handleCloseMenu}\r\n              >\r\n                FAQ\r\n              </NavLink>\r\n            </Grid>\r\n            <Grid item xs={12}>\r\n              <NavLink\r\n                to=\"/\"\r\n                className=\"sidebar-secondary-link\"\r\n                onClick={this.props.handleCloseMenu}\r\n              >\r\n                Setting\r\n              </NavLink>\r\n            </Grid>\r\n            <Grid item xs={12}>\r\n              <NavLink\r\n                to=\"/\"\r\n                className=\"sidebar-secondary-link\"\r\n                onClick={this.onLogoutClick}\r\n              >\r\n                Logout\r\n              </NavLink>\r\n            </Grid>\r\n          </Grid>\r\n        </Menu>\r\n        <CreateJobModal\r\n          isOpen={this.state.showModal}\r\n          fullScreen={true}\r\n          handleCloseModal={this.handleCloseModal}\r\n          handlePopoverOpen={this.props.handlePopoverOpen}\r\n          handleCloseMenu={this.props.handleCloseMenu}\r\n        />\r\n      </MediaQuery>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = ({ auth }) => {\r\n  return { auth };\r\n};\r\n\r\nexport default withRouter(connect(mapStateToProps)(SideMenuSlider));\r\n","import React, {Component} from 'react';\r\nimport MenuItem from \"@material-ui/core/MenuItem\";\r\n\r\nimport './JobItemInput.css'\r\nimport InputGroup from \"react-bootstrap/InputGroup\";\r\nimport FormControl from \"react-bootstrap/FormControl\";\r\nimport Button from \"react-bootstrap/Button\";\r\nimport Container from 'react-bootstrap/Container';\r\nimport Row from 'react-bootstrap/Row';\r\nimport Col from 'react-bootstrap/Col';\r\nimport axios from \"axios\";\r\n\r\nfunction createUOMList(uom, quantity){\r\n    return {uom, quantity}\r\n}\r\n\r\nclass JobItemInput extends Component {\r\n    state = {\r\n        priceList: [],\r\n        UOMList:[],\r\n    };\r\n\r\n    componentDidMount() {\r\n        if(this.props.type === \"delivery\") {\r\n            axios.get(`/api/job_item_pricing`).then(res => {\r\n                const priceList = res.data;\r\n                const UOM = priceList.map(o => createUOMList(o.uom,0));\r\n                this.setState({priceList: priceList, UOMList:UOM});\r\n            }).catch(err => {\r\n                console.log(err);\r\n            });\r\n        } else {\r\n            axios.get(`/api/job_offland_item_pricing`).then(res => {\r\n                const priceList = res.data;\r\n                const UOM = priceList.map(o => createUOMList(o.uom,0));\r\n                this.setState({priceList: priceList, UOMList:UOM});\r\n            }).catch(err => {\r\n                console.log(err);\r\n            });\r\n        }\r\n    }\r\n\r\n    onQuantityUpdate = (value, newProduct) => {\r\n        value = Number(value);\r\n        if (value > 0) {\r\n            const products = this.props.jobItems;\r\n            const newProducts = [];\r\n            for (let i = 0; i < products.length; i++) {\r\n                let product = products[i];\r\n                if (product.id === newProduct.id) {\r\n                    newProducts.push({\r\n                        ...product,\r\n                        quantity: value\r\n                    });\r\n                } else {\r\n                    newProducts.push(product);\r\n                }\r\n            }\r\n            this.props.setItems(newProducts);\r\n        } else {\r\n            const index = this.props.jobItems.indexOf(newProduct);\r\n            this.props.jobItems.splice(index, 1);\r\n            this.props.setItems(this.props.jobItems);\r\n        }\r\n    };\r\n\r\n    handleAddEvent = (value, uom) => {\r\n        let itemPrice = this.state.priceList.filter(o => {\r\n            return o.uom === uom;\r\n        })[0];\r\n        const item = {\r\n            quantity: Number(value),\r\n            uom: uom,\r\n            id: (+new Date() + Math.floor(Math.random() * 999999)).toString(36),\r\n            job: null,\r\n            price: itemPrice.price,\r\n        };\r\n        const items = this.props.jobItems;\r\n        items.push(item);\r\n        this.props.setItems(this.props.jobItems);\r\n    };\r\n\r\n    render() {\r\n\r\n        let jobItems = this.props.jobItems;\r\n\r\n        const renderMenu = this.state.UOMList.map((item, index) => {\r\n            const jobItemsUOM = jobItems.reduce((a, jobItem) => {\r\n                a.push(jobItem.uom);\r\n                return a;\r\n            }, []);\r\n            if (!jobItemsUOM.includes(item.uom)) {\r\n                return (\r\n                    <MenuItem button={false} key={index}>\r\n                        <Row className='d-flex align-items-center'>\r\n                            <Col xs={2}>\r\n                                <h3 className='uom-label'>{item.uom}</h3>\r\n                            </Col>\r\n                            <Col xs={{span: 8, offset: 2}}>\r\n                                <InputGroup className=\"ml-auto\">\r\n                                    <InputGroup.Prepend>\r\n                                        <Button variant=\"outline-secondary\" className='uom-minus-btn'><img\r\n                                            src='/images/minus.png' alt='minus'/></Button>\r\n                                    </InputGroup.Prepend>\r\n                                    <FormControl\r\n                                        className='uom-input text-center'\r\n                                        min=\"0\" type='number' value={item.quantity}\r\n                                        onChange={()=>{}}\r\n                                        onKeyPress={e => {\r\n                                            if (e.key === 'Backspace' && item.quantity === 0) {\r\n                                                e.preventDefault();\r\n                                                e.stopPropagation();\r\n                                            } else if (/\\d/.test(e.key)) {\r\n                                                e.preventDefault();\r\n                                                e.stopPropagation();\r\n                                                this.handleAddEvent(parseInt(e.key), item.uom);\r\n                                            }\r\n                                        }}\r\n                                    />\r\n                                    <InputGroup.Append>\r\n                                        <Button variant=\"outline-secondary\" className='uom-plus-btn'\r\n                                                onClick={e => {\r\n                                                    this.handleAddEvent(item.quantity, item.uom);\r\n                                                    const jobItemSelected = jobItems.filter(o => {\r\n                                                        return o.uom === item.uom;\r\n                                                    })[0];\r\n                                                    this.onQuantityUpdate(1, jobItemSelected)\r\n                                                }}>\r\n                                            <img src='/images/plus.png' alt='plus'/>\r\n                                        </Button>\r\n                                    </InputGroup.Append>\r\n                                </InputGroup>\r\n                            </Col>\r\n                        </Row>\r\n                    </MenuItem>\r\n                );\r\n            } else {\r\n                const jobItemSelected = jobItems.filter(o => {\r\n                    return o.uom === item.uom;\r\n                })[0];\r\n                return (\r\n\r\n                    <MenuItem button={false} key={index}>\r\n                        <Row className='d-flex align-items-center'>\r\n                            <Col xs={2}>\r\n                                <h3 className='uom-label'>{item.uom}</h3>\r\n                            </Col>\r\n                            <Col xs={{span: 8, offset: 2}}>\r\n                                <InputGroup className=\"ml-auto\">\r\n                                    <InputGroup.Prepend>\r\n                                        <Button variant=\"outline-secondary\" className='uom-minus-btn'\r\n                                                onClick={e => {\r\n                                                    this.onQuantityUpdate(parseInt(document.getElementById(`value${index}`).value) - 1, jobItemSelected)\r\n                                                }}><img src='/images/minus.png' alt='minus'/></Button>\r\n                                    </InputGroup.Prepend>\r\n                                    <FormControl\r\n                                        id={`value${index}`}\r\n                                        className='uom-input text-center'\r\n                                        min=\"0\" type='number' value={parseInt(jobItemSelected.quantity)}\r\n                                        onChange={(e) => {\r\n                                            this.onQuantityUpdate(parseInt(e.target.value), jobItemSelected);\r\n                                        }}\r\n                                        onKeyDown={e => {\r\n                                            if (e.keyCode === 8) {\r\n                                                if (jobItemSelected.quantity === 0) {\r\n                                                    e.preventDefault();\r\n                                                    e.stopPropagation();\r\n                                                } else if (jobItemSelected.quantity.toString().length === 1) {\r\n                                                    this.onQuantityUpdate(0, jobItemSelected)\r\n                                                }\r\n                                            }\r\n                                        }}\r\n                                    />\r\n                                    <InputGroup.Append>\r\n                                        <Button variant=\"outline-secondary\" className='uom-plus-btn'\r\n                                                onClick={e => {\r\n                                                    this.onQuantityUpdate(parseInt(document.getElementById(`value${index}`).value) + 1, jobItemSelected)\r\n                                                }}><img src='/images/plus.png' alt='plus'/></Button>\r\n                                    </InputGroup.Append>\r\n                                </InputGroup>\r\n                            </Col>\r\n                        </Row>\r\n                    </MenuItem>\r\n                )\r\n            }\r\n\r\n        });\r\n\r\n        return (\r\n            <Container className='popover-conatiner'>\r\n                {renderMenu}\r\n            </Container>\r\n        );\r\n    }\r\n}\r\n\r\nexport default JobItemInput;","import React, { Component } from \"react\";\r\nimport Dialog from \"@material-ui/core/Dialog\";\r\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\r\nimport DialogContent from \"@material-ui/core/DialogContent\";\r\nimport DialogActions from \"@material-ui/core/DialogActions\";\r\nimport IconButton from \"@material-ui/core/IconButton\";\r\nimport CloseIcon from \"@material-ui/icons/Close\";\r\nimport DoneIcon from \"@material-ui/icons/Done\";\r\n\r\nimport Button from \"react-bootstrap/Button\";\r\nimport \"./AffirmationModal.css\";\r\n\r\nclass AffirmationModal extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      isMobile: false\r\n    };\r\n\r\n    this.updatePredicate = this.updatePredicate.bind(this);\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.updatePredicate();\r\n    window.addEventListener(\"resize\", this.updatePredicate);\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    window.removeEventListener(\"resize\", this.updatePredicate);\r\n  }\r\n\r\n  updatePredicate() {\r\n    this.setState({ isMobile: window.innerWidth < 426 });\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <Dialog\r\n        open={this.props.modal}\r\n        onClose={this.props.toggle}\r\n        maxWidth=\"xs\"\r\n        fullWidth={false}\r\n        // fullScreen={this.state.isMobile}\r\n      >\r\n        <DialogTitle className=\"dialog-top\">\r\n          <div className=\"d-flex align-items-center\">\r\n            <p className=\"info-modal-title\">{this.props.title}</p>\r\n            <IconButton\r\n              className=\"closeButton ml-auto\"\r\n              onClick={this.props.toggle}\r\n            >\r\n              <CloseIcon className=\"closeButton\" />\r\n            </IconButton>\r\n          </div>\r\n        </DialogTitle>\r\n        <DialogContent className=\"info-modal-content\">\r\n          <div className=\"info-modal-message text-center\">\r\n            {this.props.children}\r\n          </div>\r\n        </DialogContent>\r\n        <DialogActions className=\"info-modal-bottom\">\r\n          <div className=\"d-flex align-items-center justify-content-center w-100\">\r\n            <Button\r\n              variant=\"success\"\r\n              className=\"info-button\"\r\n              onClick={this.props.affirmativeAction}\r\n            >\r\n              <span>{this.props.affirmativeText}</span>\r\n            </Button>\r\n            <Button\r\n              variant=\"outline-success\"\r\n              className=\"info-button info-button-cancel\"\r\n              onClick={this.props.toggle}\r\n              style={{ marginLeft: \"15px\" }}\r\n            >\r\n              <span>{this.props.cancelText}</span>\r\n            </Button>\r\n          </div>\r\n        </DialogActions>\r\n      </Dialog>\r\n    );\r\n  }\r\n}\r\n\r\nexport default AffirmationModal;\r\n","import React, { Component } from \"react\";\r\nimport { Button, Modal, ModalBody, ModalFooter, ModalHeader } from \"reactstrap\";\r\n\r\nclass InformationModal extends Component {\r\n  render() {\r\n    return (\r\n      <Modal\r\n        isOpen={this.props.modal}\r\n        toggle={this.props.toggle}\r\n        onClosed={this.props.onClosed}\r\n      >\r\n        <ModalHeader toggle={this.props.toggle}>{this.props.title}</ModalHeader>\r\n        <ModalBody>{this.props.children}</ModalBody>\r\n        <ModalFooter>\r\n          <Button color=\"primary\" onClick={this.props.onClosed}>\r\n            Ok\r\n          </Button>\r\n        </ModalFooter>\r\n      </Modal>\r\n    );\r\n  }\r\n}\r\n\r\nexport default InformationModal;\r\n","import React, { Component } from \"react\";\r\nimport \"react-dates/initialize\";\r\nimport InputGroup from \"react-bootstrap/InputGroup\";\r\nimport FormControl from \"react-bootstrap/FormControl\";\r\nimport moment from \"moment\";\r\nimport { Button } from \"react-bootstrap\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport { faCalendarAlt } from \"@fortawesome/free-solid-svg-icons\";\r\nimport { DayPickerSingleDateController } from \"react-dates\";\r\nimport \"react-dates/lib/css/_datepicker.css\";\r\nimport isInclusivelyAfterDay from \"react-dates/src/utils/isInclusivelyAfterDay\";\r\n\r\nimport \"./DateInputComponent.css\";\r\n\r\nclass DateInputComponent extends Component {\r\n  state = {\r\n    focused: false\r\n  };\r\n\r\n  onClickOutside = () => {\r\n    // Force the focused states to always be truthy so that date is always selectable\r\n    window.setTimeout(() => {\r\n      this.setState({ focused: false });\r\n    }, 100);\r\n  };\r\n\r\n  toggleController = () => {\r\n    this.setState({ focused: !this.state.focused });\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <div>\r\n        <div style={{ marginBottom: 16 }}>\r\n          <InputGroup>\r\n            <FormControl\r\n              type=\"text\"\r\n              value={moment(this.props.DateTime).format(\"DD MMMM YYYY\")}\r\n              className=\"job-detail-section--date-input\"\r\n              disabled={this.props.disabled}\r\n              onChange={() => {}}\r\n            />\r\n            <InputGroup.Append>\r\n              <Button\r\n                variant=\"outline-success\"\r\n                onClick={this.toggleController}\r\n                className=\"calendar-button\"\r\n                disabled={this.props.disabled}\r\n              >\r\n                <FontAwesomeIcon icon={faCalendarAlt} color=\"white\" />\r\n              </Button>\r\n            </InputGroup.Append>\r\n          </InputGroup>\r\n        </div>\r\n        {this.state.focused ? (\r\n          <div style={{ zIndex: \"100\", position: \"absolute\" }}>\r\n            <DayPickerSingleDateController\r\n              date={moment(this.props.DateTime)}\r\n              onDateChange={this.props.handleDateChange}\r\n              onOutsideClick={this.onClickOutside}\r\n              numberOfMonths={1}\r\n              isOutsideRange={day => !isInclusivelyAfterDay(day, moment())}\r\n            />\r\n          </div>\r\n        ) : (\r\n          \"\"\r\n        )}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default DateInputComponent;\r\n","import React, {Component} from 'react';\r\nimport {FormGroup, Form, Input, Label} from \"reactstrap\";\r\nimport axios from 'axios';\r\nimport {withRouter} from \"react-router-dom\";\r\nimport moment from 'moment';\r\nimport {connect} from \"react-redux\";\r\n\r\nimport {Paper, Divider, Popover} from '@material-ui/core';\r\nimport {Container, Row, Col, Button} from 'react-bootstrap';\r\nimport FormControlLabel from \"@material-ui/core/FormControlLabel\";\r\nimport Checkbox from \"@material-ui/core/Checkbox\";\r\nimport FormRB from 'react-bootstrap/Form';\r\n\r\nimport 'react-dates/initialize';\r\nimport TimePicker from 'rc-time-picker';\r\nimport 'rc-time-picker/assets/index.css';\r\n\r\nimport \"react-datepicker/dist/react-datepicker.css\";\r\nimport JobItemInput from \"./Form/JobItemInput\";\r\nimport AffirmationModal from \"../../ui/Modal/AffirmationModal\";\r\nimport InformationModal from \"../../ui/Modal/InformationModal\";\r\nimport DateInputComponent from \"./Form/DateInputComponent\";\r\n\r\nclass JobDetailsCard extends Component {\r\n    state = {\r\n        job: this.props.job,\r\n        jobEdit: false,\r\n        showJobUpdateModal: false,\r\n        jobUpdatedModal: false,\r\n        currentCareOffParty: null,\r\n        jobPrevState: null,\r\n        showItemsDeliverList: false,\r\n        focusedVesselArriveDate: false,\r\n        ItemsDeliverAnchorEl: null,\r\n        ItemsOfflandAnchorEl: null,\r\n    };\r\n\r\n    componentDidMount() {\r\n        let currentCareOffParty = null;\r\n        const {careOffParties} = this.props.job;\r\n        for (let i = 0; i < careOffParties.length; i++) {\r\n            const careOffParty = careOffParties[i];\r\n            if (careOffParty.user === this.props.auth._id) {\r\n                currentCareOffParty = careOffParty;\r\n                this.setState({currentCareOffParty});\r\n                break;\r\n            }\r\n        }\r\n    }\r\n\r\n    handleVesselLoadingLocationChange = (e) => {\r\n        const job = this.state.job;\r\n        job.vesselLoadingLocation = e.target.value;\r\n        this.setState({job});\r\n    };\r\n\r\n    handleVesselArrivalDateChange = (vesselLoadingDateTime) => {\r\n        const job = this.state.job;\r\n        job.vesselArrivalDateTime = vesselLoadingDateTime.toISOString();\r\n        this.setState({job});\r\n    };\r\n\r\n    handleVesselArrivalTimeChange = (value) => {\r\n        const job = this.state.job;\r\n        job.vesselArrivalDateTime = value.toDate().toISOString();\r\n        this.setState({job});\r\n    };\r\n\r\n    handleVesselLighterLocationChange = (e) => {\r\n        const job = this.state.job;\r\n        job.vesselLighterLocation = e.target.value;\r\n        this.setState({job});\r\n    };\r\n\r\n    // handleVesselLighterTimeChange = (value) => {\r\n    //     const job = this.state.job;\r\n    //     job.vesselLighterDateTime = value.toDate().toISOString();\r\n    //     this.setState({job});\r\n    // };\r\n    //\r\n    // handleVesselLighterDateChange = (vesselLighterDateTime) => {\r\n    //     const job = this.state.job;\r\n    //     job.vesselLighterDateTime = vesselLighterDateTime.toISOString();\r\n    //     this.setState({job});\r\n    // };\r\n\r\n    handleVesselLighterNameChange = (e) => {\r\n        const job = this.state.job;\r\n        job.vesselLighterName = e.target.value;\r\n        this.setState({job});\r\n    };\r\n\r\n    handleVesselBerthingDateTimeChange = (psaBerthingDateTime) => {\r\n        const job = this.state.job;\r\n        job.psaBerthingDateTime = psaBerthingDateTime;\r\n        this.setState({job});\r\n    };\r\n\r\n    handleVesselUnberthingDateTimeChange = (psaUnberthingDateTime) => {\r\n        const job = this.state.job;\r\n        job.psaUnberthingDateTime = psaUnberthingDateTime;\r\n        this.setState({job});\r\n    };\r\n\r\n    handleVesselLoadingDateChange = (vesselLoadingDateTime) => {\r\n        const job = this.state.job;\r\n        job.vesselLoadingDateTime = vesselLoadingDateTime.toISOString();\r\n        this.setState({job});\r\n    };\r\n\r\n    handleVesselLoadingTimeChange = (value) => {\r\n        const job = this.state.job;\r\n        job.vesselLoadingDateTime = value.toDate().toISOString();\r\n        this.setState({job});\r\n    };\r\n\r\n    handleRemarksChange = (e) => {\r\n        const job = this.state.job;\r\n        job.remarks = e.target.value;\r\n        this.setState({job});\r\n    };\r\n\r\n    handleVesselLighterRemarksChange = (e) => {\r\n        const job = this.state.job;\r\n        job.vesselLighterRemarks = e.target.value;\r\n        this.setState({job});\r\n    };\r\n\r\n    onSubmit = (e) => {\r\n        e.preventDefault();\r\n        this.setState({showJobUpdateModal: true});\r\n    };\r\n\r\n    validateItems = (items) => {\r\n        // Check for empty item entries\r\n        const filteredItems = [];\r\n        for (let i = 0; i < items.length; i++) {\r\n            const item = items[i];\r\n            if (item.quantity !== '' && item.uom !== '') {\r\n                delete item['id'];\r\n                filteredItems.push(item);\r\n            }\r\n        }\r\n        return filteredItems;\r\n    };\r\n\r\n    saveJobDetails = (e) => {\r\n        // Check for empty item entries\r\n        const filteredItems = this.validateItems(this.state.job.jobItems);\r\n        const filteredOfflandingItems = this.validateItems(this.state.job.jobOfflandItems);\r\n\r\n\r\n        const now = new Date();\r\n\r\n        // Save to job\r\n        const job = this.state.job;\r\n        job.jobItems = filteredItems;\r\n        job.jobOfflandItems = filteredOfflandingItems;\r\n        job.careOffParties = this.state.job.careOffParties;\r\n\r\n        if (this.state.job.vesselLoadingLocation !== 'PSA' && (new Date(this.state.job.vesselLoadingDateTime) - now.setHours(now.getHours() + 2)) < 0) {\r\n            this.setState({\r\n                jobEdit: false,\r\n                job: this.state.jobPrevState\r\n            });\r\n            window.alert('Vessel Loading Time cannot be before now')\r\n        } else if (this.state.job.vesselLoadingDateTime === '') {\r\n            this.setState({\r\n                jobEdit: false,\r\n                job: this.state.jobPrevState\r\n            });\r\n            window.alert('Vessel Loading Date and Time must be filled');\r\n\r\n        } else if (this.state.currentCareOffParty !== null && this.validateItems(this.state.currentCareOffParty.jobItems).length < 1) {\r\n            this.setState({\r\n                jobEdit: false,\r\n                job: this.state.jobPrevState\r\n            })\r\n            window.alert('At least one item must be submitted for delivery!');\r\n        } else if (this.state.job.vesselArrivalDateTime === '') {\r\n            this.setState({\r\n                jobEdit: false,\r\n                job: this.state.jobPrevState\r\n            })\r\n            window.alert('Vessel ETA must be filled');\r\n        } else {\r\n            // Save job details\r\n            axios.put('/api/jobs', {\r\n                job,\r\n                sendEmailUpdate: true\r\n            }).then(res => {\r\n                if (this.state.currentCareOffParty !== null) {\r\n                    axios.put('/api/care_off', {\r\n                        careOffParty: this.state.currentCareOffParty\r\n                    }).then(res => {\r\n                        this.setState({jobUpdatedModal: true});\r\n                    }).catch(err => {\r\n                        console.log(err);\r\n                    });\r\n                } else {\r\n                    this.setState({jobUpdatedModal: true});\r\n                }\r\n            }).catch(err => {\r\n                console.log(err);\r\n            });\r\n        }\r\n    };\r\n\r\n    checkValidDate = (d) => {\r\n        const date = new Date(d);\r\n        return date.toString() !== \"Invalid Date\";\r\n    };\r\n\r\n    handleDeliverClose = () => {\r\n        this.setState({ItemsDeliverAnchorEl: null})\r\n    };\r\n\r\n    handleOfflandClose = () => {\r\n        this.setState({ItemsOfflandAnchorEl: null})\r\n    };\r\n\r\n    handleCreateDSAChange = (e) => {\r\n        const job = this.state.job;\r\n        job.createDSA = e.target.checked;\r\n        this.setState({job});\r\n    };\r\n\r\n    handleOtherVesselLocationChange = (e) => {\r\n        const job = this.state.job;\r\n        job.vesselLoadingLocation = e.target.value;\r\n        this.setState({job});\r\n    };\r\n\r\n    renderJobTimeDetails = () => {\r\n        let {\r\n            vesselLoadingLocation, vesselArrivalDateTime, vesselLoadingDateTime,\r\n            psaBerthingDateTime, psaUnberthingDateTime,\r\n        } = this.state.job;\r\n        const vesselLoadingTime = moment(vesselLoadingDateTime);\r\n        const vesselArrivalTime = moment(vesselArrivalDateTime);\r\n        const psaBerthingTime = moment(psaBerthingDateTime);\r\n        const psaUnberthingTime = moment(psaUnberthingDateTime);\r\n        switch (vesselLoadingLocation) {\r\n            case 'PSA':\r\n                return <div>\r\n                    <Row>\r\n                        <Col xs={12} sm={6}>\r\n                            <div className='d-flex align-items-center job-detail-section-heading'>\r\n                                <div className='job-detail-green-circle'><strong>2</strong></div>\r\n                                <h1 className='job-detail-section-header'>Time</h1>\r\n                            </div>\r\n                            <FormGroup>\r\n                                <Label className='job-detail-section-label'>Vessel Estimated Berthing Time\r\n                                </Label>\r\n                                <Container fluid style={{paddingRight: \"0px\", paddingLeft: '0px'}}>\r\n                                    <Row>\r\n                                        <Col xs={7}>\r\n                                            <DateInputComponent DateTime={psaBerthingDateTime}\r\n                                                                handleDateChange={() => {\r\n                                                                }}\r\n                                                                disabled={true}/>\r\n                                        </Col>\r\n                                        <Col xs={5}>\r\n                                            <TimePicker\r\n                                                showSecond={false}\r\n                                                defaultValue={psaBerthingTime}\r\n                                                value={psaBerthingTime}\r\n                                                onChange={() => {\r\n                                                }}\r\n                                                allowEmpty={false}\r\n                                                disabled={true}\r\n                                                className='job-detail-section-input'\r\n                                            />\r\n                                        </Col></Row></Container>\r\n                            </FormGroup>\r\n\r\n                            <FormGroup>\r\n                                <Label className='job-detail-section-label'>Vessel Estimated Unberthing Time</Label>\r\n                                <Container fluid style={{paddingRight: \"0px\", paddingLeft: '0px'}}>\r\n                                    <Row>\r\n                                        <Col xs={7}>\r\n                                            <DateInputComponent DateTime={psaUnberthingDateTime}\r\n                                                                handleDateChange={() => {\r\n                                                                }}\r\n                                                                disabled={true}/>\r\n                                        </Col>\r\n                                        <Col xs={5}>\r\n                                            <TimePicker\r\n                                                showSecond={false}\r\n                                                defaultValue={psaUnberthingTime}\r\n                                                value={psaUnberthingTime}\r\n                                                onChange={() => {\r\n                                                }}\r\n                                                allowEmpty={false}\r\n                                                disabled={true}\r\n                                                className='job-detail-section-input'\r\n                                            />\r\n                                        </Col></Row></Container>\r\n                            </FormGroup>\r\n                        </Col>\r\n                    </Row>\r\n                    <Divider className='job-detail-section-divider'/>\r\n                </div>;\r\n            default:\r\n                return (\r\n                    <div>\r\n                        <Row>\r\n                            <Col xs={12} sm={6}>\r\n                                <div className='d-flex align-items-center job-detail-section-heading'>\r\n                                    <div className='job-detail-green-circle'><strong>2</strong></div>\r\n                                    <h1 className='job-detail-section-header'>Time</h1>\r\n                                </div>\r\n                                {/*<FormGroup>*/}\r\n                                {/*    <Label className='job-detail-section-label'>Vessel Estimated Time Arrival*/}\r\n                                {/*        (ETA)</Label>*/}\r\n                                {/*    <Container fluid style={{paddingRight: \"0px\", paddingLeft: '0px'}}>*/}\r\n                                {/*        <Row>*/}\r\n                                {/*            <Col xs={7}>*/}\r\n                                {/*                <DateInputComponent DateTime={vesselArrivalDateTime}*/}\r\n                                {/*                                    handleDateChange={this.handleVesselArrivalDateChange}*/}\r\n                                {/*                                    disabled={!this.state.jobEdit}/>*/}\r\n                                {/*            </Col>*/}\r\n                                {/*            <Col xs={5}>*/}\r\n                                {/*                <TimePicker*/}\r\n                                {/*                    showSecond={false}*/}\r\n                                {/*                    defaultValue={vesselArrivalTime}*/}\r\n                                {/*                    value={vesselArrivalTime}*/}\r\n                                {/*                    onChange={this.handleVesselArrivalTimeChange}*/}\r\n                                {/*                    allowEmpty={false}*/}\r\n                                {/*                    disabled={!this.state.jobEdit}*/}\r\n                                {/*                    className='job-detail-section-input'*/}\r\n                                {/*                />*/}\r\n                                {/*            </Col></Row></Container>*/}\r\n                                {/*</FormGroup>*/}\r\n\r\n                                <FormGroup>\r\n                                    <Label className='job-detail-section-label'>{\r\n                                        this.state.vesselLoadingLocation === 'Jurong Port'\r\n                                            ? 'Lighter Loading Date & Time'\r\n                                            : 'Vessel Loading Date & Time'\r\n                                    }</Label>\r\n                                    <Container fluid style={{paddingRight: \"0px\", paddingLeft: '0px'}}>\r\n                                        <Row>\r\n                                            <Col xs={7}>\r\n                                                <DateInputComponent DateTime={vesselLoadingDateTime}\r\n                                                                    handleDateChange={this.handleVesselLoadingDateChange}\r\n                                                                    disabled={!this.state.jobEdit}/>\r\n                                            </Col>\r\n                                            <Col xs={5}>\r\n                                                <TimePicker\r\n                                                    showSecond={false}\r\n                                                    defaultValue={vesselLoadingTime}\r\n                                                    value={vesselLoadingTime}\r\n                                                    onChange={this.handleVesselLoadingTimeChange}\r\n                                                    allowEmpty={false}\r\n                                                    disabled={!this.state.jobEdit}\r\n                                                    className='job-detail-section-input'\r\n                                                />\r\n                                            </Col></Row></Container>\r\n                                </FormGroup>\r\n                            </Col>\r\n                        </Row>\r\n                        <Divider className='job-detail-section-divider'/>\r\n                    </div>);\r\n        }\r\n    };\r\n\r\n\r\n    render() {\r\n        let {\r\n            jobId, vessel, vesselLoadingLocation, vesselArrivalDateTime, vesselLoadingDateTime, remarks,\r\n            jobItems, jobOfflandItems, psaBerthingDateTime, psaUnberthingDateTime, createDSA,\r\n            vesselLighterName, vesselLighterDateTime, vesselLighterLocation, vesselLighterRemarks\r\n        } = this.state.job;\r\n        const otherVesselLocation = vesselLoadingLocation === 'PSA' || vesselLoadingLocation === 'Jurong Port' ? '' : vesselLoadingLocation;\r\n        vesselLoadingLocation = vesselLoadingLocation === 'PSA' || vesselLoadingLocation === 'Jurong Port' ? vesselLoadingLocation : 'Others';\r\n\r\n        const currentCareOffParty = this.state.currentCareOffParty;\r\n        if (currentCareOffParty !== null) {\r\n            jobItems = currentCareOffParty.jobItems;\r\n            jobOfflandItems = currentCareOffParty.jobOfflandItems;\r\n        }\r\n\r\n        for (let i = 0; i < jobItems.length; i++) {\r\n            const jobItem = jobItems[i];\r\n            jobItem.id = (+new Date() + Math.floor(Math.random() * 999999)).toString(36);\r\n        }\r\n\r\n        for (let i = 0; i < jobOfflandItems.length; i++) {\r\n            const jobOfflandItem = jobOfflandItems[i];\r\n            jobOfflandItem.id = (+new Date() + Math.floor(Math.random() * 999999)).toString(36);\r\n        }\r\n\r\n        const openDeliver = Boolean(this.state.ItemsDeliverAnchorEl);\r\n        let jobItemText = jobItems.reduce((a, item) => {\r\n            a.push(item.quantity.toString().concat(' '.concat(item.uom)));\r\n            return a;\r\n        }, []);\r\n\r\n        const openOffland = Boolean(this.state.ItemsOfflandAnchorEl);\r\n        let jobOfflandItemsText = jobOfflandItems.reduce((a, item) => {\r\n            a.push(item.quantity.toString().concat(' '.concat(item.uom)));\r\n            return a;\r\n        }, []);\r\n\r\n        const renderText = () => {\r\n            return (\r\n                <div className='d-flex flex-column'>\r\n                    <span className='job-detail-section-input-label' style={{marginBottom: '0px'}}><strong>I would like SimpFleet to produce DSA(JP LTs) or Entry/Export Permit(PSA) for me</strong></span>\r\n                    <span className='job-detail-section-label-helper-text'><i>It would cost extra fees if Simpfleet produces the DSA(JP LTs) or Entry/Export Permit(PSA)</i></span>\r\n                </div>);\r\n        };\r\n\r\n        return (\r\n            <div>\r\n                <Paper square={true} className='job-detail-paper' elevation={0}>\r\n                    <Form onSubmit={this.onSubmit}>\r\n                        <Container>\r\n                            <Row>\r\n                                <Col xs={12} sm={6}>\r\n                                    <div className='d-flex align-items-center job-detail-section-heading'>\r\n                                        <div className='job-detail-green-circle'><strong>1</strong></div>\r\n                                        <h1 className='job-detail-section-header'>Vessel Information</h1>\r\n                                    </div>\r\n\r\n                                    <FormGroup>\r\n                                        <Label className='job-detail-section-label'>Job Number</Label>\r\n                                        <Input type=\"text\" value={jobId} className='job-detail-section-input' disabled/>\r\n                                    </FormGroup>\r\n\r\n                                    <FormGroup>\r\n                                        <Label className='job-detail-section-label'>Vessel Loading Location</Label>\r\n                                        <Input type=\"select\" value={vesselLoadingLocation}\r\n                                               disabled\r\n                                               onChange={this.handleVesselLoadingLocationChange}\r\n                                               className='job-detail-section-input job-input-margin-btm '>\r\n                                            <option>PSA</option>\r\n                                            <option>Jurong Port</option>\r\n                                            <option>Others</option>\r\n                                        </Input>\r\n                                    </FormGroup>\r\n\r\n                                    {\r\n                                        vesselLoadingLocation === 'Others'\r\n                                            ? <FormGroup>\r\n                                                <Label className='job-create-section-label'>Address of Vessel Loading\r\n                                                    Location</Label>\r\n                                                <Input type=\"text\" value={otherVesselLocation}\r\n                                                       disabled={!this.state.jobEdit}\r\n                                                       onChange={this.handleOtherVesselLocationChange}\r\n                                                       className='job-create-section-input'\r\n                                                >\r\n                                                </Input>\r\n                                            </FormGroup>\r\n                                            : ''\r\n                                    }\r\n\r\n                                    {/*Lighter Implementation (Need Add Lighter Name and and Time and Location Model)*/}\r\n                                    {vesselLoadingLocation === 'Jurong Port'\r\n                                        ? <div>\r\n                                            <FormGroup style={{marginBottom: '0px'}}>\r\n                                                <Label className='job-detail-section-label'>Lighter Name\r\n                                                    (Optional)</Label>\r\n                                                <Input type=\"text\"\r\n                                                       onChange={this.handleVesselLighterNameChange}\r\n                                                       value={vesselLighterName}\r\n                                                       disabled={!this.state.jobEdit}\r\n                                                       className='job-detail-section-input'/>\r\n                                            </FormGroup>\r\n                                            {/*<FormGroup style={{marginBottom: '0px'}}>*/}\r\n                                            {/*    <Label className='job-detail-section-label'>Lighter ETA</Label>*/}\r\n                                            {/*    <Container fluid style={{paddingRight: \"0px\", paddingLeft: '0px'}}>*/}\r\n                                            {/*        <Row>*/}\r\n                                            {/*            <Col xs={7}>*/}\r\n                                            {/*                <DateInputComponent DateTime={vesselLighterDateTime}*/}\r\n                                            {/*                                    handleDateChange={this.handleVesselLighterDateChange}*/}\r\n                                            {/*                                    disabled={!this.state.jobEdit}/>*/}\r\n                                            {/*            </Col>*/}\r\n                                            {/*            <Col xs={5}>*/}\r\n                                            {/*                <TimePicker*/}\r\n                                            {/*                    showSecond={false}*/}\r\n                                            {/*                    value={vesselLighterTime}*/}\r\n                                            {/*                    onChange={this.handleVesselLighterTimeChange}*/}\r\n                                            {/*                    allowEmpty={false}*/}\r\n                                            {/*                    disabled={!this.state.jobEdit}*/}\r\n                                            {/*                    className='job-detail-section-input'*/}\r\n                                            {/*                />*/}\r\n                                            {/*            </Col></Row></Container>*/}\r\n                                            {/*</FormGroup>*/}\r\n                                            <FormGroup>\r\n                                                <Label className='job-detail-section-label'>Lighter Location</Label>\r\n                                                <Input type=\"select\" value={vesselLighterLocation}\r\n                                                       disabled={!this.state.jobEdit}\r\n                                                       onChange={this.handleVesselLighterLocationChange}\r\n                                                       className='job-detail-section-input job-input-margin-btm '>\r\n                                                    <option>Marina South Wharves</option>\r\n                                                    <option>Penjuru Terminal</option>\r\n                                                </Input>\r\n                                            </FormGroup>\r\n                                            <FormGroup>\r\n                                                <Label className='job-detail-section-label'>Lighter Contact Remarks\r\n                                                    (Optional)</Label>\r\n                                                <Input type=\"textarea\" value={vesselLighterRemarks} rows=\"3\"\r\n                                                       className='job-detail-section-input' style={{marginBottom: 0}}\r\n                                                       onChange={this.handleVesselLighterRemarksChange}\r\n                                                       disabled={!this.state.jobEdit}/>\r\n                                                <span className='job-detail-section-label-helper-text'><i>Please enter contact details for lighter here</i></span>\r\n                                            </FormGroup>\r\n                                        </div>\r\n                                        : ''\r\n                                    }\r\n\r\n\r\n                                    <FormGroup>\r\n                                        <Label className='job-detail-section-label'>Vessel IMO</Label>\r\n                                        <Input type=\"text\" className='job-detail-section-input'\r\n                                               value={vessel.vesselIMOID} disabled/>\r\n                                    </FormGroup>\r\n\r\n                                    <FormGroup>\r\n                                        <Label className='job-detail-section-label'>Vessel Callsign</Label>\r\n                                        <Input type=\"text\" className='job-detail-section-input'\r\n                                               value={vessel.vesselCallsign} disabled/>\r\n                                    </FormGroup>\r\n\r\n                                    <FormGroup>\r\n                                        <Label className='job-detail-section-label'>Vessel Name</Label>\r\n                                        <Input type=\"text\" className='job-detail-section-input'\r\n                                               value={vessel.vesselName} disabled/>\r\n                                    </FormGroup>\r\n                                </Col>\r\n                            </Row>\r\n                            <Divider className='job-detail-section-divider'/>\r\n                            {this.renderJobTimeDetails()}\r\n                            <Row>\r\n                                <Col xs={12} sm={6}>\r\n                                    <div className='d-flex align-items-center job-detail-section-heading'>\r\n                                        <div className='job-detail-green-circle'><strong>3</strong></div>\r\n                                        <h1 className='job-detail-section-header'>Delivery Details</h1>\r\n                                    </div>\r\n                                    <FormRB.Group>\r\n                                        <FormRB.Label className='job-detail-section-label'>Items to\r\n                                            Deliver</FormRB.Label>\r\n                                        <FormRB.Control as=\"input\"\r\n                                                        value={jobItemText.join(', ')}\r\n                                                        onClick={(e) => {\r\n                                                            this.setState({ItemsDeliverAnchorEl: e.currentTarget})\r\n                                                        }}\r\n                                                        disabled={!this.state.jobEdit}\r\n                                                        className='job-detail-section-input margin-bottom-zero'>\r\n                                        </FormRB.Control>\r\n                                        <span className='job-detail-section-label-helper-text'><i>Do let us know if you have refrigeration,fragile,etc items in the remarks</i></span>\r\n                                        <Popover\r\n                                            open={openDeliver}\r\n                                            anchorEl={this.state.ItemsDeliverAnchorEl}\r\n                                            onClose={this.handleDeliverClose}\r\n                                            anchorOrigin={{\r\n                                                vertical: 'bottom',\r\n                                                horizontal: 'left',\r\n                                            }}\r\n                                            transformOrigin={{\r\n                                                vertical: 'top',\r\n                                                horizontal: 'left',\r\n                                            }}\r\n                                        >\r\n                                            <JobItemInput jobItems={jobItems} setItems={(jobItems) => {\r\n                                                const job = this.state.job;\r\n                                                if (currentCareOffParty !== null) {\r\n                                                    currentCareOffParty.jobItems = jobItems;\r\n                                                } else {\r\n                                                    job.jobItems = jobItems;\r\n                                                }\r\n                                                this.setState({job});\r\n                                            }} disabled={!this.state.jobEdit}\r\n                                                          type={'delivery'}/>\r\n\r\n                                        </Popover>\r\n                                    </FormRB.Group>\r\n\r\n                                    <FormRB.Group>\r\n                                        <FormRB.Label className='job-detail-section-label'>Items to\r\n                                            Offland</FormRB.Label>\r\n                                        <FormRB.Control as=\"input\"\r\n                                                        value={jobOfflandItemsText.join(', ')}\r\n                                                        onClick={(e) => {\r\n                                                            this.setState({ItemsOfflandAnchorEl: e.currentTarget})\r\n                                                        }}\r\n                                                        disabled={!this.state.jobEdit}\r\n                                                        className='job-detail-section-input'>\r\n                                        </FormRB.Control>\r\n                                        <Popover\r\n                                            open={openOffland}\r\n                                            anchorEl={this.state.ItemsOfflandAnchorEl}\r\n                                            onClose={this.handleOfflandClose}\r\n                                            anchorOrigin={{\r\n                                                vertical: 'bottom',\r\n                                                horizontal: 'left',\r\n                                            }}\r\n                                            transformOrigin={{\r\n                                                vertical: 'top',\r\n                                                horizontal: 'left',\r\n                                            }}\r\n                                        >\r\n                                            <JobItemInput jobItems={jobOfflandItems}\r\n                                                          setItems={(jobOfflandItems) => {\r\n                                                              const job = this.state.job;\r\n                                                              if (currentCareOffParty !== null) {\r\n                                                                  currentCareOffParty.jobOfflandItems = jobOfflandItems;\r\n                                                              } else {\r\n                                                                  job.jobOfflandItems = jobOfflandItems;\r\n                                                              }\r\n                                                              this.setState({job});\r\n                                                          }} disabled={!this.state.jobEdit}/>\r\n\r\n                                        </Popover>\r\n                                    </FormRB.Group>\r\n\r\n                                    {/*<FormGroup>*/}\r\n                                    {/*    <Label><strong>Care-off Parties (If any)</strong></Label>*/}\r\n                                    {/*    <CareOffTableInput items={careOffParties} setItems={(careOffParties) => {*/}\r\n                                    {/*        const job = this.state.job;*/}\r\n                                    {/*        job.careOffParties = careOffParties;*/}\r\n                                    {/*        this.setState({job});*/}\r\n                                    {/*    }} disabled={!this.state.jobEdit} />*/}\r\n                                    {/*</FormGroup>*/}\r\n\r\n                                    <FormGroup>\r\n                                        <Label className='job-detail-section-label'>Remarks</Label>\r\n                                        <Input type=\"textarea\" value={remarks} rows=\"7\"\r\n                                               className='job-detail-section-input margin-bottom-zero'\r\n                                               onChange={this.handleRemarksChange} disabled={!this.state.jobEdit}/>\r\n                                        <span className='job-create-section-label-helper-text'><i>* Please let us know if you require any pick up and pick up location.</i></span>\r\n                                    </FormGroup>\r\n                                    {/*Implement help apply for DSA*/}\r\n                                    <FormControlLabel\r\n                                        value=\"dsa\"\r\n                                        control={<Checkbox color=\"default\" checked={createDSA}\r\n                                                           className='create-dsa-checkbox'/>}\r\n                                        label={renderText()}\r\n                                        onChange={this.handleCreateDSAChange}\r\n                                        disabled={!this.state.jobEdit}\r\n                                    />\r\n\r\n                                    {\r\n                                        this.state.jobEdit\r\n                                            ? <FormGroup className=\"text-center\">\r\n                                                <Button onClick={this.onSubmit}\r\n                                                        variant='success' className='job-details-save-button'>Save\r\n                                                    Changes</Button>\r\n                                                <Button onClick={(e) => this.setState({\r\n                                                    jobEdit: false,\r\n                                                    job: this.state.jobPrevState\r\n                                                })}\r\n                                                        variant='outline-success'\r\n                                                        className='job-details-cancel-button'>Cancel</Button>\r\n                                            </FormGroup>\r\n                                            : (this.state.job.jobTrackers.length > 1 && this.state.job.isCancelled !== \"Confirmed\") || this.props.auth.userType === \"Admin\"\r\n                                            ? <FormGroup className=\"text-center\">\r\n                                                <Button onClick={(e) =>\r\n                                                    this.setState({\r\n                                                        jobEdit: true,\r\n                                                        jobPrevState: JSON.parse(JSON.stringify(this.props.job))\r\n                                                    })}\r\n                                                        variant='success'\r\n                                                        className='job-details-update-button'>Edit</Button>\r\n                                            </FormGroup>\r\n                                            : \"\"\r\n                                    }\r\n                                </Col>\r\n                            </Row>\r\n                        </Container>\r\n                    </Form>\r\n                </Paper>\r\n\r\n                <InformationModal\r\n                    modal={this.state.jobUpdatedModal}\r\n                    toggle={(e) => this.setState({jobUpdatedModal: !this.state.jobUpdatedModal})}\r\n                    title=\"Job Changes saved.\"\r\n                    onClosed={(e) => this.setState({jobUpdatedModal: false})}\r\n                >\r\n                    <p>Your changes to the job details has been successfully saved.</p>\r\n                </InformationModal>\r\n\r\n                <AffirmationModal\r\n                    modal={this.state.showJobUpdateModal}\r\n                    toggle={(e) => this.setState({showJobUpdateModal: !this.state.showJobUpdateModal})}\r\n                    title=\"Save Changes?\"\r\n                    affirmativeAction={(e) => {\r\n                        this.setState({\r\n                            showJobUpdateModal: !this.state.showJobUpdateModal,\r\n                            jobEdit: !this.state.jobEdit\r\n                        });\r\n                        this.saveJobDetails();\r\n                    }}\r\n                    affirmativeText={'Yes'}\r\n                    cancelText={'No'}\r\n                >\r\n                    <p>Do you want to save changes? A notification will be sent to all parties involved.</p>\r\n                </AffirmationModal>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nconst mapStateToProps = ({auth}) => {\r\n    return {auth};\r\n};\r\n\r\nexport default withRouter(connect(mapStateToProps)(JobDetailsCard));","import React, { Component } from \"react\";\r\n\r\nclass FileDropzone extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.fileInputRef = React.createRef();\r\n  }\r\n\r\n  state = {\r\n    highlight: false\r\n  };\r\n\r\n  openFileDialog = () => {\r\n    if (this.props.disabled) return;\r\n    this.fileInputRef.current.click();\r\n  };\r\n\r\n  fileListToArray = list => {\r\n    const array = [];\r\n    for (let i = 0; i < list.length; i++) {\r\n      array.push(list.item(i));\r\n    }\r\n    return array;\r\n  };\r\n\r\n  onFilesAdded = evt => {\r\n    if (this.props.disabled) return;\r\n    const files = evt.target.files;\r\n    if (this.props.onFilesAdded) {\r\n      const array = this.fileListToArray(files);\r\n      this.props.onFilesAdded(array);\r\n    }\r\n  };\r\n\r\n  onDragOver = evt => {\r\n    evt.preventDefault();\r\n\r\n    if (this.props.disabled) return;\r\n    this.setState({ highlight: true });\r\n  };\r\n\r\n  onDragLeave = () => {\r\n    this.setState({ highlight: false });\r\n  };\r\n\r\n  onDrop = e => {\r\n    e.preventDefault();\r\n\r\n    if (this.props.disabled) return;\r\n\r\n    const files = e.dataTransfer.files;\r\n    if (this.props.onFilesAdded) {\r\n      const array = this.fileListToArray(files);\r\n      this.props.onFilesAdded(array);\r\n    }\r\n    this.setState({ highlight: false });\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <div\r\n        className={`job-file-upload-dropzone ${\r\n          this.state.highlight ? \"job-file-upload-highlight\" : \"\"\r\n        }`}\r\n        onDragOver={this.onDragOver}\r\n        onDragLeave={this.onDragLeave}\r\n        onDrop={this.onDrop}\r\n        onClick={this.openFileDialog}\r\n        style={{ cursor: this.props.disabled ? \"default\" : \"pointer\" }}\r\n      >\r\n        <img\r\n          alt=\"upload\"\r\n          className=\"job-file-upload-icon\"\r\n          src=\"./images/assets/job/baseline-cloud_upload-24px.svg\"\r\n        />\r\n        <input\r\n          ref={this.fileInputRef}\r\n          className=\"job-file-upload-fileInput\"\r\n          type=\"file\"\r\n          multiple\r\n          onChange={this.onFilesAdded}\r\n        />\r\n        <span style={{ color: \"#686868\" }}>\r\n          <strong>\r\n            Drop file here to attach or{\" \"}\r\n            <span style={{ textDecoration: \"underline\" }}>browse</span>\r\n          </strong>\r\n        </span>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default FileDropzone;\r\n","import React, { Component } from \"react\";\r\n\r\nimport FileDropzone from \"./FileDropzone\";\r\nimport { FaFileDownload } from \"react-icons/fa\";\r\nimport ButtonGroup from \"@material-ui/core/ButtonGroup\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport EditIcon from \"@material-ui/core/SvgIcon/SvgIcon\";\r\n\r\nclass FileUpload extends Component {\r\n  state = {\r\n    uploading: false,\r\n    hover: false\r\n  };\r\n\r\n  handleOnMouseEnter = () => {\r\n    this.setState({ hover: true });\r\n  };\r\n\r\n  handleOnMouseOut = () => {\r\n    this.setState({ hover: false });\r\n  };\r\n\r\n  renderUploadDisplay = () => {\r\n    return (\r\n      <div\r\n        className=\"job-file-upload-files-upload-section\"\r\n        style={{ marginBottom: 10 }}\r\n      >\r\n        <div className=\"job-file-upload-files-content\">\r\n          {this.props.file === null ? (\r\n            <FileDropzone\r\n              onFilesAdded={this.props.onFilesAdded}\r\n              disabled={false}\r\n            />\r\n          ) : (\r\n            <div\r\n              onMouseEnter={this.handleOnMouseEnter}\r\n              onMouseLeave={this.handleOnMouseOut}\r\n              style={{ width: \"20%\" }}\r\n            >\r\n              <div\r\n                className=\"d-flex flex-column align-items-center file-icon-background justify-content-center\"\r\n                style={{ height: \"140px\", padding: 8 }}\r\n              >\r\n                <FaFileDownload className=\"job-details-file-icon\" />\r\n                <p className=\"text-center\">{this.props.file.name}</p>\r\n              </div>\r\n            </div>\r\n          )}\r\n        </div>\r\n      </div>\r\n    );\r\n  };\r\n\r\n  render() {\r\n    return <div>{this.renderUploadDisplay()}</div>;\r\n  }\r\n}\r\n\r\nexport default FileUpload;\r\n","import React, { Component } from \"react\";\r\nimport { FaFileDownload } from \"react-icons/fa\";\r\nimport CloseIcon from \"@material-ui/icons/Close\";\r\nimport EditIcon from \"@material-ui/icons/Edit\";\r\nimport ButtonGroup from \"@material-ui/core/ButtonGroup\";\r\nimport Button from \"@material-ui/core/Button\";\r\n\r\nclass FileDisplay extends Component {\r\n  state = {\r\n    hover: false,\r\n    edit: false\r\n  };\r\n\r\n  handleOnMouseEnter = () => {\r\n    this.setState({ hover: true });\r\n  };\r\n\r\n  handleOnMouseOut = () => {\r\n    this.setState({ hover: false });\r\n  };\r\n\r\n  handleEdit = () => {\r\n    this.setState({ edit: true });\r\n  };\r\n\r\n  onKeyDown = e => {\r\n    if (e.keyCode === 13) {\r\n      this.setState({ edit: false });\r\n    }\r\n  };\r\n\r\n  render() {\r\n    const { jobFile } = this.props;\r\n\r\n    return (\r\n      <div\r\n        onMouseEnter={this.handleOnMouseEnter}\r\n        onMouseLeave={this.handleOnMouseOut}\r\n        style={{ width: \"20%\" }}\r\n      >\r\n        {!this.state.hover ? (\r\n          <div className=\"d-flex flex-column align-items-center file-icon-background justify-content-center\">\r\n            <a href={jobFile.fileURL}>\r\n              <FaFileDownload className=\"job-details-file-icon\" />\r\n            </a>\r\n            {this.state.edit ? (\r\n              <input\r\n                onChange={e => this.props.handleDocumentTitleChange(e, jobFile)}\r\n                onKeyDown={this.onKeyDown}\r\n              />\r\n            ) : (\r\n              <p>{jobFile.filename}</p>\r\n            )}\r\n          </div>\r\n        ) : (\r\n          <div className=\"d-flex flex-column align-items-center file-icon-background\">\r\n            <a href={jobFile.fileURL}>\r\n              <FaFileDownload className=\"job-details-file-icon\" />\r\n            </a>\r\n            {this.state.edit ? (\r\n              <input\r\n                onChange={e => this.props.handleDocumentTitleChange(e, jobFile)}\r\n                onKeyDown={this.onKeyDown}\r\n              />\r\n            ) : (\r\n              <p>{jobFile.filename}</p>\r\n            )}\r\n            <ButtonGroup>\r\n              <Button onClick={this.handleEdit} style={{ border: \"none\" }}>\r\n                <EditIcon />\r\n              </Button>\r\n              <Button\r\n                onClick={() => this.props.handleSingleDelete(jobFile)}\r\n                style={{ border: \"none\" }}\r\n              >\r\n                <CloseIcon />\r\n              </Button>\r\n            </ButtonGroup>\r\n          </div>\r\n        )}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default FileDisplay;\r\n","import React, {Component} from 'react';\r\nimport axios from 'axios';\r\n\r\nimport Radio from '@material-ui/core/Radio';\r\nimport RadioButtonUncheckedIcon from '@material-ui/icons/RadioButtonUnchecked';\r\nimport RadioButtonCheckedIcon from '@material-ui/icons/RadioButtonChecked';\r\nimport RadioGroup from '@material-ui/core/RadioGroup';\r\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\r\nimport FormControl from '@material-ui/core/FormControl';\r\nimport FormLabel from '@material-ui/core/FormLabel';\r\n\r\nimport Form from 'react-bootstrap/Form';\r\nimport Button from 'react-bootstrap/Button'\r\nimport FileUpload from \"./FileUpload\";\r\nimport FileDisplay from \"./FileDisplay\";\r\n\r\nimport './FileUploadSection.css';\r\nimport Col from \"react-bootstrap/Col\";\r\nimport {withRouter} from \"react-router-dom\";\r\nimport {connect} from \"react-redux\";\r\nimport {FormText} from \"reactstrap\";\r\n\r\nclass FileUploadSection extends Component {\r\n\r\n    state = {\r\n        requirements: {needPrintCopy: 'yes', signAndReturn: 'yes'},\r\n        remarks: '',\r\n        filename: '',\r\n        numCopies: 1,\r\n        documentType: 'Choose from Computer',\r\n        file: null,\r\n    };\r\n\r\n    componentDidMount() {\r\n        const jobFile = this.props.jobFile;\r\n        const req = this.state.requirements;\r\n        if (this.retrieveRequirement(this.props.jobFile, 'needPrintCopy').check) {\r\n            req.needPrintCopy = \"yes\";\r\n        } else {\r\n            req.needPrintCopy = \"no\";\r\n        }\r\n        if (this.retrieveRequirement(this.props.jobFile, 'signAndReturn').check) {\r\n            req.signAndReturn = \"yes\";\r\n        } else {\r\n            req.signAndReturn = \"no\";\r\n        }\r\n        this.setState({\r\n            remarks: jobFile.remarks,\r\n            filename: jobFile.filename,\r\n            numCopies: jobFile.numCopies,\r\n            requirements: req,\r\n        });\r\n\r\n    }\r\n\r\n    retrieveRequirement = (jobFile, key) => {\r\n        const {requirements} = jobFile;\r\n        for (let i = 0; i < requirements.length; i++) {\r\n            const requirement = requirements[i];\r\n            if (requirement.key === key) {\r\n                return requirement;\r\n            }\r\n        }\r\n\r\n        const fullRequirements = this.loadRequirements();\r\n        for (let i = 0; i < fullRequirements.length; i++) {\r\n            const requirement = fullRequirements[i];\r\n            if (requirement.key === key) {\r\n                const jobFileRequirements = jobFile.requirements;\r\n                jobFileRequirements.push(requirement);\r\n                jobFile.requirements = jobFileRequirements;\r\n                return requirement;\r\n            }\r\n        }\r\n    };\r\n\r\n    updateRequirement = (jobFile, key, boolean) => {\r\n        const newRequirements = [];\r\n        for (let i = 0; i < jobFile.requirements.length; i++) {\r\n            const requirement = jobFile.requirements[i];\r\n            if (requirement.key === key) {\r\n                requirement.check = boolean;\r\n            }\r\n            newRequirements.push(requirement);\r\n        }\r\n        jobFile.requirements = newRequirements;\r\n    };\r\n\r\n    handlePrintCopyChange = (e) => {\r\n        this.setState({\r\n            requirements: {\r\n                needPrintCopy: e.target.value,\r\n                signAndReturn: this.state.requirements.signAndReturn\r\n            }\r\n        });\r\n    };\r\n\r\n    handleSignAndReturnChange = (e) => {\r\n        this.setState({\r\n            requirements: {\r\n                needPrintCopy: this.state.requirements.needPrintCopy,\r\n                signAndReturn: e.target.value\r\n            }\r\n        });\r\n    };\r\n\r\n    handleDocumentTitleChange = (e, jobFile) => {\r\n        jobFile.filename = e.target.value;\r\n        this.setState({filename: e.target.value});\r\n    };\r\n\r\n    handleUploadType = (e) => {\r\n        this.setState({documentType: e.target.value});\r\n    };\r\n\r\n    handleNumberOfCopiesChange = (e) => {\r\n        this.setState({numCopies: e.target.value});\r\n    };\r\n\r\n    handleRemarksChange = (e) => {\r\n        this.setState({remarks: e.target.value});\r\n    };\r\n\r\n    handleAddDocument = () => {\r\n        if(this.state.requirements.needPrintCopy === 'yes'){\r\n            const jobFile = this.props.jobFile;\r\n            jobFile.filename = this.state.filename;\r\n\r\n            if (this.state.requirements.needPrintCopy === 'yes') {\r\n                this.updateRequirement(jobFile, \"needPrintCopy\", true);\r\n            } else {\r\n                this.updateRequirement(jobFile, \"needPrintCopy\", false);\r\n            }\r\n\r\n            if (this.state.requirements.signAndReturn === 'yes') {\r\n                this.updateRequirement(jobFile, \"signAndReturn\", true);\r\n            } else {\r\n                this.updateRequirement(jobFile, \"signAndReturn\", false);\r\n            }\r\n\r\n            if (this.state.remarks === '') {\r\n                jobFile.remarks = 'NIL'\r\n            } else {\r\n                jobFile.remarks = this.state.remarks\r\n            }\r\n\r\n            jobFile.numCopies = this.state.numCopies;\r\n\r\n            const formData = new FormData();\r\n            formData.append(\"file\", this.state.file);\r\n            formData.append(\"jobFile\", JSON.stringify(jobFile));\r\n            formData.append(\"jobID\", this.props.job._id);\r\n            axios.post('/api/job_files/upload_document', formData, {\r\n                headers: {\r\n                    'Content-Type': 'multipart/form-data'\r\n                }\r\n            }).catch((err) => {\r\n                console.log(err);\r\n            }).finally(() => {\r\n                window.location.reload();\r\n            });\r\n        } else{\r\n\r\n            if (this.state.filename === '') {\r\n                alert(\"Document name cannot be empty\");\r\n                return;\r\n            }\r\n\r\n            const jobFile = this.props.jobFile;\r\n            jobFile.filename = this.state.filename;\r\n\r\n            if (this.state.requirements.needPrintCopy === 'yes') {\r\n                this.updateRequirement(jobFile, \"needPrintCopy\", true);\r\n            } else {\r\n                this.updateRequirement(jobFile, \"needPrintCopy\", false);\r\n            }\r\n\r\n            if (this.state.requirements.signAndReturn === 'yes') {\r\n                this.updateRequirement(jobFile, \"signAndReturn\", true);\r\n            } else {\r\n                this.updateRequirement(jobFile, \"signAndReturn\", false);\r\n            }\r\n\r\n            if (this.state.remarks === '') {\r\n                jobFile.remarks = 'NIL'\r\n            } else {\r\n                jobFile.remarks = this.state.remarks\r\n            }\r\n\r\n            jobFile.numCopies = this.state.numCopies;\r\n\r\n            axios.post('/api/job_files/',{\r\n                ...jobFile,\r\n                jobID:this.props.job._id,\r\n            }).catch((err) => {\r\n                console.log(err);\r\n            }).finally(() => {\r\n                window.location.reload();\r\n            });\r\n\r\n        }\r\n    };\r\n\r\n    handleEditDocument = () => {\r\n        if (this.state.filename === '') {\r\n            alert(\"File name cannot be empty\");\r\n            return;\r\n        }\r\n\r\n        const jobFile = this.props.jobFile;\r\n        jobFile.filename = this.state.filename;\r\n\r\n        if (this.state.requirements.needPrintCopy === 'yes') {\r\n            this.updateRequirement(jobFile, \"needPrintCopy\", true);\r\n        } else {\r\n            this.updateRequirement(jobFile, \"needPrintCopy\", false);\r\n        }\r\n\r\n        if (this.state.requirements.signAndReturn === 'yes') {\r\n            this.updateRequirement(jobFile, \"signAndReturn\", true);\r\n        } else {\r\n            this.updateRequirement(jobFile, \"signAndReturn\", false);\r\n        }\r\n\r\n        if (this.state.remarks === '') {\r\n            jobFile.remarks = 'NIL'\r\n        } else {\r\n            jobFile.remarks = this.state.remarks\r\n        }\r\n\r\n        jobFile.numCopies = this.state.numCopies;\r\n\r\n        this.props.successClose();\r\n    };\r\n\r\n    renderUpload() {\r\n        if (this.props.jobFile.fileURL !== \"\") {\r\n            return (\r\n                <FileDisplay jobFile={this.props.jobFile} handleSingleDelete={this.props.handleSingleDelete}\r\n                             handleDocumentTitleChange={this.handleDocumentTitleChange}/>\r\n            );\r\n        } else {\r\n            switch (this.state.documentType) {\r\n                case \"Choose from Computer\":\r\n                    return (<FileUpload\r\n                        job={this.props.job}\r\n                        onFilesAdded={(files) => {\r\n                            this.setState({file: files[0]});\r\n                        }}\r\n                        file={this.state.file}\r\n                    />);\r\n                default:\r\n                    return '';\r\n            }\r\n        }\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <Form>\r\n                <FormControl>\r\n                    <FormLabel className='job-file-upload-label'>Do you want us to print copy/copies and bring it to the\r\n                        vessel?</FormLabel>\r\n                    <RadioGroup\r\n                        value={this.state.requirements.needPrintCopy}\r\n                        onChange={this.handlePrintCopyChange}\r\n                        row\r\n                    >\r\n                        <FormControlLabel value=\"yes\" control={<Radio color=\"default\" icon={<RadioButtonUncheckedIcon\r\n                            fontSize=\"small\"/>} checkedIcon={<RadioButtonCheckedIcon fontSize=\"small\"\r\n                                                                                     className='green-radio'/>}/>}\r\n                                          label=\"Yes\"/>\r\n                        <FormControlLabel value=\"no\" control={<Radio color=\"default\"\r\n                                                                     icon={<RadioButtonUncheckedIcon fontSize=\"small\"/>}\r\n                                                                     checkedIcon={<RadioButtonCheckedIcon\r\n                                                                         fontSize=\"small\" className='green-radio'/>}/>}\r\n                                          label=\"No\"/>\r\n                    </RadioGroup>\r\n                </FormControl>\r\n                <br/>\r\n                <FormControl>\r\n                    <FormLabel className='job-file-upload-label'>Do you need the document to be signed and\r\n                        return?</FormLabel>\r\n                    <RadioGroup\r\n                        value={this.state.requirements.signAndReturn}\r\n                        onChange={this.handleSignAndReturnChange}\r\n                        row\r\n                    >\r\n                        <FormControlLabel value=\"yes\" control={<Radio color=\"default\" icon={<RadioButtonUncheckedIcon\r\n                            fontSize=\"small\"/>} checkedIcon={<RadioButtonCheckedIcon fontSize=\"small\"\r\n                                                                                     className='green-radio'/>}/>}\r\n                                          label=\"Yes\"/>\r\n                        <FormControlLabel value=\"no\" control={<Radio color=\"default\"\r\n                                                                     icon={<RadioButtonUncheckedIcon fontSize=\"small\"/>}\r\n                                                                     checkedIcon={<RadioButtonCheckedIcon\r\n                                                                         fontSize=\"small\" className='green-radio'/>}/>}\r\n                                          label=\"No\"/>\r\n                    </RadioGroup>\r\n                </FormControl>\r\n\r\n                {this.state.requirements.needPrintCopy === 'yes' ?\r\n                    <div>\r\n\r\n                        <Form.Group className='d-flex flex-column'>\r\n                            <div className='d-flex align-items-center'>\r\n                            <Form.Label className='job-file-upload-label'>Attachment</Form.Label>\r\n                            <Form.Control as=\"select\" onChange={this.handleUploadType}\r\n                                          className='job-file-upload-attach-input'>\r\n                                <option>Choose from Computer</option>\r\n                                {/*<option>Google Drive</option>*/}\r\n                                {/*<option>DropBox</option>*/}\r\n                            </Form.Control>\r\n                            </div>\r\n                            <Form.Label className='job-detail-section-label-helper-text' style={{marginTop: 5}}>*Please ensure the documents uploaded are clear</Form.Label>\r\n                        </Form.Group>\r\n\r\n                        {this.renderUpload()}\r\n\r\n                    </div> :\r\n                    <Col xs={12} sm={6} className='col-no-padding'>\r\n                        <Form.Group className='d-flex flex-column'>\r\n                            <Form.Label className='job-file-upload-label' style={{marginBottom:0}}>Document Name</Form.Label>\r\n                            <Form.Label className='job-detail-section-label-helper-text' style={{marginTop: 5}}>*Please ensure the documents printed are clear</Form.Label>\r\n                            <Form.Control as=\"input\" placeholder='Enter Document Name'\r\n                                          type='text'\r\n                                          onChange={(e)=>this.handleDocumentTitleChange(e, this.props.jobFile)} value={this.state.filename}\r\n                                          className='job-file-upload-remarks-input'>\r\n                            </Form.Control>\r\n                        </Form.Group>\r\n                    </Col>\r\n                }\r\n\r\n                <Form.Group>\r\n                    <Form.Label className='job-file-upload-label'>Number of Copies</Form.Label>\r\n                    <Col xs={4} sm={2} className='col-no-padding'>\r\n                        <Form.Control as=\"input\" type='number' min=\"0\" onChange={this.handleNumberOfCopiesChange}\r\n                                      value={this.state.numCopies}\r\n                                      className='job-file-upload-numcopies-input'>\r\n                        </Form.Control>\r\n                    </Col>\r\n                </Form.Group>\r\n\r\n                <Col xs={12} sm={6} className='col-no-padding'>\r\n                    <Form.Group>\r\n                        <Form.Label className='job-file-upload-label'>Remarks (Optional)</Form.Label>\r\n                        <Form.Control as=\"textarea\" rows=\"4\" placeholder='Write any additional instructions '\r\n                                      type='text'\r\n                                      onChange={this.handleRemarksChange} value={this.state.remarks}\r\n                                      className='job-file-upload-remarks-input'>\r\n                        </Form.Control>\r\n                    </Form.Group>\r\n                </Col>\r\n                <div className='d-flex align-items-center justify-content-center' style={{marginTop: '20px'}}>\r\n                    <Button variant='outline-success' className='job-file-upload-cancel-btn'\r\n                            onClick={(e) => this.props.handleCancel(this.props.type)}>Cancel</Button>\r\n                    {this.props.type === 'upload' ?\r\n                        <Button variant='success' className='job-file-upload-submit-btn'\r\n                                onClick={this.handleAddDocument}>Submit</Button>\r\n                        : <Button variant='success' className='job-file-upload-submit-btn'\r\n                                  onClick={this.handleEditDocument}>Update</Button>}\r\n                </div>\r\n            </Form>\r\n        );\r\n    }\r\n\r\n}\r\n\r\nconst mapStateToProps = ({auth}) => {\r\n    return {auth};\r\n};\r\n\r\nexport default withRouter(connect(mapStateToProps)(FileUploadSection));\r\n","import React, { Fragment } from \"react\";\r\nimport { faDownload } from \"@fortawesome/free-solid-svg-icons\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport axios from \"axios\";\r\n\r\nconst FileDownloader = ({ files, children }) => {\r\n  const downloadSelectedFiles = e => {\r\n    e.stopPropagation();\r\n    if (files.length > 0) {\r\n      axios\r\n        .post(\r\n          `/api/job_files/files/download`,\r\n          {\r\n            jobFileUrls: files\r\n          },\r\n          { responseType: \"arraybuffer\" }\r\n        )\r\n        .then(res => {\r\n          let blob = new Blob([res.data], {\r\n            type: \"application/zip\"\r\n          });\r\n\r\n          const downloadUrl = URL.createObjectURL(blob);\r\n          let a = document.createElement(\"a\");\r\n          a.href = downloadUrl;\r\n          a.download = \"document.zip\";\r\n          document.body.appendChild(a);\r\n          a.click();\r\n          a.remove();\r\n        })\r\n        .catch(err => {\r\n          console.log(err.error);\r\n        });\r\n    } else if (Object.keys(files).length > 0) {\r\n      window.open(files.fileURL, \"_blank\");\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Fragment>\r\n      {(files.length > 0 || Object.keys(files).length > 0) && (\r\n        <span\r\n          className=\"file-downloader-container\"\r\n          onClick={e => downloadSelectedFiles(e)}\r\n        >\r\n          <FontAwesomeIcon icon={faDownload} /> {children}\r\n        </span>\r\n      )}\r\n    </Fragment>\r\n  );\r\n};\r\n\r\nexport default FileDownloader;\r\n","import React, { Fragment, useState } from \"react\";\r\nimport Modal from \"react-bootstrap/Modal\";\r\nimport ModalBody from \"react-bootstrap/ModalBody\";\r\nimport FileDownloader from \"./FileDownloader\";\r\n\r\n// import { Document, Page } from \"react-pdf\";\r\nimport \"./JobFileModal.css\";\r\n\r\n// import { pdfjs } from \"react-pdf\";\r\n// pdfjs.GlobalWorkerOptions.workerSrc = `//cdnjs.cloudflare.com/ajax/libs/pdf.js/${pdfjs.version}/pdf.worker.js`;\r\n\r\nconst JobFileModal = ({ file, showPreviewModal, setModalFlag }) => {\r\n  const fileUrlArray = file.fileURL.split(\".\");\r\n  const imageFileTypes = [\"jpeg.\", \"jpg\", \"png\", \"svg\", \"gif\"];\r\n  const docFileTypes = [\"docx\", \"doc\", \"xlsx\", \"pdf\"];\r\n  let fileType = \"\";\r\n  // if (fileUrlArray[fileUrlArray.length - 1] === \"pdf\") {\r\n  //     fileType = fileUrlArray[fileUrlArray.length - 1];\r\n  // }\r\n\r\n  if (\r\n    imageFileTypes.includes(fileUrlArray[fileUrlArray.length - 1].toLowerCase())\r\n  ) {\r\n    fileType = \"image\";\r\n  }\r\n\r\n  if (\r\n    docFileTypes.includes(fileUrlArray[fileUrlArray.length - 1].toLowerCase())\r\n  ) {\r\n    fileType = \"doc\";\r\n  }\r\n\r\n  let [pageTotal, setPageTotal] = useState(0);\r\n  const onDocumentLoadSuccess = ({ numPages }) => {\r\n    setPageTotal(numPages);\r\n  };\r\n\r\n  let [activePage, setActivePage] = useState(1);\r\n\r\n  const goToNextPage = e => {\r\n    if (activePage < pageTotal) setActivePage(++activePage);\r\n  };\r\n\r\n  const goToPreviousPage = e => {\r\n    if (activePage > 0) setActivePage(--activePage);\r\n  };\r\n\r\n  return (\r\n    <Fragment>\r\n      <Modal\r\n        show={showPreviewModal}\r\n        onHide={() => setModalFlag(false)}\r\n        dialogClassName=\"modal-90w file-preview-modal\"\r\n      >\r\n        <ModalBody>\r\n          <div>\r\n            <div\r\n              className=\"back-icon-container d-flex align-items-center\"\r\n              onClick={() => setModalFlag(false)}\r\n            >\r\n              <i className=\"material-icons\">arrow_back</i> {file.filename}\r\n            </div>\r\n            <div className=\"download-icon-container\">\r\n              <FileDownloader files={file}>Download</FileDownloader>\r\n            </div>\r\n            <div className=\"clearfix\" />\r\n          </div>\r\n          <div className=\"preview-container\">\r\n            {/* {fileType === \"pdf\" && (\r\n                            <Fragment>\r\n                                <Document\r\n                                    file={file.fileURL}\r\n                                    noData={<h4>Preview not Available</h4>}\r\n                                    onLoadSuccess={onDocumentLoadSuccess}\r\n                                >\r\n                                    {pageTotal && (\r\n                                        <Page pageNumber={activePage} />\r\n                                    )}\r\n                                </Document>\r\n                                <div className=\"preview-pagination-container\">\r\n                                    {activePage > 1 && (\r\n                                        <i\r\n                                            className=\"material-icons\"\r\n                                            onClick={() => goToPreviousPage()}\r\n                                        >\r\n                                            arrow_back_ios\r\n                                        </i>\r\n                                    )}\r\n                                    {`${activePage} of ${pageTotal}`}\r\n                                    {activePage < pageTotal && (\r\n                                        <i\r\n                                            className=\"material-icons\"\r\n                                            onClick={() => goToNextPage()}\r\n                                        >\r\n                                            arrow_forward_ios\r\n                                        </i>\r\n                                    )}\r\n                                </div>\r\n                            </Fragment>\r\n                        )} */}\r\n\r\n            {fileType === \"image\" && (\r\n              <img src={file.fileURL} alt={file.filename} />\r\n            )}\r\n\r\n            {fileType === \"doc\" && (\r\n              <iframe\r\n                title=\"document preview\"\r\n                className=\"document-container\"\r\n                src={`https://docs.google.com/viewer?url=${file.fileURL}&embedded=true`}\r\n              ></iframe>\r\n            )}\r\n\r\n            {fileType === \"\" && <h5>Preview not available</h5>}\r\n          </div>\r\n        </ModalBody>\r\n      </Modal>\r\n    </Fragment>\r\n  );\r\n};\r\n\r\nexport default JobFileModal;\r\n","import React from 'react';\r\nimport MaterialTable, {MTableBodyRow, MTableHeader} from \"material-table\";\r\nimport Paper from \"@material-ui/core/Paper\";\r\nimport IconButton from \"@material-ui/core/IconButton\";\r\nimport CreateIcon from '@material-ui/icons/Create';\r\nimport MoreIcon from '@material-ui/icons/MoreVert'\r\nimport ClearIcon from '@material-ui/icons/Clear';\r\nimport Dropdown from \"react-bootstrap/Dropdown\";\r\nimport LinesEllipsis from 'react-lines-ellipsis';\r\nimport SaveIcon from '@material-ui/icons/SaveAlt';\r\nimport PrintIcon from '@material-ui/icons/Print';\r\n\r\n\r\nimport './JobFileSummaryTable.css'\r\nimport JobFileModal from \"./FilePreview/JobFileModal\";\r\n\r\nfunction createData(job, name, copies, requirement, remarks) {\r\n    return {job, name, copies, requirement, remarks};\r\n}\r\n\r\nfunction retrieveRequirement(jobFile, key) {\r\n    const {requirements} = jobFile;\r\n    for (let i = 0; i < requirements.length; i++) {\r\n        const requirement = requirements[i];\r\n        if (requirement.key === key) {\r\n            return requirement;\r\n        }\r\n    }\r\n\r\n    const fullRequirements = this.loadRequirements();\r\n    for (let i = 0; i < fullRequirements.length; i++) {\r\n        const requirement = fullRequirements[i];\r\n        if (requirement.key === key) {\r\n            const jobFileRequirements = jobFile.requirements;\r\n            jobFileRequirements.push(requirement);\r\n            jobFile.requirements = jobFileRequirements;\r\n            this.jobFileChange(jobFile);\r\n            return requirement;\r\n        }\r\n    }\r\n};\r\n\r\n\r\nclass JobFileSummaryTable extends React.Component {\r\n\r\n    state = {\r\n        data: [],\r\n        hover: false,\r\n        hoverKey: '',\r\n        showDropdown: false,\r\n        file:null,\r\n        showModal:false,\r\n    };\r\n\r\n    componentWillReceiveProps(nextProps, nextContext) {\r\n        if (nextProps.refresh === true) {\r\n            this.setState({data: [],});\r\n            const rows = this.props.jobFiles.reduce((a, jobFile) => {\r\n                let needPrintCopy = retrieveRequirement(jobFile, 'needPrintCopy').check;\r\n                let signAndReturn = retrieveRequirement(jobFile, 'signAndReturn').check;\r\n                let req = 'No Requirement';\r\n                if (needPrintCopy && !signAndReturn) {\r\n                    req = 'Need Printed Copy'\r\n                }\r\n                if (signAndReturn && !needPrintCopy) {\r\n                    req = 'Sign and Return'\r\n                }\r\n                if (signAndReturn && needPrintCopy) {\r\n                    req = \"Need Printed Copy & Sign and Return\"\r\n                }\r\n                a.push(createData(jobFile, jobFile.filename, jobFile.numCopies, req, jobFile.remarks));\r\n                return a\r\n            }, []);\r\n            this.setState({data: rows})\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n        const rows = this.props.jobFiles.reduce((a, jobFile) => {\r\n            let needPrintCopy = retrieveRequirement(jobFile, 'needPrintCopy').check;\r\n            let signAndReturn = retrieveRequirement(jobFile, 'signAndReturn').check;\r\n            let req = 'No Requirement';\r\n            if (needPrintCopy && !signAndReturn) {\r\n                req = 'Need Printed Copy'\r\n            }\r\n            if (signAndReturn && !needPrintCopy) {\r\n                req = 'Sign and Return'\r\n            }\r\n            if (signAndReturn && needPrintCopy) {\r\n                req = \"Need Printed Copy & Sign and Return\"\r\n            }\r\n            a.push(createData(jobFile, jobFile.filename, jobFile.numCopies, req, jobFile.remarks));\r\n            return a\r\n        }, []);\r\n        this.setState({data: rows})\r\n    }\r\n\r\n    handleRowClick = (e, rd) => {\r\n        if (rd.job.fileURL && rd.job.fileURL !== '') {\r\n            this.setState({showModal:true,file:rd.job})\r\n        }\r\n    };\r\n\r\n    toggleModal = (value) =>{\r\n        this.setState({showModal:value})\r\n    };\r\n\r\n    handleDropdown = () => {\r\n        this.setState({showDropdown: !this.state.showDropdown})\r\n    };\r\n\r\n    handleDownload = (job) => {\r\n        if (job.fileURL !== '') {\r\n            window.open(job.fileURL);\r\n        }\r\n    };\r\n\r\n    render() {\r\n\r\n        return (\r\n            <div>\r\n                <MaterialTable\r\n                    columns={[\r\n                        {\r\n                            title: \"Name\", field: \"name\",\r\n                            render: rowData => (\r\n                                <LinesEllipsis\r\n                                    text={rowData.name}\r\n                                    maxLine='2'\r\n                                    ellipsis='...'\r\n                                    trimRight\r\n                                    basedOn='letters'\r\n                                />\r\n                            ),\r\n                        },\r\n                        {\r\n                            title: \"Copies\", field: \"copies\",\r\n                            cellStyle: {width:\"50px\"}\r\n                        },\r\n                        {\r\n                            title: \"Requirements\", field: \"requirement\",\r\n                            disableClick: true,\r\n                            render: rowData => (\r\n                                <div className='d-flex align-items-center remarks-container'>\r\n                                    <LinesEllipsis\r\n                                        text={rowData.requirement}\r\n                                        maxLine='2'\r\n                                        ellipsis='...'\r\n                                        trimRight\r\n                                        basedOn='letters'\r\n                                    />\r\n                                    <div className='hover-buttons'>\r\n                                        <IconButton onClick={() => {\r\n                                            this.props.editFile(rowData.job);\r\n                                        }}>\r\n                                            <CreateIcon fontSize=\"small\"/>\r\n                                        </IconButton>\r\n                                        <IconButton onClick={() => {\r\n                                            this.props.deleteFile(rowData.job);\r\n                                        }}>\r\n                                            <ClearIcon fontSize=\"small\"/>\r\n                                        </IconButton>\r\n                                        {/*<IconButton onClick={this.handleDropdown}>*/}\r\n                                        {/*    <MoreIcon fontSize=\"small\"/>*/}\r\n                                        {/*</IconButton>*/}\r\n                                        {/*<Dropdown show={this.state.showDropdown} alignRight drop='down'>*/}\r\n                                        {/*    <Dropdown.Menu>*/}\r\n                                        {/*        <Dropdown.Item onClick={() => {*/}\r\n                                        {/*            this.handleDownload(rowData.job)*/}\r\n                                        {/*        }}>Download</Dropdown.Item>*/}\r\n                                        {/*        /!*<Dropdown.Item>Rename</Dropdown.Item>*!/*/}\r\n                                        {/*    </Dropdown.Menu>*/}\r\n                                        {/*</Dropdown>*/}\r\n                                    </div>\r\n                                </div>\r\n                            )\r\n                        },\r\n                    ]}\r\n                    data={this.state.data}\r\n                    components={{\r\n                        Container: props => (\r\n                            <Paper {...props} elevation={0} style={{marginTop: '20px', minHeight: '60vh'}}/>\r\n                        ),\r\n                        Row: props => (\r\n                            <MTableBodyRow {...props}\r\n                                           // onMouseEnter={() => {\r\n                                           //\r\n                                           //     this.setState({hover: true, hoverKey: props.data.tableData.id})\r\n                                           // }}\r\n                                           // onMouseLeave={() => {\r\n                                           //     this.setState({hover: false, hoverKey: '', showDropdown: false})\r\n                                           // }}\r\n                                           className='row-hover'\r\n                            />\r\n                        ),\r\n\r\n                    }}\r\n                    options={{\r\n                        sorting: true,\r\n                        selection: true,\r\n                        headerStyle: {fontFamily: 'Roboto', fontSize: '16px', fontWeight: 'bold', color: '#707070'},\r\n                        rowStyle: {fontFamily: 'Roboto', fontSize: '14px', color: '#707070', height: '69px',},\r\n                        toolbarButtonAlignment: 'left',\r\n                        showTextRowsSelected: false,\r\n\r\n                    }}\r\n                    onRowClick={this.handleRowClick}\r\n                    title=''\r\n                    actions={[\r\n                        // {\r\n                        //     tooltip: 'Download Selected Items',\r\n                        //     icon: SaveIcon,\r\n                        //     onClick: (evt, data) => alert('You want to download ' + data.length + ' rows'),\r\n                        // },\r\n                        {\r\n                            tooltip: 'Delete Selected Items',\r\n                            icon: ClearIcon,\r\n                            onClick: (evt, data) => this.props.deleteMultipleFiles(data),\r\n                        },\r\n                        // {\r\n                        //     tooltip: 'Print Selected Items',\r\n                        //     icon: PrintIcon,\r\n                        //     onClick: (evt, data) => alert('You want to Print ' + data.length + ' rows'),\r\n                        // }\r\n                    ]}\r\n                />\r\n                {this.state.data.length>0 && this.state.file !== null && (\r\n                    <JobFileModal\r\n                        file={this.state.file}\r\n                        setModalFlag={value =>\r\n                            this.toggleModal(value)\r\n                        }\r\n                        showPreviewModal={this.state.showModal}\r\n                    />\r\n                )}\r\n            </div>\r\n\r\n\r\n        );\r\n    }\r\n}\r\n\r\nexport default JobFileSummaryTable;","import React, { Component } from \"react\";\r\nimport { Drawer } from \"@material-ui/core\";\r\nimport List from \"@material-ui/core/List\";\r\nimport ListItem from \"@material-ui/core/ListItem\";\r\nimport ListItemText from \"@material-ui/core/ListItemText\";\r\nimport Divider from \"@material-ui/core/Divider\";\r\nimport Paper from \"@material-ui/core/Paper\";\r\n\r\nclass JobFileSummaryTableMobileSlider extends Component {\r\n  handleDownload = job => {\r\n    if (job.fileURL !== \"\") {\r\n      window.open(job.fileURL);\r\n    }\r\n  };\r\n  render() {\r\n    return (\r\n      <Drawer\r\n        anchor=\"bottom\"\r\n        open={this.props.open}\r\n        onClose={this.props.onClose}\r\n        PaperProps={{\r\n          className:\r\n            \"MuiPaper-root MuiPaper-elevation16 MuiDrawer-paper MuiDrawer-paperAnchorBottom drawer-job-file-mobile\"\r\n        }}\r\n      >\r\n        <h3 onClick={this.props.onClose} className=\"job-slide-cancel\">\r\n          Cancel\r\n        </h3>\r\n        <Divider className=\"job-file-slider-drawer-divider\" />\r\n        <Paper elevation={0} className=\"job-file-slider-drawer-paper\">\r\n          <List>\r\n            <ListItem\r\n              button\r\n              onClick={() => {\r\n                this.props.onClose();\r\n                this.props.editFile(this.props.jobFile);\r\n              }}\r\n            >\r\n              <ListItemText>Edit</ListItemText>\r\n            </ListItem>\r\n          </List>\r\n          <List>\r\n            <ListItem button>\r\n              <ListItemText>Rename</ListItemText>\r\n            </ListItem>\r\n          </List>\r\n          <List>\r\n            <ListItem button onClick={this.handleDownload}>\r\n              <ListItemText>Download</ListItemText>\r\n            </ListItem>\r\n          </List>\r\n          <List>\r\n            <ListItem\r\n              button\r\n              onClick={() => {\r\n                this.props.onClose();\r\n                this.props.deleteFile(this.props.jobFile);\r\n              }}\r\n            >\r\n              <ListItemText style={{ color: \"red\" }}>Delete</ListItemText>\r\n            </ListItem>\r\n          </List>\r\n        </Paper>\r\n      </Drawer>\r\n    );\r\n  }\r\n}\r\n\r\nexport default JobFileSummaryTableMobileSlider;\r\n","import React from \"react\";\r\nimport MaterialTable from \"material-table\";\r\nimport Paper from \"@material-ui/core/Paper\";\r\nimport IconButton from \"@material-ui/core/IconButton\";\r\nimport MoreIcon from \"@material-ui/icons/MoreHoriz\";\r\nimport DeleteIcon from \"@material-ui/icons/Delete\";\r\n\r\nimport \"./JobFileSummaryTableMobile.css\";\r\nimport JobFileSummaryTableMobileSlider from \"./JobFileSummaryTableMobileSlider\";\r\n\r\nfunction createData(job, name, copies, requirement, remarks) {\r\n  return { job, name, copies, requirement, remarks };\r\n}\r\n\r\nfunction retrieveRequirement(jobFile, key) {\r\n  const { requirements } = jobFile;\r\n  for (let i = 0; i < requirements.length; i++) {\r\n    const requirement = requirements[i];\r\n    if (requirement.key === key) {\r\n      return requirement;\r\n    }\r\n  }\r\n\r\n  const fullRequirements = this.loadRequirements();\r\n  for (let i = 0; i < fullRequirements.length; i++) {\r\n    const requirement = fullRequirements[i];\r\n    if (requirement.key === key) {\r\n      const jobFileRequirements = jobFile.requirements;\r\n      jobFileRequirements.push(requirement);\r\n      jobFile.requirements = jobFileRequirements;\r\n      this.jobFileChange(jobFile);\r\n      return requirement;\r\n    }\r\n  }\r\n}\r\n\r\nclass JobFileSummaryTableMobile extends React.Component {\r\n  state = {\r\n    data: [],\r\n    showSlider: false,\r\n    jobFileSelected: null\r\n  };\r\n\r\n  componentWillReceiveProps(nextProps, nextContext) {\r\n    if (nextProps.refresh === true) {\r\n      this.setState({ data: [] });\r\n      const rows = this.props.jobFiles.reduce((a, jobFile) => {\r\n        let needPrintCopy = retrieveRequirement(jobFile, \"needPrintCopy\").check;\r\n        let signAndReturn = retrieveRequirement(jobFile, \"signAndReturn\").check;\r\n        let req = \"No Requirement\";\r\n        if (needPrintCopy && !signAndReturn) {\r\n          req = \"Need Print Copy\";\r\n        }\r\n        if (signAndReturn && !needPrintCopy) {\r\n          req = \"Sign and Return\";\r\n        }\r\n        if (signAndReturn && needPrintCopy) {\r\n          req = \"Need Print Copy & Sign and Return\";\r\n        }\r\n        a.push(\r\n          createData(\r\n            jobFile,\r\n            jobFile.filename,\r\n            jobFile.numCopies,\r\n            req,\r\n            jobFile.remarks\r\n          )\r\n        );\r\n        return a;\r\n      }, []);\r\n      this.setState({ data: rows });\r\n    }\r\n  }\r\n\r\n  componentDidMount() {\r\n    const rows = this.props.jobFiles.reduce((a, jobFile) => {\r\n      let needPrintCopy = retrieveRequirement(jobFile, \"needPrintCopy\").check;\r\n      let signAndReturn = retrieveRequirement(jobFile, \"signAndReturn\").check;\r\n      let req = \"No Requirement\";\r\n      if (needPrintCopy && !signAndReturn) {\r\n        req = \"Need Print Copy\";\r\n      }\r\n      if (signAndReturn && !needPrintCopy) {\r\n        req = \"Sign and Return\";\r\n      }\r\n      if (signAndReturn && needPrintCopy) {\r\n        req = \"Need Print Copy & Sign and Return\";\r\n      }\r\n      a.push(\r\n        createData(\r\n          jobFile,\r\n          jobFile.filename,\r\n          jobFile.numCopies,\r\n          req,\r\n          jobFile.remarks\r\n        )\r\n      );\r\n      return a;\r\n    }, []);\r\n    this.setState({ data: rows });\r\n  }\r\n\r\n  handleRowClick = (e, rd) => {\r\n    if (rd.jobFile.fileURL && rd.jobFile.fileURL !== \"\") {\r\n      window.open(rd.job.fileURL);\r\n    }\r\n  };\r\n\r\n  handleSlider = jobFile => {\r\n    this.setState({ showSlider: true, jobFileSelected: jobFile });\r\n  };\r\n\r\n  handleSliderClose = () => {\r\n    this.setState({ showSlider: false });\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <div>\r\n        <MaterialTable\r\n          columns={[\r\n            {\r\n              title: \"Name\",\r\n              field: \"name\",\r\n              render: rowData => (\r\n                <span className=\"job-table-text\">{rowData.name}</span>\r\n              ),\r\n              cellStyle: {\r\n                paddingRight: \"16px\"\r\n              }\r\n            },\r\n            {\r\n              title: \"\",\r\n              field: \"name\",\r\n              disableClick: true,\r\n              sorting: false,\r\n              render: rowData => (\r\n                <IconButton\r\n                  onClick={e => {\r\n                    this.handleSlider(rowData.job);\r\n                  }}\r\n                >\r\n                  <MoreIcon />\r\n                </IconButton>\r\n              ),\r\n              cellStyle: {\r\n                paddingRight: \"16px\"\r\n              }\r\n            }\r\n          ]}\r\n          data={this.state.data}\r\n          components={{\r\n            Container: props => (\r\n              <Paper\r\n                {...props}\r\n                elevation={0}\r\n                style={{ marginTop: \"20px\", minHeight: \"60vh\" }}\r\n              />\r\n            )\r\n          }}\r\n          options={{\r\n            sorting: true,\r\n            selection: true,\r\n            headerStyle: {\r\n              fontFamily: \"Roboto\",\r\n              fontSize: \"16px\",\r\n              fontWeight: \"bold\",\r\n              color: \"#707070\"\r\n            },\r\n            rowStyle: {\r\n              fontFamily: \"Roboto\",\r\n              fontSize: \"14px\",\r\n              color: \"#707070\",\r\n              height: \"69px\"\r\n            },\r\n            toolbarButtonAlignment: \"left\",\r\n            showTextRowsSelected: false,\r\n            showTitle: false,\r\n            paging: false\r\n          }}\r\n          onRowClick={this.handleRowClick}\r\n          actions={[\r\n            {\r\n              tooltip: \"Delete Selected Items\",\r\n              icon: DeleteIcon,\r\n              onClick: (evt, data) => this.props.deleteMultipleFiles(data)\r\n            }\r\n          ]}\r\n        />\r\n        <JobFileSummaryTableMobileSlider\r\n          jobFile={this.state.jobFileSelected}\r\n          open={this.state.showSlider}\r\n          onClose={this.handleSliderClose}\r\n          editFile={this.props.editFile}\r\n          deleteFile={this.props.deleteFile}\r\n        />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default JobFileSummaryTableMobile;\r\n","import React, {Component} from 'react';\r\nimport axios from 'axios';\r\nimport {withRouter} from \"react-router-dom\";\r\nimport {connect} from \"react-redux\";\r\n\r\nimport '../JobDetails.css';\r\n\r\nimport FileUploadSection from \"./FileUploadSection\"\r\nimport AffirmationModal from \"../../../ui/Modal/AffirmationModal\";\r\n\r\nimport {Paper} from '@material-ui/core';\r\n\r\nimport JobFileSummaryTable from \"./JobFileSummaryTable\";\r\nimport {FontAwesomeIcon} from \"@fortawesome/react-fontawesome\";\r\nimport {faPlusSquare} from \"@fortawesome/free-regular-svg-icons\";\r\nimport MediaQuery from \"react-responsive\";\r\nimport JobFileSummaryTableMobile from \"./JobFileSummaryTableMobile\";\r\n\r\n\r\nclass JobFilesDisplay extends Component {\r\n    state = {\r\n        jobFiles: null,\r\n        editJobFile: null,\r\n        showJobFileDeleteModal: false,\r\n        jobFileToDelete: [],\r\n        activeScreen: 'showFiles',\r\n        selectOption: true,\r\n        refresh: false,\r\n        numPages: null,\r\n        pageNumber: 1,\r\n    };\r\n\r\n    componentDidMount() {\r\n        this.getJobFiles();\r\n    }\r\n\r\n    getJobFiles = () => {\r\n        axios.get(`/api/job_files?jobID=${this.props.job._id}`).then(res => {\r\n            const jobFiles = res.data;\r\n            const userJobFiles = jobFiles.filter(o=> o.user === this.props.auth.user.id);\r\n            this.setState({jobFiles: userJobFiles});\r\n        }).catch(err => {\r\n            console.log(err);\r\n        });\r\n    };\r\n\r\n    jobFileChange = (jobFile) => {\r\n        const {jobFiles} = this.state;\r\n        const newJobFiles = [];\r\n        for (let i = 0; i < jobFiles.length; i++) {\r\n            if (jobFiles[i]._id === jobFile._id) {\r\n                newJobFiles.push(jobFile);\r\n            } else {\r\n                newJobFiles.push(jobFiles[i]);\r\n            }\r\n        }\r\n        this.setState({jobFiles: newJobFiles});\r\n    };\r\n\r\n    loadRequirements = () => {\r\n        return [\r\n            {\r\n                id: (+new Date() + Math.floor(Math.random() * 999999)).toString(36),\r\n                key: \"signAndReturn\",\r\n                name: \"Sign and Return\",\r\n                check: false\r\n            },\r\n            {\r\n                id: (+new Date() + Math.floor(Math.random() * 999999)).toString(36),\r\n                key: \"needPrintCopy\",\r\n                name: \"Need Printed Copy\",\r\n                check: false\r\n            }\r\n        ];\r\n    };\r\n\r\n    updateJobFiles = () => {\r\n        axios.put(`/api/job_files`, {\r\n            jobFiles: this.state.jobFiles\r\n        }).then(res => {\r\n            this.setState({jobFiles: res.data});\r\n        }).catch(err => {\r\n            console.log(err);\r\n        });\r\n    };\r\n\r\n    handleDeleteJobFiles = () => {\r\n        this.setState({refresh: true});\r\n        const jobFileToDelete = this.state.jobFileToDelete;\r\n        for (let i = 0; i < jobFileToDelete.length; i++) {\r\n            let jobFile = jobFileToDelete[i];\r\n            const index = this.state.jobFiles.indexOf(jobFile);\r\n            this.state.jobFiles.splice(index, 1);\r\n            this.deleteJobFiles(jobFile);\r\n        }\r\n        this.setState(this.state.jobFiles);\r\n        this.setState({jobFileToDelete: []});\r\n        window.setTimeout(() => {\r\n            this.setState({refresh: false});\r\n        }, 1000)\r\n\r\n    };\r\n\r\n    deleteJobFiles = (jobFileToDelete) => {\r\n        axios.delete(`/api/job_files`, {\r\n            data: {\r\n                jobFile: jobFileToDelete\r\n            }\r\n        }).catch(err => {\r\n            console.log(err);\r\n        });\r\n    };\r\n\r\n    handleSingleDelete = (jobFile) => {\r\n        this.state.jobFileToDelete.push(jobFile);\r\n        this.setState({showJobFileDeleteModal: true}\r\n        )\r\n    };\r\n\r\n    handleMultipleDelete = (data) => {\r\n        const delArray = data.reduce((a, jobFile) => {\r\n            a.push(jobFile.job);\r\n            return a\r\n        }, []);\r\n        this.setState({showJobFileDeleteModal: true, jobFileToDelete: delArray})\r\n    };\r\n\r\n    handleAddEvent = () => {\r\n        const jobFile = {\r\n            id: (+new Date() + Math.floor(Math.random() * 999999)).toString(36),\r\n            fileURL: \"\",\r\n            filename:'',\r\n            numCopies: 1,\r\n            requirements: this.loadRequirements(),\r\n            remarks: \"\",\r\n        };\r\n\r\n        const jobFiles = this.state.jobFiles;\r\n        jobFiles.push(jobFile);\r\n        this.setState({jobFiles: this.state.jobFiles, activeScreen: 'uploadFile'});\r\n    };\r\n\r\n    handleCancel = (type) => {\r\n        if (type === 'upload') {\r\n            this.state.jobFiles.splice(-1, 1);\r\n            this.setState({activeScreen: 'showFiles'});\r\n        } else {\r\n            this.setState({activeScreen: 'showFiles'});\r\n        }\r\n    };\r\n\r\n    handleUploadSuccess = () => {\r\n        this.updateJobFiles();\r\n        this.setState({activeScreen: 'showFiles'});\r\n    };\r\n\r\n    handleEditFile = (jobFile) => {\r\n        this.setState({activeScreen: 'editFile', editJobFile: jobFile});\r\n    };\r\n\r\n    handleEditCancel = () => {\r\n        this.setState({activeScreen: 'showFile', editJobFile: null});\r\n    };\r\n\r\n    render() {\r\n        switch (this.state.jobFiles) {\r\n            case null:\r\n                return <div></div>;\r\n            default:\r\n                switch (this.state.activeScreen) {\r\n                    case 'uploadFile':\r\n                        return (\r\n                            <div>\r\n                                <Paper square={true} className='job-detail-paper' elevation={0}>\r\n                                    {\r\n                                        this.state.jobFiles.length > 0 ?\r\n                                            <div>\r\n                                                <FileUploadSection\r\n                                                    handleCancel={this.handleCancel}\r\n                                                    successClose={this.handleUploadSuccess}\r\n                                                    jobFile={this.state.jobFiles[this.state.jobFiles.length - 1]}\r\n                                                    job={this.props.job}\r\n                                                    type='upload'\r\n                                                    handleSingleDelete={this.handleSingleDelete}\r\n                                                />\r\n                                            </div> : ''\r\n                                    }\r\n                                </Paper>\r\n                            </div>\r\n                        );\r\n                    case 'editFile':\r\n                        return (\r\n                            <div>\r\n                                <Paper square={true} className='job-detail-paper' elevation={0}>\r\n                                    {\r\n                                        this.state.editJobFile !== null ?\r\n                                            <div>\r\n                                                <FileUploadSection\r\n                                                    handleCancel={this.handleEditCancel}\r\n                                                    successClose={this.handleUploadSuccess}\r\n                                                    jobFile={this.state.editJobFile}\r\n                                                    job={this.props.job}\r\n                                                    type='edit'\r\n                                                    handleSingleDelete={this.handleSingleDelete}\r\n                                                />\r\n                                            </div> : ''\r\n                                    }\r\n                                </Paper>\r\n                            </div>\r\n                        );\r\n                    default:\r\n                        return (<div>\r\n                            <Paper square={true} className='job-detail-paper' elevation={0}>\r\n                                <div>\r\n                                    <div>\r\n                                        <div className='d-flex flex-row align-items-center'>\r\n                                            <FontAwesomeIcon icon={faPlusSquare} color=\"green\" size=\"3x\"\r\n                                                             className='job-files-add-file'\r\n                                                             onClick={this.handleAddEvent}\r\n                                            />\r\n                                            <h3 className='job-detail-section-header'>Upload your documents</h3>\r\n                                        </div>\r\n                                    </div>\r\n                                    {this.state.jobFiles.length > 0 ?\r\n                                        <div>\r\n                                            <MediaQuery minWidth={768}>\r\n                                                <JobFileSummaryTable\r\n                                                    jobFiles={this.state.jobFiles}\r\n                                                    deleteFile={this.handleSingleDelete}\r\n                                                    editFile={this.handleEditFile}\r\n                                                    deleteMultipleFiles={this.handleMultipleDelete}\r\n                                                    selectOption={this.state.selectOption}\r\n                                                    refresh={this.state.refresh}\r\n\r\n                                                />\r\n                                            </MediaQuery>\r\n                                            <MediaQuery maxWidth={767}>\r\n                                                <JobFileSummaryTableMobile\r\n                                                    jobFiles={this.state.jobFiles}\r\n                                                    deleteFile={this.handleSingleDelete}\r\n                                                    editFile={this.handleEditFile}\r\n                                                    deleteMultipleFiles={this.handleMultipleDelete}\r\n                                                    selectOption={this.state.selectOption}\r\n                                                    refresh={this.state.refresh}\r\n                                                />\r\n                                            </MediaQuery>\r\n                                        </div>\r\n                                        : <p>You have not uploaded any documents yet</p>}\r\n                                </div>\r\n\r\n                                <AffirmationModal\r\n                                    modal={this.state.showJobFileDeleteModal}\r\n                                    toggle={(e) => this.setState({showJobFileDeleteModal: !this.state.showJobFileDeleteModal})}\r\n                                    title=\"Delete Document?\"\r\n                                    affirmativeAction={(e) => {\r\n                                        this.setState({showJobFileDeleteModal: !this.state.showJobFileDeleteModal});\r\n                                        this.handleDeleteJobFiles();\r\n                                    }}\r\n                                    affirmativeText='Yes'\r\n                                    cancelText='No'\r\n                                >\r\n                                    <p>Are you sure you want to delete the document?</p>\r\n                                </AffirmationModal>\r\n                            </Paper>\r\n                        </div>);\r\n                }\r\n        }\r\n    }\r\n}\r\n\r\nconst mapStateToProps = ({auth}) => {\r\n    return {auth};\r\n};\r\n\r\nexport default withRouter(connect(mapStateToProps)(JobFilesDisplay));\r\n","import React, { Component } from \"react\";\r\nimport {\r\n  Button,\r\n  Col,\r\n  Container,\r\n  Form,\r\n  FormGroup,\r\n  Input,\r\n  Label,\r\n  Row\r\n} from \"reactstrap\";\r\nimport axios from \"axios\";\r\n\r\nimport AffirmationModal from \"../../ui/Modal/AffirmationModal\";\r\n\r\nclass JobDetailsEdit extends Component {\r\n  state = {\r\n    jobStatuses: [\r\n      {\r\n        index: 1,\r\n        title: \"Job booking pending confirmation\",\r\n        description:\r\n          \"We have received your job booking and are currently checking the details. We will send you a confirmation email once everything is verified.\",\r\n        trackingType: \"Electronic\"\r\n      },\r\n      {\r\n        index: 2,\r\n        title: \"Job booking confirmed\",\r\n        description:\r\n          \"We have confirmed your job booking. Please deliver the items to 'No. 6 Tuas Ave 6, Singapore 639311' at least 24 hours before the vessel arrives.\",\r\n        trackingType: \"Electronic\"\r\n      },\r\n      {\r\n        index: 3,\r\n        title: \"Pending items arrival at warehouse\",\r\n        description:\r\n          \"We have confirmed your job booking. Your job details have been passed to our operations side for processing.\",\r\n        trackingType: \"Storage\"\r\n      },\r\n      {\r\n        index: 4,\r\n        title: \"All items have arrived at warehouse\",\r\n        description:\r\n          \"We have received all of your indicated items at our warehouse. We will proceed to check that everything is in order.\",\r\n        trackingType: \"Storage\"\r\n      },\r\n      {\r\n        index: 5,\r\n        title: \"Items are on delivery\",\r\n        description:\r\n          \"Your items have been checked and loaded onto our trucks. It is currently on the way to the delivery destination.\",\r\n        trackingType: \"Truck\"\r\n      },\r\n      {\r\n        index: 6,\r\n        title: \"Items have been received by customer\",\r\n        description:\r\n          \"Your items have been successfully received by the customer.\",\r\n        trackingType: \"Truck\"\r\n      }\r\n    ],\r\n    jobStatus: null,\r\n    showCheckJobStatusModal: false,\r\n    cancellationConfirmationModal: false\r\n  };\r\n\r\n  updateJobStatus = () => {\r\n    axios\r\n      .post(\"/api/job_trackers\", {\r\n        ...this.state.jobStatus,\r\n        jobId: this.props.job._id\r\n      })\r\n      .then(res => {\r\n        window.location.reload();\r\n      })\r\n      .catch(err => {\r\n        console.log(err);\r\n      });\r\n  };\r\n\r\n  checkJobTracker = jobStatus => {\r\n    this.setState({\r\n      jobStatus,\r\n      showCheckJobStatusModal: true\r\n    });\r\n  };\r\n\r\n  cancelJob = () => {\r\n    const job = this.props.job;\r\n    job.isCancelled = \"Confirmed\";\r\n\r\n    axios\r\n      .put(\"/api/jobs\", {\r\n        job,\r\n        sendEmailUpdate: false\r\n      })\r\n      .then(res => {\r\n        window.location.reload();\r\n      })\r\n      .catch(err => {\r\n        console.log(err);\r\n      });\r\n  };\r\n\r\n  render() {\r\n    const job = this.props.job;\r\n    const jobTrackers = job.jobTrackers.sort((a, b) => {\r\n      return a.index - b.index;\r\n    });\r\n\r\n    return (\r\n      <Container fluid>\r\n        <Row>\r\n          <Col xs=\"12\" md={{ size: 4, offset: 4 }}>\r\n            <Button\r\n              type=\"button\"\r\n              color=\"danger\"\r\n              onClick={e =>\r\n                this.setState({ cancellationConfirmationModal: true })\r\n              }\r\n            >\r\n              Cancel Job\r\n            </Button>\r\n            <br />\r\n            <br />\r\n            <Form>\r\n              {this.state.jobStatuses.map((jobStatus, index) => {\r\n                return (\r\n                  <FormGroup check key={index}>\r\n                    <Label check>\r\n                      <Input\r\n                        type=\"checkbox\"\r\n                        disabled={!(jobStatus.index === jobTrackers.length + 1)}\r\n                        checked={jobStatus.index <= jobTrackers.length}\r\n                        onChange={e => this.checkJobTracker(jobStatus)}\r\n                      />{\" \"}\r\n                      {jobStatus.title}\r\n                    </Label>\r\n                  </FormGroup>\r\n                );\r\n              })}\r\n              <br />\r\n              <FormGroup>\r\n                <Button\r\n                  className=\"global-primary-button\"\r\n                  onClick={this.props.cancel}\r\n                >\r\n                  Back\r\n                </Button>\r\n              </FormGroup>\r\n            </Form>\r\n          </Col>\r\n        </Row>\r\n\r\n        <AffirmationModal\r\n          modal={this.state.showCheckJobStatusModal}\r\n          toggle={e =>\r\n            this.setState({\r\n              showCheckJobStatusModal: !this.state.showCheckJobStatusModal\r\n            })\r\n          }\r\n          title=\"Job Status Update\"\r\n          affirmativeAction={this.updateJobStatus}\r\n          affirmativeText=\"Yes\"\r\n          cancelText=\"No\"\r\n        >\r\n          Are you sure you want to update this job status?\r\n        </AffirmationModal>\r\n\r\n        <AffirmationModal\r\n          modal={this.state.cancellationConfirmationModal}\r\n          toggle={e =>\r\n            this.setState({\r\n              cancellationConfirmationModal: !this.state\r\n                .cancellationConfirmationModal\r\n            })\r\n          }\r\n          title=\"Job Cancellation\"\r\n          affirmativeAction={this.cancelJob}\r\n          affirmativeText=\"Confirm\"\r\n        >\r\n          Are you sure you want to cancel this job?\r\n        </AffirmationModal>\r\n      </Container>\r\n    );\r\n  }\r\n}\r\n\r\nexport default JobDetailsEdit;\r\n","import React, { Component } from \"react\";\r\nimport { withRouter } from \"react-router-dom\";\r\nimport { connect } from \"react-redux\";\r\n\r\nimport { Paper, Button } from \"@material-ui/core\";\r\n\r\nimport { Timeline, TimelineEvent } from \"react-event-timeline\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport { faTruck } from \"@fortawesome/free-solid-svg-icons\";\r\n\r\nimport JobDetailsEdit from \"../JobDetailsEdit\";\r\n\r\nimport \"rc-steps/assets/index.css\";\r\nimport \"rc-steps/assets/iconfont.css\";\r\nimport Steps, { Step } from \"rc-steps\";\r\n\r\nimport moment from \"moment\";\r\n\r\nimport \"./JobStatusDisplay.css\";\r\n\r\nclass JobStatusDisplay extends Component {\r\n  state = {\r\n    jobStatuses: [\r\n      {\r\n        index: 1,\r\n        title: \"Job booking pending confirmation\",\r\n        description:\r\n          \"We have received your job booking and are currently checking the details. We will send you a confirmation email once everything is verified.\",\r\n        trackingType: \"Electronic\"\r\n      },\r\n      {\r\n        index: 2,\r\n        title: \"Job booking confirmed\",\r\n        description:\r\n          \"We have confirmed your job booking. Please deliver the items to 'No. 6 Tuas Ave 6, Singapore 639311' at least 24 hours before the vessel arrives.\",\r\n        trackingType: \"Electronic\"\r\n      },\r\n      {\r\n        index: 3,\r\n        title: \"Pending items arrival at warehouse\",\r\n        description:\r\n          \"We have confirmed your job booking. Your job details have been passed to our operations side for processing.\",\r\n        trackingType: \"Storage\"\r\n      },\r\n      {\r\n        index: 4,\r\n        title: \"All items have arrived at warehouse\",\r\n        description:\r\n          \"We have received all of your indicated items at our warehouse. We will proceed to check that everything is in order.\",\r\n        trackingType: \"Storage\"\r\n      },\r\n      {\r\n        index: 5,\r\n        title: \"Items are on delivery\",\r\n        description:\r\n          \"Your items have been checked and loaded onto our trucks. It is currently on the way to the delivery destination.\",\r\n        trackingType: \"Truck\"\r\n      },\r\n      {\r\n        index: 6,\r\n        title: \"Items have been received by customer\",\r\n        description:\r\n          \"Your items have been successfully received by the customer.\",\r\n        trackingType: \"Truck\"\r\n      }\r\n    ],\r\n    showJobDetailsEdit: false\r\n  };\r\n\r\n  render() {\r\n    const steps = this.state.jobStatuses;\r\n    const job = this.props.job;\r\n    const jobTrackers = job.jobTrackers.sort((a, b) => {\r\n      return a.index - b.index;\r\n    });\r\n    const activeStep = jobTrackers.length;\r\n\r\n    const renderSteps = steps.map((step, i) => {\r\n      const jobStatus = jobTrackers.reduce((a, status) => {\r\n        a.push(status.index);\r\n        return a;\r\n      }, []);\r\n      if (!jobStatus.includes(step.index)) {\r\n        return (\r\n          <Step title={step.title} key={i} description={step.description} />\r\n        );\r\n      } else {\r\n        const statusSelected = jobTrackers.filter(o => {\r\n          return o.index === step.index;\r\n        })[0];\r\n        return (\r\n          <Step\r\n            title={statusSelected.title}\r\n            key={i}\r\n            description={\r\n              <div className=\"d-flex flex-column\">\r\n                <span>\r\n                  <i>\r\n                    {moment(statusSelected.timestamp).format(\r\n                      \"Do MMMM YYYY, h:mm:ss a\"\r\n                    )}\r\n                  </i>\r\n                </span>\r\n                <span>{statusSelected.description}</span>\r\n                {statusSelected.remarks !== \"\" ? (\r\n                  <span>Remarks: {statusSelected.remarks}</span>\r\n                ) : (\r\n                  \"\"\r\n                )}\r\n              </div>\r\n            }\r\n          />\r\n        );\r\n      }\r\n    });\r\n\r\n    //Overall Stepper View\r\n    switch (this.state.showJobDetailsEdit) {\r\n      case false:\r\n        return (\r\n          <div>\r\n            <Paper square={true} elevation={0} className=\"job-detail-paper\">\r\n              <div\r\n                className=\"d-flex align-items-center justify-content-center\"\r\n                style={{ margin: 10 }}\r\n              >\r\n                {this.props.auth.userType === \"Admin\" ? (\r\n                  <Button\r\n                    variant=\"contained\"\r\n                    onClick={e => this.setState({ showJobDetailsEdit: true })}\r\n                  >\r\n                    Edit Status\r\n                  </Button>\r\n                ) : (\r\n                  \"\"\r\n                )}\r\n              </div>\r\n              <Steps\r\n                direction=\"vertical\"\r\n                current={activeStep}\r\n                icons={{\r\n                  finish: <span className=\"status-finish\">&#10003;</span>\r\n                }}\r\n              >\r\n                {renderSteps}\r\n              </Steps>\r\n            </Paper>\r\n            {/*<Paper square={true} elevation={0}>*/}\r\n            {/*    <Timeline>*/}\r\n            {/*        {*/}\r\n            {/*            this.props.job.jobTrackers.sort((a, b) => {*/}\r\n            {/*                return b.index - a.index;*/}\r\n            {/*            }).map((jobTracker, index) => {*/}\r\n            {/*                return (*/}\r\n            {/*                    <TimelineEvent*/}\r\n            {/*                        key={index}*/}\r\n            {/*                        title={jobTracker.title}*/}\r\n            {/*                        createdAt={new Date(jobTracker.timestamp).toString()}*/}\r\n            {/*                        icon={<FontAwesomeIcon icon={faTruck}/>}*/}\r\n            {/*                        titleStyle={{fontWeight: \"400\"}}*/}\r\n            {/*                    >*/}\r\n            {/*                        {jobTracker.description}*/}\r\n            {/*                    </TimelineEvent>*/}\r\n            {/*                );*/}\r\n            {/*            })*/}\r\n            {/*        }*/}\r\n            {/*    </Timeline>*/}\r\n            {/*</Paper>*/}\r\n          </div>\r\n        );\r\n      default:\r\n        return (\r\n          <div>\r\n            {this.props.auth.userType === \"Admin\" ? (\r\n              <JobDetailsEdit\r\n                job={this.props.job}\r\n                cancel={e => this.setState({ showJobDetailsEdit: false })}\r\n              />\r\n            ) : (\r\n              \"\"\r\n            )}\r\n          </div>\r\n        );\r\n    }\r\n  }\r\n}\r\n\r\nconst mapStateToProps = ({ auth }) => {\r\n  return { auth };\r\n};\r\n\r\nexport default withRouter(connect(mapStateToProps)(JobStatusDisplay));\r\n","import React, { Component } from \"react\";\r\nimport { withRouter } from \"react-router-dom\";\r\nimport { connect } from \"react-redux\";\r\n\r\nimport { Paper } from \"@material-ui/core\";\r\nimport { Container, Row, Col, Button } from \"react-bootstrap\";\r\nimport FormControl from \"react-bootstrap/FormControl\";\r\n\r\nimport {\r\n  withScriptjs,\r\n  withGoogleMap,\r\n  GoogleMap,\r\n  Marker\r\n} from \"react-google-maps\";\r\n\r\nvar deliveryInAdvance = 6;\r\n\r\nclass JobDropoffDetail extends Component {\r\n  state = {\r\n    LogisticsCompanies: [\r\n      {\r\n        index: \"wsl\",\r\n        companyName: \"Allied Containers, Winspec Logistics Services Pte Ltd\",\r\n        address: \"No. 6 Tuas Ave 6, Singapore 639311\",\r\n        contactNumber: \"6558 6257\",\r\n        website: \"winspecgroup.com\",\r\n        openingHours:\r\n          \"Monday to Friday, from 8:30am to 5:30pm & Saturday, from 8:30am to 12:30pm, excluding PH\",\r\n        addLL: { lat: 1.3262, lng: 103.649817 }\r\n      }\r\n    ],\r\n    remarks: \"\",\r\n    currentCompany: \"\"\r\n  };\r\n\r\n  componentDidMount() {\r\n    //var company =  this.props.job.logisticsCompany;\r\n    var company = \"wsl\";\r\n    for (var i = 0; i < this.state.LogisticsCompanies.length; i++) {\r\n      if (this.state.LogisticsCompanies[i].index === company) {\r\n        this.setState({ currentCompany: this.state.LogisticsCompanies[i] });\r\n        break;\r\n      }\r\n    }\r\n  }\r\n\r\n  handleRemarks = e => {\r\n    this.setState({ remarks: e.target.value });\r\n  };\r\n\r\n  handleSaveRemarks = () => {\r\n    //Insert Backend Here\r\n    console.log(\"Saved Remarks for Logistics Company\");\r\n  };\r\n\r\n  getDropoffTime() {\r\n    var deliveryDate = new Date(this.props.job.vesselArrivalDateTime);\r\n    deliveryDate.setDate(deliveryDate.getHours() - deliveryInAdvance);\r\n    return (\r\n      \"\" +\r\n      deliveryDate.getDate() +\r\n      \"/\" +\r\n      deliveryDate.getMonth() +\r\n      \"/\" +\r\n      deliveryDate.getFullYear()\r\n    );\r\n  }\r\n\r\n  render() {\r\n    var deliveryDate = this.getDropoffTime();\r\n    var LCOpeningHours = this.state.currentCompany.openingHours;\r\n\r\n    const Map = withScriptjs(\r\n      withGoogleMap(props => (\r\n        <GoogleMap\r\n          defaultZoom={14}\r\n          defaultCenter={this.state.currentCompany.addLL}\r\n        >\r\n          <Marker position={this.state.currentCompany.addLL} />\r\n        </GoogleMap>\r\n      ))\r\n    );\r\n\r\n    return (\r\n      <div>\r\n        <Paper square={true} className=\"job-detail-paper\" elevation={0}>\r\n          <Container>\r\n            <Row style={{ marginBottom: 40 }}>\r\n              <Col>\r\n                <h3 className=\"job-detail-section-header\">Drop off Location</h3>\r\n                <p>\r\n                  {this.state.currentCompany.companyName},{\" \"}\r\n                  {this.state.currentCompany.address}\r\n                </p>\r\n              </Col>\r\n            </Row>\r\n            <Row style={{ marginBottom: 40 }}>\r\n              <Col>\r\n                <h3 className=\"job-detail-section-header\">Drop off Time</h3>\r\n                <p>\r\n                  Please Drop-off during office hours from {LCOpeningHours}.\r\n                </p>\r\n              </Col>\r\n            </Row>\r\n            {/*<Row>*/}\r\n            {/*    <Col>*/}\r\n            {/*        <h3 className='job-detail-section-header'>Remarks</h3>*/}\r\n            {/*        <FormControl as=\"textarea\" rows=\"4\" value={this.state.remarks} placeholder='Insert Remarks Here' onChange={this.handleRemarks} className='job-dropoff-remarks-text'/>*/}\r\n            {/*        /!*<Button onClick={this.handleSaveRemarks}>Save Changes</Button>*!/*/}\r\n            {/*    </Col>*/}\r\n            {/*</Row>*/}\r\n            <Row>\r\n              <Col>\r\n                <h3 className=\"job-detail-section-header\">Map</h3>\r\n                <Map\r\n                  googleMapURL=\"https://maps.googleapis.com/maps/api/js?key=AIzaSyCFL111s8lalFUoU08_GwV4O12asuIgo_w&v=3.exp&libraries=geometry,drawing,places\"\r\n                  loadingElement={<div style={{ height: `100%` }} />}\r\n                  containerElement={<div style={{ height: `400px` }} />}\r\n                  mapElement={<div style={{ height: `100%` }} />}\r\n                />\r\n              </Col>\r\n            </Row>\r\n          </Container>\r\n        </Paper>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = ({ auth }) => {\r\n  return { auth };\r\n};\r\n\r\nexport default withRouter(connect(mapStateToProps)(JobDropoffDetail));\r\n","import React, {Component} from 'react';\r\nimport {withRouter} from \"react-router-dom\";\r\nimport {connect} from \"react-redux\";\r\nimport {Paper} from \"@material-ui/core\";\r\nimport {Col, Container, Row, Button} from \"react-bootstrap\";/* \r\nimport JobCreatePriceTable from \"../../JobBilling/JobCreatePriceTable\"; */\r\n\r\nimport './JobBillingDetail.css';\r\nimport AffirmationModal from \"../../../ui/Modal/AffirmationModal\";\r\nimport axios from \"axios\";\r\n\r\nclass JobBillingDetail extends Component {\r\n    state = {\r\n        status: null,\r\n        showJobCancelModal: false,\r\n        paymentTrackers: [],\r\n        paymentTrackerList: [\r\n            {\r\n                index: 1,\r\n                label: 'Not Yet Invoiced',\r\n            },\r\n            {\r\n                index: 2,\r\n                label: 'Invoiced, Not Paid',\r\n            },\r\n            {\r\n                index: 3,\r\n                label: 'Paid',\r\n            },\r\n        ],\r\n    };\r\n\r\n    componentDidMount() {\r\n        const job = this.props.job;\r\n        const paymentTrackers = job.paymentTrackers;\r\n        if (this.props.auth.userType === \"Admin\") {\r\n            this.setState({status: job.isCancelled, paymentTrackers: paymentTrackers});\r\n        } else {\r\n            const userPaymentTrackers = paymentTrackers.filter(o => o.user === this.props.auth._id).sort((a, b) => {\r\n                return b.index - a.index;\r\n            });\r\n            this.setState({status: job.isCancelled, paymentTrackers: userPaymentTrackers});\r\n        }\r\n    };\r\n\r\n    updatePaymentTracker = (paymentTacker, user) => {\r\n        axios.post('/api/payment_trackers', {\r\n            index: paymentTacker.index,\r\n            label: paymentTacker.label,\r\n            jobId: this.props.job._id,\r\n            userId: user,\r\n        }).then(res => {\r\n            window.location.reload();\r\n        }).catch(err => {\r\n            console.log(err);\r\n        });\r\n    };\r\n\r\n    renderCancelProcedure = () => {\r\n        switch (this.state.status) {\r\n            case 'Pending':\r\n                return (\r\n                    <div className='job-billing-request-section'>\r\n                        <h3 className='job-billing-request-requested'>Cancellation Requested</h3>\r\n                        <span>We will do our best in cancelling this job for you.</span>\r\n                        <ul>\r\n                            <li>\r\n                                <span className='font-weight-bold'>If this item is canceled:</span>\r\n                                <br/>\r\n                                You will receive a confirmation email.\r\n                            </li>\r\n                            <li>\r\n                                <span className='font-weight-bold'>If this item is not canceled:</span>\r\n                                <br/>\r\n                                You will receive an email informing you<br/>that\r\n                                your request for cancellation is unsuccessful.\r\n                            </li>\r\n                        </ul>\r\n                    </div>\r\n                );\r\n            case 'Confirmed':\r\n                return (\r\n                    <div className='job-billing-request-section'>\r\n                        <h3 className='job-billing-request-success'>Cancellation Successful</h3>\r\n                        <p>Your request for cancellation has been approved.<br/>\r\n                            Your job has been successfully canceled.</p>\r\n                    </div>\r\n                );\r\n            case 'Denied':\r\n                return (\r\n                    <div className='job-billing-request-section'>\r\n                        <h3 className='job-billing-request-failure'>Cancellation Unsuccessful</h3>\r\n                        <span>Your request for cancellation was unsuccessful.<br/>\r\n                          We are not able to cancel your job.<br/>\r\n                          Contact us at service@simpfleet.com for any queries.</span>\r\n                    </div>\r\n                );\r\n            default:\r\n                return (\r\n                    <div className='job-billing-request-section'>\r\n                        <h6 className='job-billing-request-cancel-text' onClick={() => {\r\n                            this.setState({showJobCancelModal: true});\r\n                        }}>Request Cancellation</h6>\r\n                        <p>Please take note that if your cancellation is within 2 hours of the given loading time\r\n                            or vessel berthing time, we will charge the Full Rate Of The Delivery.</p>\r\n                    </div>\r\n                );\r\n        }\r\n    };\r\n\r\n    render() {\r\n\r\n        let renderAdminPaymentPanel;\r\n        if (this.props.auth.user.userType === \"Admin\") {\r\n            const partyList = this.state.paymentTrackers.reduce((a, tracker) => {\r\n                a.push(tracker.user);\r\n                return a;\r\n            }, []).filter((v, i, a) => a.indexOf(v) === i);\r\n            renderAdminPaymentPanel = partyList.map((id, index) => {\r\n                let userPaymentTracker = this.state.paymentTrackers.filter(o => o.user === id).sort((a, b) => {\r\n                    return b.index - a.index;\r\n                });\r\n                return (\r\n                    <div key={index} className='d-flex align-items-center'>\r\n                        <p>Payment Status: {userPaymentTracker[0].label}</p>\r\n                        {userPaymentTracker.length === 3 ? '' :\r\n                            <Button onClick={(e) => {\r\n                                const paymentIndex = userPaymentTracker.length;\r\n                                this.updatePaymentTracker(this.state.paymentTrackerList[paymentIndex], id)\r\n                            }}>Advance Payment</Button>}\r\n                    </div>\r\n                )\r\n            })\r\n        }\r\n\r\n        return (\r\n            <div>\r\n                <Paper square={true} className='job-detail-paper' elevation={0}>\r\n                    <Container>\r\n                        <Row>\r\n                            <Col xs={12} md={8}>\r\n                                {/*<h3 className='job-detail-section-header-price'>Price</h3>*/}\r\n                                {/*<JobCreatePriceTable jobItems={this.props.job.jobItems}/>*/}\r\n                                {this.state.paymentTrackers[0] ?\r\n                                    <div>\r\n                                        {this.props.auth.user.userType === \"Admin\" ?\r\n                                            <div>\r\n                                                {renderAdminPaymentPanel}\r\n                                            </div> :\r\n                                            <p>Payment Status: {this.state.paymentTrackers[0].label}</p>\r\n                                        }\r\n                                    </div> : ''}\r\n                                {this.renderCancelProcedure()}\r\n                                {\r\n                                    this.props.auth.userType === \"Admin\" &&\r\n                                    this.state.status === 'Pending'\r\n                                        ? <div>\r\n                                            <Button variant='danger' onClick={() => {\r\n                                                const job = this.props.job;\r\n                                                job.isCancelled = 'Denied';\r\n                                                this.props.saveJobCancellation(job);\r\n                                                this.setState({status: job.isCancelled});\r\n                                            }}>Decline</Button>\r\n                                            <Button variant='success' onClick={() => {\r\n                                                const job = this.props.job;\r\n                                                job.isCancelled = 'Confirmed';\r\n                                                this.props.saveJobCancellation(job);\r\n                                                this.setState({status: job.isCancelled});\r\n                                            }} style={{marginLeft: '15px'}}>Approve</Button>\r\n                                        </div>\r\n                                        : ''\r\n                                }\r\n                            </Col>\r\n                        </Row>\r\n                        <AffirmationModal\r\n                            modal={this.state.showJobCancelModal}\r\n                            toggle={(e) => this.setState({showJobCancelModal: !this.state.showJobCancelModal})}\r\n                            title=\"Cancellation\"\r\n                            affirmativeAction={() => {\r\n                                const job = this.props.job;\r\n                                job.isCancelled = 'Confirmed';\r\n                                this.props.saveJobCancellation(job);\r\n                                this.setState({status: job.isCancelled, showJobCancelModal: false});\r\n                            }}\r\n                            affirmativeText='Yes'\r\n                            cancelText=\"No\"\r\n                        >\r\n                            <p><strong>Are you sure you want to cancel job?</strong></p>\r\n                            <p>Please take note that if your cancellation is within 2 hours of the given loading time or vessel berthing time, we will charge the full rate of the delivery.</p>\r\n                        </AffirmationModal>\r\n                    </Container>\r\n                </Paper>\r\n            </div>\r\n\r\n        );\r\n    }\r\n};\r\n\r\nconst mapStateToProps = ({auth}) => {\r\n    return {auth};\r\n};\r\n\r\nexport default withRouter(connect(mapStateToProps)(JobBillingDetail));","import React, {Component} from 'react';\r\nimport axios from 'axios';\r\nimport queryString from 'query-string';\r\nimport {withRouter, Redirect} from \"react-router-dom\";\r\nimport {connect} from \"react-redux\";\r\n\r\nimport {\r\n    Paper,\r\n    Breadcrumbs,\r\n    Link,\r\n    Typography,\r\n    List,\r\n    ListItem,\r\n    ListItemText,\r\n    Snackbar,\r\n    IconButton,\r\n    Slide\r\n} from '@material-ui/core';\r\nimport NavigateNextIcon from '@material-ui/icons/NavigateNext';\r\nimport CloseIcon from '@material-ui/icons/Close';\r\nimport ShareIcon from '@material-ui/icons/Share';\r\n\r\nimport {Col, Container, Row, Button} from 'react-bootstrap'\r\n\r\nimport JobDetailCard from \"./JobDetailCard\";\r\nimport JobFilesDisplay from \"./Files/JobFilesDisplay\";\r\nimport JobShareModal from \"./JobShareModal/JobShareModal\";\r\nimport JobStatusDisplay from \"./JobStatusDisplay/JobStatusDisplay\";\r\nimport JobDropoffDetail from \"./JobDropoffDetail\";\r\nimport JobBillingDetail from \"./JobBillingDetail/JobBillingDetail\";\r\nimport './JobDetails.css';\r\nimport MediaQuery from \"react-responsive\";\r\nimport Tabs from \"@material-ui/core/Tabs\";\r\nimport Tab from \"@material-ui/core/Tab\";\r\nimport {withStyles} from '@material-ui/core/styles';\r\nimport JobShareSlide from \"../JobShareSlide/JobShareSlide\";\r\n\r\nimport Popover, {ArrowContainer} from \"react-tiny-popover\";\r\nimport {FocusOn} from \"react-focus-on\";\r\n\r\nconst AntTabs = withStyles({\r\n    root: {\r\n        borderBottom: '1px solid #e8e8e8',\r\n    },\r\n    indicator: {\r\n        backgroundColor: '#49AE86',\r\n    },\r\n})(Tabs);\r\n\r\nconst AntTab = withStyles(theme => ({\r\n    root: {\r\n        textTransform: 'none',\r\n        minWidth: 72,\r\n        fontWeight: theme.typography.fontWeightRegular,\r\n        marginRight: theme.spacing(0),\r\n        padding: 6,\r\n        fontFamily: 'Roboto',\r\n        '&:hover': {\r\n            color: '#707070',\r\n            opacity: 1,\r\n        },\r\n        '&$selected': {\r\n            color: '#707070',\r\n            fontWeight: theme.typography.fontWeightMedium,\r\n        },\r\n        '&:focus': {\r\n            color: '#707070',\r\n            outline: \"none\",\r\n        },\r\n    },\r\n    selected: {},\r\n}))(props => <Tab disableRipple {...props} />);\r\n\r\nclass JobDetails extends Component {\r\n    state = {\r\n        job: null,\r\n        jobLink: '',\r\n        activeScreen: 'jobDetails',\r\n        showSharingModal: false,\r\n        copied: false,\r\n        inputSelected: false,\r\n    };\r\n\r\n    componentDidMount() {\r\n        // Get job\r\n        axios.get(`/api/jobs/index?index=${queryString.parse(this.props.location.search).job}`).then(res => {\r\n            const job = res.data;\r\n            this.setState({job});\r\n\r\n            // Get job link\r\n            axios.get(`/api/job_links?jobIndex=${job.index}`).then(res => {\r\n                this.setState({jobLink: res.data});\r\n            }).catch(err => {\r\n                console.log(err);\r\n            });\r\n\r\n            const url = new URL(window.location.href);\r\n            const tab = url.searchParams.get(\"tab\");\r\n            if (tab !== null && tab !== '') {\r\n                this.setTabURL(tab);\r\n                this.setState({activeScreen: tab});\r\n            } else {\r\n                this.setState({activeScreen: 'jobDetails'});\r\n            }\r\n        }).catch(err => {\r\n            console.log(err);\r\n        });\r\n    }\r\n\r\n    setTabURL = (tabName) => {\r\n        const url = new URL(window.location.href);\r\n        url.searchParams.set(\"tab\", tabName);\r\n        window.history.pushState('page2', 'Title', url.toString());\r\n    };\r\n\r\n    generateInvitationLink = () => {\r\n        axios.post('/api/job_links', {\r\n            job: this.state.job\r\n        }).then(res => {\r\n            this.setState({jobLink: res.data});\r\n        }).catch(err => {\r\n            console.log(err);\r\n        });\r\n        this.setState({showSharingModal: true});\r\n    };\r\n\r\n    handleShareModalClose = () => {\r\n        this.setState({showSharingModal: false, inputSelected: false});\r\n    };\r\n\r\n    handleDrawerClick(key) {\r\n        this.setTabURL(key);\r\n        this.setState({activeScreen: key});\r\n    }\r\n\r\n    handleCopy = () => {\r\n        this.setState({copied: true});\r\n        window.setTimeout(() => {\r\n            this.setState({copied: false})\r\n        }, 5000)\r\n    };\r\n\r\n\r\n    handleClose = () => {\r\n        this.setState({copied: false})\r\n    };\r\n\r\n    SlideTransition = (props) => {\r\n        return <Slide {...props} direction=\"up\"/>\r\n    };\r\n\r\n    saveJobCancellation = (job) => {\r\n        // Save job details\r\n        axios.put('/api/jobs', {\r\n            job,\r\n            sendEmailUpdate: false\r\n        }).then(res => {\r\n            this.setState({job: res.data});\r\n        }).catch(err => {\r\n            console.log(err);\r\n        });\r\n    };\r\n\r\n    handleChangeTab = (event, newValue) => {\r\n        this.setTabURL(newValue);\r\n        this.setState({activeScreen: newValue})\r\n    };\r\n\r\n    handleSelect = (e) => {\r\n        this.setState({inputSelected: true});\r\n    };\r\n\r\n    render() {\r\n        const showComponent = () => {\r\n            switch (this.state.activeScreen) {\r\n                case 'jobDetails':\r\n                    return <JobDetailCard job={this.state.job}/>;\r\n                case 'document':\r\n                    return <JobFilesDisplay job={this.state.job}/>;\r\n                case 'status':\r\n                    return <JobStatusDisplay job={this.state.job}/>;\r\n                case 'dropoff':\r\n                    return <JobDropoffDetail job={this.state.job}/>;\r\n                case 'billing':\r\n                    return <JobBillingDetail job={this.state.job} saveJobCancellation={this.saveJobCancellation}/>;\r\n                default:\r\n                    return <JobDetailCard job={this.state.job}/>;\r\n            }\r\n        };\r\n\r\n        switch (this.props.auth) {\r\n            case null:\r\n                return <div></div>;\r\n            case false:\r\n                return <Redirect to=\"/\"/>;\r\n            default:\r\n                switch (this.state.job) {\r\n                    case null:\r\n                        return <div></div>;\r\n                    default:\r\n                        return (\r\n                            <div>\r\n                                <MediaQuery minWidth={769}>\r\n                                    <Container fluid style={{marginTop: 20, marginBottom: 30}}>\r\n                                        <Row>\r\n                                            <Col xs={12} md={{span: 10, offset: 1}}>\r\n                                                <Paper elevation={0} className='job-detail-breadcrumbs' square={true}>\r\n                                                    <Breadcrumbs separator={<NavigateNextIcon fontSize=\"small\"/>}\r\n                                                                 aria-label=\"Breadcrumb\">\r\n                                                        <Link href=\"#\" onClick={(e) => {\r\n                                                            this.props.history.push('/');\r\n                                                        }} className='job-detail-breadcrumbs-link'>\r\n                                                            Dashboard\r\n                                                        </Link>\r\n                                                        <h4>{this.state.job.vessel.vesselName.toUpperCase()}, {this.state.job.vessel.vesselIMOID}</h4>\r\n                                                    </Breadcrumbs>\r\n                                                </Paper>\r\n                                                <Paper square={true}>\r\n                                                    <Paper className='job-details-ship-title' square={true}>\r\n                                                        <div className='d-flex align-items-center'>\r\n                                                            <h1 className='job-detail-fonts'\r\n                                                                style={{marginBottom: '0px'}}>{this.state.job.vessel.vesselName.toUpperCase()} {this.state.job.vessel.vesselIMOID}</h1>\r\n                                                            <Button variant=\"outlined\"\r\n                                                                    onClick={this.generateInvitationLink}\r\n                                                                    className='job-details-share-button ml-auto'\r\n                                                                    href=\"#\">\r\n                                                                <ShareIcon className='job-detail-share-icon'/>\r\n                                                                Share\r\n                                                            </Button>\r\n                                                        </div>\r\n                                                    </Paper>\r\n                                                    <Paper square={true} className='job-detail-side-bar'>\r\n                                                        <Container fluid>\r\n                                                            <Row className='align-items-stretch'>\r\n                                                                <Col xs={3} className='col-no-padding job-details-menu'>\r\n                                                                    <Paper square={true}\r\n                                                                           className='job-details-menu-paper'\r\n                                                                           elevation={0}>\r\n                                                                        <List disablePadding={true}>\r\n                                                                            <ListItem button key='jobDetails'\r\n                                                                                      onClick={() => {\r\n                                                                                          this.handleDrawerClick('jobDetails')\r\n                                                                                      }}\r\n                                                                                      className={this.state.activeScreen === 'jobDetails' ? 'job-details-nav-active' : 'job-details-nav'}>\r\n                                                                                <ListItemText>Job Details</ListItemText>\r\n                                                                            </ListItem>\r\n                                                                            <ListItem button key='status'\r\n                                                                                      onClick={() => {\r\n                                                                                          this.handleDrawerClick('status')\r\n                                                                                      }}\r\n                                                                                      className={this.state.activeScreen === 'status' ? 'job-details-nav-active' : 'job-details-nav'}>\r\n                                                                                <ListItemText>Status</ListItemText>\r\n                                                                            </ListItem>\r\n                                                                            <ListItem button key='document'\r\n                                                                                      onClick={() => {\r\n                                                                                          this.handleDrawerClick('document')\r\n                                                                                      }}\r\n                                                                                      className={this.state.activeScreen === 'document' ? 'job-details-nav-active' : 'job-details-nav'}>\r\n                                                                                <ListItemText>Document</ListItemText>\r\n                                                                            </ListItem>\r\n                                                                            <ListItem button key='dropoff'\r\n                                                                                      onClick={() => {\r\n                                                                                          this.handleDrawerClick('dropoff')\r\n                                                                                      }}\r\n                                                                                      className={this.state.activeScreen === 'dropoff' ? 'job-details-nav-active' : 'job-details-nav'}>\r\n                                                                                <ListItemText>Drop Off</ListItemText>\r\n                                                                            </ListItem>\r\n                                                                            <ListItem button key='billing'\r\n                                                                                      onClick={() => {\r\n                                                                                          this.handleDrawerClick('billing')\r\n                                                                                      }}\r\n                                                                                      className={this.state.activeScreen === 'billing' ? 'job-details-nav-active' : 'job-details-nav'}>\r\n                                                                                <ListItemText>Billing</ListItemText>\r\n                                                                            </ListItem>\r\n                                                                        </List>\r\n                                                                    </Paper>\r\n                                                                </Col>\r\n                                                                <Col xs={9}\r\n                                                                     className='col-no-padding job-detail-content-border-rad'\r\n                                                                     as={Paper}>\r\n                                                                    {showComponent()}\r\n                                                                </Col>\r\n                                                            </Row>\r\n                                                        </Container>\r\n                                                    </Paper>\r\n                                                </Paper>\r\n\r\n                                                <div>\r\n                                                    <JobShareModal show={this.state.showSharingModal}\r\n                                                                   Close={this.handleShareModalClose}\r\n                                                                   joblinkurl={this.state.jobLink.url}\r\n                                                                   job={this.state.job}\r\n                                                                   copied={this.handleCopy}\r\n                                                    />\r\n                                                    <Snackbar anchorOrigin={{horizontal: 'left', vertical: 'bottom'}}\r\n                                                              open={this.state.copied}\r\n                                                              message={<span\r\n                                                                  id=\"message-id\">Link Has Been Copied</span>}\r\n                                                              action={\r\n                                                                  <IconButton\r\n                                                                      key=\"close\"\r\n                                                                      color=\"inherit\"\r\n                                                                      onClick={this.handleClose}\r\n                                                                  >\r\n                                                                      <CloseIcon/>\r\n                                                                  </IconButton>\r\n                                                              }\r\n                                                              TransitionComponent={this.SlideTransition}\r\n                                                    />\r\n                                                </div>\r\n                                            </Col>\r\n                                        </Row>\r\n                                    </Container>\r\n                                </MediaQuery>\r\n                                <MediaQuery maxWidth={768}>\r\n                                    <Container fluid\r\n                                               style={{ padding: \"5% 8%\", backgroundColor: '#F7F8F7'}}>\r\n                                        <Row>\r\n                                            <Paper elevation={0} square={true}\r\n                                                   className='d-flex align-items-center w-100' style={{backgroundColor: '#F7F8F7'}}>\r\n                                                <Breadcrumbs separator={<NavigateNextIcon fontSize=\"small\"/>}\r\n                                                             aria-label=\"Breadcrumb\">\r\n                                                    <Link href=\"#\" onClick={(e) => {\r\n                                                        this.props.history.push('/');\r\n                                                    }} className='job-detail-breadcrumbs-link'>\r\n                                                        Dashboard\r\n                                                    </Link>\r\n                                                    <h4 className='job-details-ship-title-font'>{this.state.job.vessel.vesselName.toUpperCase()}, {this.state.job.vessel.vesselIMOID}</h4>\r\n                                                </Breadcrumbs>\r\n                                                <div className='ml-auto'>\r\n                                                    <FocusOn enabled={this.props.isPopoverOpen}\r\n                                                             onClickOutside={this.props.handlePopoverClose}\r\n                                                             onEscapeKey={this.props.handlePopoverClose}>\r\n                                                        <Popover\r\n                                                            isOpen={this.props.isPopoverOpen}\r\n                                                            position={'bottom'}\r\n                                                            padding={10}\r\n                                                            containerStyle={{marginTop: '-10px'}}\r\n                                                            windowBorderPadding={15}\r\n                                                            onClickOutside={this.props.handlePopoverClose}\r\n                                                            content={({position, targetRect, popoverRect}) => (\r\n                                                                <ArrowContainer // if you'd like an arrow, you can import the ArrowContainer!\r\n                                                                    position={position}\r\n                                                                    targetRect={targetRect}\r\n                                                                    popoverRect={popoverRect}\r\n                                                                    arrowColor={'#666666'}\r\n                                                                    arrowSize={10}\r\n                                                                    arrowStyle={{opacity: 1}}\r\n                                                                >\r\n                                                                    <div\r\n                                                                        style={{\r\n                                                                            backgroundColor: '#666666',\r\n                                                                            opacity: 1,\r\n                                                                            width: \"80vw\",\r\n                                                                            padding: 16,\r\n                                                                            borderRadius: '5px'\r\n                                                                        }}\r\n                                                                        onClick={this.props.handlePopoverClose}\r\n                                                                    ><span style={{\r\n                                                                        fontFamily: 'Roboto',\r\n                                                                        fontSize: '14px',\r\n                                                                        color: 'white'\r\n                                                                    }}>Click on this button to share the job with\r\n                                                            anyone who is sending items to the same\r\n                                                            vessel!</span>\r\n                                                                    </div>\r\n                                                                </ArrowContainer>\r\n                                                            )}\r\n                                                        >\r\n                                                            <IconButton onClick={this.generateInvitationLink}>\r\n                                                                <ShareIcon\r\n                                                                    className='job-detail-share-icon-button'/>\r\n                                                            </IconButton>\r\n                                                        </Popover>\r\n                                                    </FocusOn>\r\n                                                </div>\r\n                                            </Paper>\r\n                                        </Row>\r\n                                        <Row>\r\n                                            <AntTabs value={this.state.activeScreen} onChange={this.handleChangeTab} variant=\"fullWidth\" centered className='w-100'>\r\n                                                <AntTab label='Job Details' value='jobDetails'/>\r\n                                                <AntTab label='Status' value='status'/>\r\n                                                <AntTab label='Documents' value='document'/>\r\n                                                <AntTab label='Drop-off' value='dropoff'/>\r\n                                                <AntTab label='Billing' value='billing'/>\r\n                                            </AntTabs>\r\n                                        </Row>\r\n                                        <Row>\r\n                                            <Paper square={true} elevation={5} className='w-100'>\r\n                                                {showComponent()}\r\n                                            </Paper>\r\n                                        </Row>\r\n                                        <div>\r\n                                            <JobShareSlide open={this.state.showSharingModal}\r\n                                                           onClose={this.handleShareModalClose}\r\n                                                           joblinkurl={this.state.jobLink.url}\r\n                                                           job={this.state.job}\r\n                                                           inputSelected={this.state.inputSelected}\r\n                                                           handleSelect={this.handleSelect}/>\r\n                                        </div>\r\n                                    </Container>\r\n                                </MediaQuery>\r\n                            </div>\r\n                        );\r\n                }\r\n        }\r\n    }\r\n}\r\n\r\n\r\nconst mapStateToProps = ({auth}) => {\r\n    return {auth};\r\n};\r\n\r\n\r\nexport default withRouter(connect(mapStateToProps)(JobDetails));","import React from \"react\";\r\n\r\nexport default function UserApprovalModal(props) {\r\n  return (\r\n    <React.Fragment>\r\n      <div className=\"modal-dialog\" role=\"document\">\r\n        <div className=\"modal-content\">\r\n          <div className=\"modal-header\">\r\n            <h5 className=\"modal-title\" id=\"exampleModalLabel\">\r\n              User Approval\r\n            </h5>\r\n            <button\r\n              type=\"button\"\r\n              className=\"close\"\r\n              data-dismiss=\"modal\"\r\n              aria-label=\"Close\"\r\n            >\r\n              <span aria-hidden=\"true\">&times;</span>\r\n            </button>\r\n          </div>\r\n          <div className=\"modal-body\">\r\n            Are you sure to {props.status} {props.user} to login?\r\n          </div>\r\n          <div className=\"modal-footer\">\r\n            <button\r\n              type=\"button\"\r\n              className=\"btn btn-secondary\"\r\n              data-dismiss=\"modal\"\r\n            >\r\n              Cancel\r\n            </button>\r\n            <button\r\n              type=\"button\"\r\n              className={`btn btn-${\r\n                props.status === \"disable\" ? \"danger\" : \"primary\"\r\n              }`}\r\n              onClick={() => props.onUpdateIsApprove(props.users)}\r\n              data-dismiss=\"modal\"\r\n            >\r\n              {props.status}\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </React.Fragment>\r\n  );\r\n}\r\n","import React, { Component } from \"react\";\r\nimport { Container } from \"reactstrap\";\r\nimport { Row, Table, Col } from \"reactstrap\";\r\nimport axios from \"axios\";\r\nimport UserApprovalModal from \"./UserApprovalModal\";\r\n\r\nclass UserApproval extends Component {\r\n  state = {\r\n    users: null\r\n  };\r\n\r\n  componentDidMount() {\r\n    axios\r\n      .get(`/api/users`)\r\n      .then(res => {\r\n        let users = res.data;\r\n        this.setState({ users });\r\n      })\r\n      .catch(err => {\r\n        console.log(err);\r\n      });\r\n  }\r\n\r\n  onUpdateIsApprove = users => {\r\n    console.log(users);\r\n    axios.put(`/api/users`, users).then(\r\n      axios\r\n        .get(`/api/users`)\r\n        .then(res => {\r\n          let users = res.data;\r\n          this.setState({ users });\r\n        })\r\n        .catch(err => {\r\n          console.log(err);\r\n        })\r\n    );\r\n  };\r\n\r\n  render() {\r\n    switch (this.state.users) {\r\n      case null:\r\n        return <div></div>;\r\n      default:\r\n        const content = Object.keys(this.state.users).map((key, index) => {\r\n          const users = this.state.users[key];\r\n          const compObj = users.userCompany;\r\n          let compName = \"\";\r\n          if (compObj === null || compObj === undefined) {\r\n            compName = \"\";\r\n          } else {\r\n            compName = compObj.name;\r\n          }\r\n          return (\r\n            <React.Fragment key={index}>\r\n              <tr>\r\n                <td>{users.firstName === \"\" ? \"-\" : users.firstName}</td>\r\n                <td>{users.lastName === \"\" ? \"-\" : users.lastName}</td>\r\n                <td>{users.email === \"\" ? \"-\" : users.email}</td>\r\n                <td>{compName === \"\" ? \"-\" : compName}</td>\r\n                <td>\r\n                  {users.contactNumber === \"\" ? \"-\" : users.contactNumber}\r\n                </td>\r\n                <td>\r\n                  {users.isApproved === true ? \"approved\" : \"not yet approved\"}\r\n                </td>\r\n                <td>\r\n                  <button\r\n                    className={`btn btn-${\r\n                      users.isApproved ? \"danger\" : \"primary\"\r\n                    }`}\r\n                    /* onClick={() => this.onUpdateIsApprove(users) } */\r\n                    data-toggle=\"modal\"\r\n                    data-target={`#approvemodal${users._id}`}\r\n                  >\r\n                    {users.isApproved ? \"disable\" : \"enable\"}\r\n                  </button>\r\n                </td>\r\n              </tr>\r\n              {/* modal approve */}\r\n              <div\r\n                className=\"modal fade\"\r\n                id={`approvemodal${users._id}`}\r\n                tabIndex=\"-1\"\r\n                role=\"dialog\"\r\n                aria-labelledby=\"exampleModalLabel\"\r\n                aria-hidden=\"true\"\r\n              >\r\n                <UserApprovalModal\r\n                  user={\r\n                    users.firstName === \"\" ? \"this account\" : users.firstName\r\n                  }\r\n                  status={users.isApproved ? \"disable\" : \"enable\"}\r\n                  onUpdateIsApprove={this.onUpdateIsApprove}\r\n                  users={users}\r\n                />\r\n              </div>\r\n            </React.Fragment>\r\n          );\r\n        });\r\n        return (\r\n          <Container fluid>\r\n            <br />\r\n            <Row>\r\n              <Col cs=\"12\" md={{ size: 12, offset: 0 }} className=\"text-center\">\r\n                <h1>User Approval</h1>\r\n              </Col>\r\n              <Col cs=\"12\" md={{ size: 12, offset: 0 }}>\r\n                <Table hover bordered responsive striped>\r\n                  <thead>\r\n                    <tr>\r\n                      <th>First name</th>\r\n                      <th>Last name</th>\r\n                      <th>Email</th>\r\n                      <th>Company</th>\r\n                      <th>Contact</th>\r\n                      <th>Status</th>\r\n                      <th>Action</th>\r\n                    </tr>\r\n                  </thead>\r\n                  <tbody>{content}</tbody>\r\n                </Table>\r\n              </Col>\r\n            </Row>\r\n          </Container>\r\n        );\r\n    }\r\n  }\r\n}\r\nexport default UserApproval;\r\n","import React, { Component } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport \"./App.css\";\r\nimport { BrowserRouter as Router, Route, Switch } from \"react-router-dom\";\r\nimport { fetchUser } from \"./actions/fetchActions\";\r\nimport VIP from \"./components/common/PrivateRoute\";\r\nimport ExNavbar from \"./components/layout/ExNavbar\";\r\nimport Footer from \"./components/layout/Footer\";\r\nimport Login from \"./components/auth/Login\";\r\nimport Dashboard from \"./components/Dashboard/Dashboard\";\r\nimport History from \"./components/History/History\";\r\nimport JobAssignment from \"./components/Job/JobAssignment/JobAssignment\";\r\nimport SideMenuSlider from \"./components/SideMenuSlider/SideMenuSlider\";\r\nimport JobDetails from \"./components/Job/JobDetails/JobDetails\";\r\nimport UserApproval from \"./components/UserApproval/UserApproval\";\r\n\r\nclass DynamicImport extends Component {\r\n  state = {\r\n    component: null\r\n  };\r\n\r\n  componentDidMount() {\r\n    this.props.load().then(component => {\r\n      this.setState(() => ({\r\n        component: component.default ? component.default : component\r\n      }));\r\n    });\r\n  }\r\n\r\n  render() {\r\n    return this.props.children(this.state.component);\r\n  }\r\n}\r\nconst MainNavbar = props => (\r\n  <DynamicImport load={() => import(\"./components/layout/MainNavbar.js\")}>\r\n    {Component =>\r\n      Component === null ? <p>Loading</p> : <Component {...props} />\r\n    }\r\n  </DynamicImport>\r\n);\r\nconst Home = props => (\r\n  <DynamicImport load={() => import(\"./components/content/Home.js\")}>\r\n    {Component =>\r\n      Component === null ? <p>Loading</p> : <Component {...props} />\r\n    }\r\n  </DynamicImport>\r\n);\r\nconst Analytics = props => (\r\n  <DynamicImport load={() => import(\"./components/Analytics/Analytics.js\")}>\r\n    {Component =>\r\n      Component === null ? <p>Loading</p> : <Component {...props} />\r\n    }\r\n  </DynamicImport>\r\n);\r\nclass App extends Component {\r\n  state = {\r\n    openMenu: false,\r\n    isPopoverOpen: false\r\n  };\r\n\r\n  handleMenuStateChange = state => {\r\n    this.setState({ openMenu: state.isOpen });\r\n  };\r\n\r\n  handlePopoverOpen = () => {\r\n    this.setState({ isPopoverOpen: true });\r\n  };\r\n\r\n  handleOpenMenu = () => {\r\n    this.setState({ openMenu: true });\r\n  };\r\n\r\n  handleCloseMenu = () => {\r\n    this.setState({ openMenu: false });\r\n  };\r\n\r\n  render() {\r\n    const { isAuthenticated, user } = this.props.auth;\r\n    return (\r\n      <div className=\"App\">\r\n        <Router>\r\n          {isAuthenticated ? (\r\n            <SideMenuSlider\r\n              open={this.state.openMenu}\r\n              handleCloseMenu={this.handleCloseMenu}\r\n              handleMenuStateChange={this.handleMenuStateChange}\r\n              handlePopoverOpen={this.handlePopoverOpen}\r\n            />\r\n          ) : (\r\n            \"\"\r\n          )}\r\n          <Switch>\r\n            {isAuthenticated ? (\r\n              <Route\r\n                exact\r\n                path=\"/\"\r\n                render={props => (\r\n                  <MainNavbar {...props} handleOpenMenu={this.handleOpenMenu} />\r\n                )}\r\n              />\r\n            ) : (\r\n              <Route exact path=\"/\" component={ExNavbar} />\r\n            )}\r\n            <Route\r\n              path=\"/\"\r\n              render={props => (\r\n                <MainNavbar {...props} handleOpenMenu={this.handleOpenMenu} />\r\n              )}\r\n            />\r\n          </Switch>\r\n          <Route exact path=\"/\" component={Home} />\r\n          <div className=\"\">\r\n            <Route exact path=\"/login\" component={Login} />\r\n            <Route exact path=\"/dashboard\" component={Dashboard} />\r\n            <Route exact path=\"/history\" component={History} />\r\n            <Route\r\n              exact\r\n              path=\"/job_details\"\r\n              render={props => (\r\n                <JobDetails\r\n                  {...props}\r\n                  handlePopoverClose={this.handlePopoverClose}\r\n                  isPopoverOpen={this.state.isPopoverOpen}\r\n                />\r\n              )}\r\n            ></Route>\r\n            {user.userType === \"Admin\" ? (\r\n              <React.Fragment>\r\n                <Route path=\"/user_approval\" component={UserApproval} />\r\n                <Route exact path=\"/job_assignment\" component={JobAssignment} />\r\n                <Route path=\"/analytics\" component={Analytics} />\r\n              </React.Fragment>\r\n            ) : null}\r\n          </div>\r\n          <Footer />\r\n        </Router>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n  auth: state.auth\r\n});\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  fetchUser\r\n)(App);\r\n","import axios from \"axios\";\r\n\r\nimport { FETCH_USER } from \"./types\";\r\n\r\nexport const fetchUser = () => async dispatch => {\r\n  const res = await axios.get(\"/api/users/fetch\");\r\n  await dispatch({ type: FETCH_USER, payload: res.data });\r\n  if (res === {}) {\r\n    window.location.href = \"/\";\r\n  }\r\n};\r\n","// This optional code is used to register a services worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.1/8 is considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our services worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a services worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // services worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a services ' +\r\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register services worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous services worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during services worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the services worker can be found. If it can't reload the page.\r\n  fetch(swUrl)\r\n    .then(response => {\r\n      // Ensure services worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No services worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready.then(registration => {\r\n      registration.unregister();\r\n    });\r\n  }\r\n}\r\n","import isEmpty from \"../validation/is-empty\";\r\n\r\nimport { FETCH_USER } from \"../actions/types\";\r\n\r\nconst initialState = {\r\n  isAuthenticated: false,\r\n  user: {}\r\n};\r\n\r\nexport default function(state = initialState, action) {\r\n  switch (action.type) {\r\n    case FETCH_USER:\r\n      return {\r\n        ...state,\r\n        isAuthenticated: !isEmpty(action.payload),\r\n        user: action.payload\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n","import { GET_ERRORS } from \"../actions/types\";\r\n\r\nconst initialState = {};\r\n\r\nexport default function(state = initialState, action) {\r\n  switch (action.type) {\r\n    case GET_ERRORS:\r\n      return action.payload;\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n","import { combineReducers } from \"redux\";\r\nimport fetchReducer from \"./fetchReducer\";\r\nimport errorReducer from \"./errorReducer\";\r\nexport default combineReducers({\r\n  auth: fetchReducer,\r\n  errors: errorReducer\r\n});\r\n","import { createStore, applyMiddleware, compose } from \"redux\";\r\nimport thunk from \"redux-thunk\";\r\nimport rootReducer from \"./reducers\";\r\n\r\nconst initialState = {};\r\n\r\nconst middleware = [thunk];\r\n\r\nconst store = createStore(\r\n  rootReducer,\r\n  initialState,\r\n  compose(\r\n    applyMiddleware(...middleware),\r\n    window.__REDUX_DEVTOOLS_EXTENSION__ && window.__REDUX_DEVTOOLS_EXTENSION__()\r\n  )\r\n);\r\n\r\nexport default store;\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport \"./index.css\";\r\nimport App from \"./App\";\r\nimport * as serviceWorker from \"./serviceWorker\";\r\nimport { Provider } from \"react-redux\";\r\nimport store from \"./store\";\r\n\r\nReactDOM.render(\r\n  <Provider store={store}>\r\n    <App />\r\n  </Provider>,\r\n  document.getElementById(\"root\")\r\n);\r\nserviceWorker.unregister();\r\n","export const GET_ERRORS = \"GET_ERRORS\";\r\nexport const FETCH_USER = \"FETCH_USER\";\r\n","import \"./SidebarMenu.css\";\r\nimport React, { Component } from \"react\";\r\nimport { NavLink, withRouter } from \"react-router-dom\";\r\nimport { connect } from \"react-redux\";\r\n\r\nimport Fab from \"@material-ui/core/Fab\";\r\nimport Grid from \"@material-ui/core/Grid\";\r\nimport axios from \"axios\";\r\n\r\nimport CreateJobModal from \"../Job/CreateJobModal\";\r\n\r\nclass SidebarMenu extends Component {\r\n  state = {\r\n    sidebarOpen: true,\r\n    showModal: false,\r\n    showHistory: false\r\n  };\r\n\r\n  componentDidMount() {\r\n    axios\r\n      .get(`/api/jobs?archive_only=true&user_only=true`)\r\n      .then(res => {\r\n        this.setState({\r\n          showHistory: res.data.length >= 1\r\n        });\r\n      })\r\n      .catch(err => {\r\n        console.log(err);\r\n      });\r\n  }\r\n\r\n  handleOpenModal = () => {\r\n    this.setState({ showModal: true });\r\n  };\r\n\r\n  handleCloseModal = () => {\r\n    this.setState({ showModal: false });\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <div id=\"sidebar-body\">\r\n        <Grid container spacing={3}>\r\n          {/* {this.props.auth.user.userType !== \"Admin\" ? (\r\n            <Grid item xs={12} className=\"d-flex justify-content-center\">\r\n              <Fab\r\n                variant=\"extended\"\r\n                size=\"medium\"\r\n                className=\"side-bar-create-job-button\"\r\n                onClick={this.handleOpenModal}\r\n              >\r\n                + Create job\r\n              </Fab>\r\n            </Grid>\r\n          ) : (\r\n            \"\"\r\n          )} */}\r\n          <Grid item xs={12}>\r\n            <NavLink to=\"/\" className=\"sidebar-link\">\r\n              Upcoming Jobs\r\n            </NavLink>\r\n          </Grid>\r\n          <Grid item xs={12}>\r\n            <NavLink to=\"/dashboard\" className=\"sidebar-link\">\r\n              Dashboard\r\n            </NavLink>\r\n          </Grid>\r\n          {this.state.showHistory ? (\r\n            <Grid item xs={12}>\r\n              <NavLink to=\"/history\" className=\"sidebar-link\">\r\n                History\r\n              </NavLink>\r\n            </Grid>\r\n          ) : (\r\n            \"\"\r\n          )}\r\n          {this.props.auth.user.userType === \"Admin\" ? (\r\n            <Grid item xs={12}>\r\n              <NavLink to=\"/job_assignment\" className=\"sidebar-link\">\r\n                Job Assignment\r\n              </NavLink>\r\n            </Grid>\r\n          ) : (\r\n            \"\"\r\n          )}\r\n          {this.props.auth.user.userType === \"Admin\" ? (\r\n            <Grid item xs={12}>\r\n              <NavLink to=\"/analytics\" className=\"sidebar-link\">\r\n                Analytics\r\n              </NavLink>\r\n            </Grid>\r\n          ) : (\r\n            \"\"\r\n          )}\r\n          {/*{this.props.auth.user.userType === \"Admin\" ? (*/}\r\n          {/*  <Grid item xs={12}>*/}\r\n          {/*    <NavLink to=\"/delivery_schedule\" className=\"sidebar-link\">*/}\r\n          {/*      Job Schedule*/}\r\n          {/*    </NavLink>*/}\r\n          {/*  </Grid>*/}\r\n          {/*) : (*/}\r\n          {/*  \"\"*/}\r\n          {/*)}*/}\r\n          {this.props.auth.user.userType === \"Admin\" ? (\r\n            <Grid item xs={12}>\r\n              <NavLink to=\"/user_approval\" className=\"sidebar-link\">\r\n                User Approval\r\n              </NavLink>\r\n            </Grid>\r\n          ) : (\r\n            \"\"\r\n          )}\r\n        </Grid>\r\n\r\n        <CreateJobModal\r\n          isOpen={this.state.showModal}\r\n          handleCloseModal={this.handleCloseModal}\r\n          fullScreen={false}\r\n        />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = ({ auth }) => {\r\n  return { auth };\r\n};\r\n\r\nexport default withRouter(connect(mapStateToProps)(SidebarMenu));\r\n","import React, {Component} from 'react';\r\nimport axios from 'axios';\r\n\r\nimport Button from '@material-ui/core/Button'\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport DialogActions from '@material-ui/core/DialogActions';\r\nimport DialogContent from '@material-ui/core/DialogContent';\r\nimport DialogTitle from '@material-ui/core/DialogTitle';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport CloseIcon from '@material-ui/icons/Close';\r\nimport InputGroup from 'react-bootstrap/InputGroup'\r\nimport ButtonB from 'react-bootstrap/Button'\r\nimport FormControl from 'react-bootstrap/FormControl'\r\nimport {CopyToClipboard} from 'react-copy-to-clipboard';\r\n\r\nimport TagsInput from 'react-tagsinput';\r\nimport LinesEllipsis from 'react-lines-ellipsis'\r\n\r\nimport 'react-tagsinput/react-tagsinput.css'\r\n\r\nimport './JobShareModal.css';\r\n\r\nimport Snackbar from \"@material-ui/core/Snackbar\";\r\nimport Slide from \"@material-ui/core/Slide\";\r\n\r\nfunction defaultRenderTag(props) {\r\n    let {tag, key, disabled, onRemove, classNameRemove, getTagDisplayValue, ...other} = props\r\n    return (\r\n        <div key={key} {...other}>\r\n            <div style={{maxWidth:400, wordBreak:\"break-all\"}}>\r\n                <LinesEllipsis\r\n                    text={getTagDisplayValue(tag)}\r\n                    maxLine='1'\r\n                    ellipsis='...'\r\n                    trimRight\r\n                    basedOn='letters'\r\n                />\r\n            </div>\r\n            {!disabled &&\r\n            <a className={classNameRemove} onClick={(e) => onRemove(key)}/>\r\n            }\r\n        </div>\r\n    )\r\n}\r\n\r\nclass JobShareModal extends Component {\r\n    // Props: Close=Function to handle close, joburllink=url link string, show=boolean to show modal, job=job object//\r\n    state = {\r\n        copied: false,\r\n        emailList: [],\r\n        message: '',\r\n        emailInputs: '',\r\n        mobileWebShare: false,\r\n        showSuccessSnackBar: false,\r\n    };\r\n\r\n    componentDidMount() {\r\n        // Set whether mobile web share is possible\r\n        this.setState({\r\n            mobileWebShare: navigator.share !== undefined && navigator.share\r\n        });\r\n    }\r\n\r\n    handleMessageChange = (e) => {\r\n        this.setState({message: e.target.value});\r\n    };\r\n\r\n    updateEmailList = (emailList) => {\r\n        this.setState({emailList})\r\n    };\r\n\r\n    handleEmailInputChange = (value) => {\r\n        this.setState({emailInputs: value});\r\n    };\r\n\r\n    handleInputClear = () => {\r\n        this.setState({emailInputs: ''})\r\n    };\r\n\r\n\r\n    //For Mobile Sharing\r\n    webShareJobLink = () => {\r\n        if (this.state.mobileWebShare) {\r\n            navigator.share({\r\n                title: `Job Invitation - ${this.props.job.jobId}`,\r\n                text: `Click this link to join my delivery job to ${this.props.job.vessel.vesselName}`,\r\n                url: this.props.joblinkurl\r\n            })\r\n                .then(() => console.log('Successful share'))\r\n                .catch((error) => console.log('Error sharing', error));\r\n        }\r\n    };\r\n\r\n    sendEmail = () => {\r\n        const emailList = this.state.emailList;\r\n        if (this.state.emailInputs.includes('@')) {\r\n            emailList.push(this.state.emailInputs)\r\n        }\r\n\r\n        for (let i = 0; i < emailList.length; i++) {\r\n            const email = emailList[i];\r\n\r\n            if (email.trim() !== \"\") {\r\n                axios.post('/api/job_links/share', {\r\n                    email,\r\n                    job: this.props.job,\r\n                    message: this.state.message,\r\n                }).then(res => {\r\n                    this.setState({showSuccessSnackBar: true, emailList: [], emailInputs: '', message: ''});\r\n                    window.setTimeout(() => this.setState({showSuccessSnackBar: false}), 5000)\r\n                }).catch(err => {\r\n                    console.log(err);\r\n                });\r\n            }\r\n        }\r\n    };\r\n\r\n    SlideTransition = (props) => {\r\n        return <Slide {...props} direction=\"up\"/>\r\n    };\r\n\r\n    handleSnackBarClose = () => {\r\n        this.setState({showSuccessSnackBar: false})\r\n    };\r\n\r\n\r\n    render() {\r\n        return (\r\n            <div>\r\n                <Dialog open={this.props.show} onClose={this.props.Close} maxWidth=\"sm\" fullWidth={true}>\r\n                    <DialogTitle id=\"alert-dialog-title\" className='job-share-modal-top'>\r\n                        <div className='d-flex align-items-center'>\r\n                            <p className='job-share-modal-title'>{this.props.job.vessel.vesselName.toUpperCase()}, {this.props.job.vessel.vesselIMOID}</p>\r\n                            <IconButton aria-label=\"Close\" className='job-share-modal-close ml-auto'\r\n                                        onClick={this.props.Close}>\r\n                                <CloseIcon/>\r\n                            </IconButton>\r\n                        </div>\r\n                    </DialogTitle>\r\n                    <DialogContent className='job-share-modal-content'>\r\n                        <div className='job-share-modal-copy'>\r\n                            <h6 className='job-share-modal-copy-title'>Do you know anyone sending items\r\n                                to {this.props.job.vessel.vesselName.toUpperCase()}, {this.props.job.vessel.vesselIMOID}?</h6>\r\n                            <InputGroup className='job-share-modal-url'>\r\n                                <FormControl\r\n                                    value={this.props.joblinkurl}\r\n                                    disabled={true}\r\n                                    className='job-share-modal-url-link'\r\n                                />\r\n                                <InputGroup.Append>\r\n                                    <CopyToClipboard text={this.props.joblinkurl}\r\n                                                     onCopy={this.props.copied}\r\n                                    >\r\n                                        {\r\n                                            this.state.mobileWebShare\r\n                                                ? <ButtonB variant=\"outline-secondary\"\r\n                                                           className='job-share-modal-url-link'\r\n                                                           onClick={this.webShareJobLink}>Share</ButtonB>\r\n                                                : <ButtonB variant=\"outline-secondary\"\r\n                                                           className='job-share-modal-url-link'>Copy Link</ButtonB>\r\n                                        }\r\n                                    </CopyToClipboard>\r\n                                </InputGroup.Append>\r\n                            </InputGroup>\r\n                            <p style={{\r\n                                fontFamily: 'Roboto',\r\n                                fontSize: '10px',\r\n                                color: '#707070',\r\n                                marginTop: 5,\r\n                            }}><i>Please ensure that the other party using the link has an account and is logged in\r\n                                before entering the above link.</i></p>\r\n\r\n                        </div>\r\n                        <div className='job-share-modal-email'>\r\n                            <h6 className='job-share-modal-copy-title'>People</h6>\r\n                            <InputGroup>\r\n                                <div style={{width: '100%'}}>\r\n                                    <TagsInput value={this.state.emailList} onChange={this.updateEmailList}\r\n                                               className='form-control job-share-email-inputbox'\r\n                                               onChangeInput={this.handleEmailInputChange}\r\n                                               inputValue={this.state.emailInputs}\r\n                                               inputProps={{\r\n                                                   className: 'react-tagsinput-input job-share-email-input',\r\n                                                   placeholder: 'Please Enter Email Address'\r\n                                               }}\r\n                                               tagProps={{\r\n                                                   className: 'react-tagsinput-tag job-share-email-tag',\r\n                                                   classNameRemove: 'react-tagsinput-remove'\r\n                                               }}\r\n                                               validate={this.validate}\r\n                                               addKeys={[9, 13, 186]}\r\n                                               renderTag={defaultRenderTag}\r\n\r\n                                    />\r\n                                    <p style={{\r\n                                        fontFamily: 'Roboto',\r\n                                        fontSize: '10px',\r\n                                        color: '#707070',\r\n                                        marginBottom: '8px',\r\n                                    }}>for multiple recipients, please use semicolon to separate</p>\r\n                                </div>\r\n                            </InputGroup>\r\n                            <FormControl placeholder='Add a note (Optional)' value={this.state.message} as=\"textarea\"\r\n                                         rows=\"4\" onChange={this.handleMessageChange}\r\n                                         className='job-share-modal-message'/>\r\n                        </div>\r\n                    </DialogContent>\r\n                    <DialogActions className='d-flex justify-content-center job-share-modal-bottom'>\r\n                        <Button onClick={(e) => {\r\n                            if (this.state.emailList.length === 0 && this.state.emailInputs === '') {\r\n                                alert('Email Cannot be Empty!')\r\n                            } else {\r\n                                this.props.Close();\r\n                                this.sendEmail();\r\n                            }\r\n                        }} variant=\"contained\" size=\"large\" className='job-share-modal-button'>\r\n                            Send\r\n                        </Button>\r\n                    </DialogActions>\r\n                </Dialog>\r\n                <Snackbar anchorOrigin={{horizontal: 'left', vertical: 'bottom'}}\r\n                          open={this.state.showSuccessSnackBar}\r\n                          message={<span id=\"message-id\">Message has been sent!</span>}\r\n                          action={\r\n                              <IconButton\r\n                                  key=\"close\"\r\n                                  color=\"inherit\"\r\n                                  onClick={this.handleSnackBarClose}\r\n                              >\r\n                                  <CloseIcon/>\r\n                              </IconButton>\r\n                          }\r\n                          TransitionComponent={this.SlideTransition}\r\n                />\r\n            </div>\r\n        );\r\n    }\r\n\r\n    validate = (tag) => {\r\n        return tag.includes('@')\r\n    }\r\n\r\n}\r\n\r\nexport default JobShareModal;","import React, { Component } from \"react\";\r\nimport axios from \"axios\";\r\n\r\nimport InputGroup from \"react-bootstrap/InputGroup\";\r\nimport ButtonB from \"react-bootstrap/Button\";\r\nimport FormControl from \"react-bootstrap/FormControl\";\r\nimport { CopyToClipboard } from \"react-copy-to-clipboard\";\r\n\r\nimport { Drawer } from \"@material-ui/core\";\r\n\r\nimport \"./JobShareSlide.css\";\r\nimport Divider from \"@material-ui/core/Divider\";\r\nimport Paper from \"@material-ui/core/Paper\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport clsx from \"clsx\";\r\nimport TagsInput from \"react-tagsinput\";\r\n\r\nclass JobShareSlide extends Component {\r\n  state = {\r\n    copied: false,\r\n    emailList: [],\r\n    message: \"\",\r\n    emailInputs: \"\",\r\n    mobileWebShare: false,\r\n    showSuccessSnackBar: false\r\n  };\r\n\r\n  componentDidMount() {\r\n    // Set whether mobile web share is possible\r\n    this.setState({\r\n      mobileWebShare: navigator.share !== undefined && navigator.share\r\n    });\r\n  }\r\n\r\n  handleMessageChange = e => {\r\n    this.setState({ message: e.target.value });\r\n  };\r\n\r\n  updateEmailList = emailList => {\r\n    this.setState({ emailList });\r\n  };\r\n\r\n  handleEmailInputChange = value => {\r\n    this.setState({ emailInputs: value });\r\n  };\r\n\r\n  handleInputClear = () => {\r\n    this.setState({ emailInputs: \"\" });\r\n  };\r\n\r\n  webShareJobLink = () => {\r\n    if (this.state.mobileWebShare) {\r\n      navigator\r\n        .share({\r\n          title: `Job Invitation - ${this.props.job.jobId}`,\r\n          text: `Click this link to join my delivery job to ${this.props.job.vessel.vesselName}`,\r\n          url: this.props.joblinkurl\r\n        })\r\n        .then(() => console.log(\"Successful share\"))\r\n        .catch(error => console.log(\"Error sharing\", error));\r\n    }\r\n  };\r\n\r\n  sendEmail = () => {\r\n    const emailInputs = this.state.emailInputs;\r\n    const emailList = emailInputs.split(\";\");\r\n\r\n    for (let i = 0; i < emailList.length; i++) {\r\n      const email = emailList[i];\r\n\r\n      if (email.trim() !== \"\") {\r\n        axios\r\n          .post(\"/api/job_links/share\", {\r\n            email,\r\n            job: this.props.job\r\n          })\r\n          .catch(err => {\r\n            console.log(err);\r\n          });\r\n      }\r\n    }\r\n  };\r\n\r\n  render() {\r\n    let renderContent;\r\n    if (this.props.inputSelected) {\r\n      renderContent = (\r\n        <div className=\"job-share-modal-copy\">\r\n          <h6 className=\"job-share-modal-copy-title\">Message</h6>\r\n          <FormControl\r\n            placeholder=\"Add a note (Optional)\"\r\n            value={this.state.message}\r\n            as=\"textarea\"\r\n            rows=\"6\"\r\n            onChange={this.handleMessageChange}\r\n            className=\"job-share-modal-message\"\r\n          />\r\n          <Button\r\n            onClick={e => {\r\n              this.props.onClose();\r\n              this.sendEmail();\r\n            }}\r\n            variant=\"contained\"\r\n            size=\"large\"\r\n            className=\"job-share-modal-button\"\r\n            fullWidth\r\n          >\r\n            Send\r\n          </Button>\r\n        </div>\r\n      );\r\n    } else {\r\n      renderContent = (\r\n        <div className=\"job-share-modal-copy\">\r\n          <h6 className=\"job-share-modal-copy-title\">\r\n            Do you know anyone sending items to{\" \"}\r\n            {this.props.job.vessel.vesselName.toUpperCase()},{\" \"}\r\n            {this.props.job.vessel.vesselIMOID}?\r\n          </h6>\r\n          <InputGroup className=\"job-share-modal-url\">\r\n            <FormControl\r\n              onChange={() => {}}\r\n              value={this.props.joblinkurl}\r\n              disabled={true}\r\n              className=\"job-share-modal-url-link\"\r\n            />\r\n            <InputGroup.Append>\r\n              <CopyToClipboard\r\n                text={this.props.joblinkurl}\r\n                onCopy={this.props.copied}\r\n              >\r\n                {this.state.mobileWebShare ? (\r\n                  <ButtonB\r\n                    variant=\"outline-secondary\"\r\n                    className=\"job-share-modal-url-link\"\r\n                    onClick={this.webShareJobLink}\r\n                  >\r\n                    Share\r\n                  </ButtonB>\r\n                ) : (\r\n                  <ButtonB\r\n                    variant=\"outline-secondary\"\r\n                    className=\"job-share-modal-url-link\"\r\n                  >\r\n                    Copy Link\r\n                  </ButtonB>\r\n                )}\r\n              </CopyToClipboard>\r\n            </InputGroup.Append>\r\n          </InputGroup>\r\n        </div>\r\n      );\r\n    }\r\n\r\n    return (\r\n      <Drawer\r\n        anchor=\"bottom\"\r\n        open={this.props.open}\r\n        onClose={this.props.onClose}\r\n        PaperProps={{\r\n          className: clsx(\r\n            \"MuiPaper-root MuiPaper-elevation16 MuiDrawer-paper MuiDrawer-paperAnchorBottom drawer-job-share\",\r\n            this.props.inputSelected && \"full-height-drawer\"\r\n          )\r\n        }}\r\n      >\r\n        <h3 onClick={this.props.onClose} className=\"job-slide-cancel\">\r\n          Cancel\r\n        </h3>\r\n        <Divider className=\"job-share-drawer-divider\" />\r\n        <Paper elevation={0} className=\"job-share-drawer-paper\">\r\n          <div className=\"job-share-modal-email\">\r\n            <h6 className=\"job-share-modal-copy-title\">Send to</h6>\r\n            <InputGroup>\r\n              <div style={{ width: \"100%\" }} onClick={this.props.handleSelect}>\r\n                <TagsInput\r\n                  value={this.state.emailList}\r\n                  onChange={this.updateEmailList}\r\n                  className=\"form-control job-share-email-inputbox\"\r\n                  onChangeInput={this.handleEmailInputChange}\r\n                  inputValue={this.state.emailInputs}\r\n                  inputProps={{\r\n                    className: \"react-tagsinput-input job-share-email-input\",\r\n                    placeholder: \"Please Enter Email Address\"\r\n                  }}\r\n                  tagProps={{\r\n                    className: \"react-tagsinput-tag job-share-email-tag\",\r\n                    classNameRemove: \"react-tagsinput-remove\"\r\n                  }}\r\n                  validate={this.validate}\r\n                  addKeys={[9, 13, 186]}\r\n                />\r\n                <p\r\n                  style={{\r\n                    fontFamily: \"Roboto\",\r\n                    fontSize: \"10px\",\r\n                    color: \"#707070\",\r\n                    marginBottom: \"8px\"\r\n                  }}\r\n                >\r\n                  for multiple recipients, please use semicolon to separate\r\n                </p>\r\n              </div>\r\n            </InputGroup>\r\n          </div>\r\n          {renderContent}\r\n        </Paper>\r\n      </Drawer>\r\n    );\r\n  }\r\n}\r\n\r\nexport default JobShareSlide;\r\n","import 'rc-time-picker/assets/index.css';\r\nimport \"react-datepicker/dist/react-datepicker.css\"\r\nimport 'react-bootstrap-typeahead/css/Typeahead.css';\r\nimport 'react-bootstrap-typeahead/css/Typeahead-bs4.css';\r\nimport \"./CreateJob.css\";\r\nimport React, { Component } from \"react\";\r\nimport { withRouter } from \"react-router-dom\";\r\nimport { connect } from \"react-redux\";\r\nimport { Container, Row, Col, Button } from \"react-bootstrap\";\r\nimport _ from \"lodash\";\r\nimport {Form, FormGroup, Input, Label, FormText} from \"reactstrap\";\r\nimport FormRB from 'react-bootstrap/Form';\r\nimport {Divider, Popover, FormControlLabel, Checkbox} from \"@material-ui/core\";\r\nimport TimePicker from 'rc-time-picker';\r\nimport moment from \"moment\";\r\n/* import JobItemInput from \"./JobDetails/Form/JobItemInput\";\r\nimport DateInputComponent from \"./JobDetails/Form/DateInputComponent\"; */\r\nimport {AsyncTypeahead, Typeahead, Highlighter, TypeaheadMenu} from 'react-bootstrap-typeahead';\r\nimport FormControl from \"@material-ui/core/FormControl\";\r\nimport RadioGroup from \"@material-ui/core/RadioGroup\";\r\nimport FormLabel from \"@material-ui/core/FormLabel\";\r\nimport Radio from \"@material-ui/core/Radio\";\r\n\r\nclass CreateJob extends Component {\r\n  state = {\r\n    jobId: \"\",\r\n    vesselIMOID: \"\",\r\n    vesselName: \"\",\r\n    vesselCallsign: \"\",\r\n    vesselLoadingLocation: \"PSA\",\r\n    vesselArrivalDateTime: new Date().toISOString(),\r\n    uploadedFile: null,\r\n    jobItems: [],\r\n    jobOfflandItems: [],\r\n    careOffParties: [],\r\n    remarks: \"\",\r\n    psaBerthingDateTime: \"\",\r\n    psaUnberthingDateTime: \"\",\r\n    vesselLoadingDateTime: new Date().toISOString(),\r\n    createDSA: false,\r\n    activeStep: 0,\r\n    steps: [\r\n      { title: \"Vessel Information\" },\r\n      { title: \"Vessel Location\" },\r\n      { title: \"Item Details\" },\r\n      { title: \"Confirmation\" }\r\n    ],\r\n    ItemsDeliverAnchorEl: null,\r\n    ItemsOfflandAnchorEl: null,\r\n    job: null,\r\n    vessels: [],\r\n    vesselLighterName: \"\",\r\n    //vesselLighterDateTime: new Date().toISOString(),\r\n    vesselLighterLocation: \"Marina South Wharves\",\r\n    vesselLighterRemarks: \"\",\r\n    otherVesselLocation: \"\",\r\n    submitButtonActive: true,\r\n    isLoading: false,\r\n    vesselQueryResults: [],\r\n    vesselSelected: \"\"\r\n  };\r\n\r\n  componentDidMount() {\r\n  }\r\n\r\n  handleJobIdChange = (e) => {\r\n      this.setState({jobId: e.target.value});\r\n  };\r\n\r\n  handleVesselLoadingLocationChange = (e) => {\r\n      this.setState({vesselLoadingLocation: e.target.value});\r\n  };\r\n\r\n  handleRemarksChange = (e) => {\r\n      this.setState({remarks: e.target.value});\r\n  };\r\n\r\n  handleVesselLighterRemarksChange = (e) => {\r\n      this.setState({vesselLighterRemarks: e.target.value});\r\n  };\r\n\r\n  validateItems = (items) => {\r\n      // Check for empty item entries\r\n      const filteredItems = [];\r\n      for (let i = 0; i < items.length; i++) {\r\n          const item = items[i];\r\n          if (item.quantity !== '' && item.uom !== '') {\r\n              delete item['id'];\r\n              filteredItems.push(item);\r\n          }\r\n      }\r\n      return filteredItems;\r\n  };\r\n\r\n  validateCareOffs = () => {\r\n      // Check for empty care-off entries\r\n      const careOffParties = this.state.careOffParties;\r\n      const filteredCareOffParties = [];\r\n      for (let i = 0; i < careOffParties.length; i++) {\r\n          const careOffParty = careOffParties[i];\r\n          if (careOffParty.companyName !== '' && careOffParty.personName !== '' && careOffParty.contactNumber !== '' && careOffParty.email !== '') {\r\n              delete careOffParty['id'];\r\n              filteredCareOffParties.push(careOffParty);\r\n          }\r\n      }\r\n      return filteredCareOffParties;\r\n  };\r\n\r\n  onSubmit = async (e) => {\r\n      e.preventDefault();\r\n\r\n      // Check for empty item entries\r\n      const filteredItems = this.validateItems(this.state.jobItems);\r\n      const filteredJobOfflandItems = this.validateItems(this.state.jobOfflandItems);\r\n\r\n      // Check for empty care-off entries\r\n      const filteredCareOffParties = this.validateCareOffs();\r\n\r\n      /* if (this.state.vesselQueryResults.length > 1) {\r\n          let vesselSelected = this.state.vesselQueryResults.filter((o) => o.vesselIMOID === this.state.vesselSelected)[0]\r\n          await this.setState({\r\n              vesselIMOID: vesselSelected.vesselIMOID ? vesselSelected.vesselIMOID : '',\r\n              vesselName: vesselSelected ? vesselSelected.vesselName : '',\r\n              vesselCallsign: vesselSelected ? vesselSelected.vesselCallsign : '',\r\n              isLoading: false,\r\n          });\r\n      }\r\n */\r\n      /* if (this.state.vesselIMOID === '' && this.state.vesselCallsign === '') {\r\n          window.alert('Either Vessel IMO or Callsign must be filled');\r\n      } else if (this.state.vesselName === '') {\r\n          window.alert('Vessel Name must be filled');\r\n      } else if (this.state.vesselLoadingLocation !== 'PSA' && (new Date(this.state.vesselLoadingDateTime) - new Date()) < 0) {\r\n          window.alert('Vessel Loading Time cannot be before now')\r\n      } else if (this.state.vesselLoadingDateTime === '') {\r\n          window.alert('Vessel Loading Date and Time must be filled');\r\n      } else if (isNaN(this.state.vesselIMOID) || this.state.vesselIMOID.length !== 7) {\r\n          window.alert('Vessel IMO must contain exactly 7 digits only');\r\n      } else if (filteredItems.length < 1) {\r\n          window.alert('At least one item must be submitted for delivery!');\r\n      } else if (this.state.vesselArrivalDateTime === '') {\r\n          window.alert('Vessel ETA must be filled');\r\n      } else {\r\n          // Disable submit button to prevent duplicate bookings\r\n          this.setState({submitButtonActive: false});\r\n\r\n          // Create job\r\n          axios.post('/api/jobs', {\r\n              jobId: this.state.jobId,\r\n              vesselIMOID: this.state.vesselIMOID,\r\n              vesselCallsign: this.state.vesselCallsign,\r\n              vesselName: this.state.vesselName,\r\n              vesselLoadingLocation: this.state.vesselLoadingLocation,\r\n              vesselArrivalDateTime: this.state.vesselArrivalDateTime,\r\n              jobItems: filteredItems,\r\n              jobOfflandItems: filteredJobOfflandItems,\r\n              careOffParties: filteredCareOffParties,\r\n              remarks: this.state.remarks,\r\n              psaBerthingDateTime: this.state.psaBerthingDateTime,\r\n              psaUnberthingDateTime: this.state.psaUnberthingDateTime,\r\n              vesselLoadingDateTime: this.state.vesselLoadingDateTime,\r\n              createDSA: this.state.createDSA,\r\n              vesselLighterName: this.state.vesselLighterName,\r\n              vesselLighterLocation: this.state.vesselLighterLocation,\r\n              vesselLighterRemarks: this.state.vesselLighterRemarks,\r\n              otherVesselLocation: this.state.otherVesselLocation\r\n          }).then(res => {\r\n              const job = res.data;\r\n\r\n              // Set job tracker to job approved automatically\r\n              axios.post('/api/job_trackers', {\r\n                  index: 2,\r\n                  title: 'Job booking confirmed',\r\n                  description: 'We have confirmed your job booking. Please deliver the items to \\'No. 6 Tuas Ave 6, Singapore 639311\\' at least 24 hours before the vessel arrives.',\r\n                  trackingType: 'Electronic',\r\n                  jobId: job._id\r\n              }).then(res => {\r\n                  axios.post('/api/job_links', {\r\n                      job\r\n                  }).then(res => {\r\n                      this.setState({activeStep: 2, job});\r\n                  }).catch(err => {\r\n                      console.log(err);\r\n                  });\r\n              }).catch(err => {\r\n                  console.log(err);\r\n              });\r\n          }).catch(err => {\r\n              console.log(err);\r\n          });\r\n      } */this.setState({activeStep: 2/* , job */});\r\n  };\r\n\r\n  handleVesselArrivalTimeChange = (value) => {\r\n      this.setState({vesselArrivalDateTime: value.toDate().toISOString()});\r\n  };\r\n\r\n  handleVesselArrivalDateChange = (vesselArrivalDateTime) => {\r\n      this.setState({vesselArrivalDateTime: vesselArrivalDateTime.toISOString()});\r\n  };\r\n\r\n  handleVesselLoadingTimeChange = (value) => {\r\n      this.setState({vesselLoadingDateTime: value.toDate().toISOString()});\r\n  };\r\n\r\n  handleVesselLoadingDateChange = (vesselLoadingDateTime) => {\r\n      this.setState({vesselLoadingDateTime: vesselLoadingDateTime.toISOString()});\r\n  };\r\n\r\n  handleVesselLighterNameChange = (e) => {\r\n      this.setState({vesselLighterName: e.target.value});\r\n  };\r\n\r\n  handleVesselLighterLocationChange = (e) => {\r\n      this.setState({vesselLighterLocation: e.target.value});\r\n  };\r\n\r\n  handleOtherVesselLocationChange = (e) => {\r\n      this.setState({otherVesselLocation: e.target.value});\r\n  };\r\n\r\n  handleDeliverClose = () => {\r\n      this.setState({ItemsDeliverAnchorEl: null})\r\n  };\r\n\r\n  handleOfflandClose = () => {\r\n      this.setState({ItemsOfflandAnchorEl: null})\r\n  };\r\n\r\n  handleCreateDSAChange = (e) => {\r\n      this.setState({createDSA: e.target.checked})\r\n  };\r\n\r\n  handleNextStep = async () => {\r\n      const filteredItems = this.validateItems(this.state.jobItems);\r\n      const filteredJobOfflandItems = this.validateItems(this.state.jobOfflandItems);\r\n\r\n      // Check for empty care-off entries\r\n      const filteredCareOffParties = this.validateCareOffs();\r\n\r\n      const now = new Date();\r\n\r\n      /* if (this.state.vesselIMOID === '' && this.state.vesselCallsign === '') { */\r\n          this.setState({isLoading: true});\r\n          const queryVesselName = this.state.vesselName;\r\n\r\n          try {\r\n              /* const res = await axios.get(`/api/vessels/search?query=${queryVesselName}`); */\r\n              /* const result = res.data;\r\n              if (result.length === 1) {\r\n                  this.setState({\r\n                      vesselIMOID: result[0].vesselIMOID ? result[0].vesselIMOID : '',\r\n                      vesselName: result[0] ? result[0].vesselName : '',\r\n                      vesselCallsign: result[0] ? result[0].vesselCallsign : '',\r\n                      isLoading: false,\r\n                  });\r\n              } else if (result.length > 1) {\r\n                  this.setState({vesselQueryResults: result})\r\n              } else {\r\n                  this.setState({isLoading: false});\r\n                  window.alert(`There is no such Vessel with Name: ${queryVesselName}`)\r\n                  return;\r\n              } */\r\n          } catch (err) {\r\n              console.log(err);\r\n          }/* \r\n      } */\r\n\r\n\r\n      /* if (this.state.vesselName === '') {\r\n          window.alert('Vessel Name must be filled');\r\n      } else if (this.state.vesselLoadingLocation !== 'PSA' && (new Date(this.state.vesselLoadingDateTime) - now.setHours( now.getHours() + 2 )) < 0) {\r\n          window.alert('Vessel Loading Time cannot be 2 hours before Arrival of Vessel')\r\n      } else if (this.state.vesselLoadingDateTime === '') {\r\n          window.alert('Vessel Loading Date and Time must be filled');\r\n      } else if (filteredItems.length < 1) {\r\n          window.alert('At least one item must be submitted for delivery!');\r\n      } else if (this.state.vesselArrivalDateTime === '') {\r\n          window.alert('Vessel ETA must be filled');\r\n      } else if (this.state.vesselLoadingLocation === 'Others' && this.state.otherVesselLocation === '') {\r\n          window.alert('Vessel Loading Location must be filled');\r\n      } else { */\r\n          this.setState({activeStep: 1});\r\n      /* } */\r\n  }; \r\n\r\n  handlePaymentBack = () => {\r\n      this.setState({activeStep: 0});\r\n  };\r\n\r\n  renderText = () => {\r\n      return (\r\n          <div className='d-flex flex-column'>\r\n              <span className='job-create-section-input-label' style={{marginBottom: '0px'}}><strong>I would like SimpFleet to produce DSA(JP LTs) or Entry/Export Permit(PSA) for me</strong></span>\r\n              <span className='job-create-section-label-helper-text'><i>It would cost extra fees if Simpfleet produces the DSA(JP LTs) or Entry/Export Permit(PSA)</i></span>\r\n          </div>);\r\n  };\r\n\r\n  renderJobTimeInfo = () => {\r\n      const vesselLoadingTime = moment(this.state.vesselLoadingDateTime);\r\n      const vesselArrivalTime = moment(this.state.vesselArrivalDateTime);\r\n      switch (this.state.vesselLoadingLocation) {\r\n          case \"PSA\":\r\n              return <div></div>;\r\n          default:\r\n              return (\r\n                  <div>\r\n                      <Row className='job-create-section'>\r\n                          <Col xs={12} sm={9}>\r\n                              <div className='d-flex align-items-center job-create-section-heading'>\r\n                                  <div className='job-create-green-circle'><strong>2</strong></div>\r\n                                  <h1 className='job-create-section-header'>Time</h1>\r\n                              </div>\r\n                              <FormGroup>\r\n                                  <Label className='job-create-section-label'>\r\n                                      {\r\n                                          this.state.vesselLoadingLocation === 'Jurong Port'\r\n                                              ? 'Lighter Loading Date & Time'\r\n                                              : 'Vessel Loading Date & Time'\r\n                                      }\r\n                                  </Label>\r\n                                  <Container fluid style={{paddingRight: \"0px\", paddingLeft: '0px'}}>\r\n                                      <Row>\r\n                                          <Col xs={7}>\r\n                                              {/* <DateInputComponent DateTime={this.state.vesselLoadingDateTime}\r\n                                                                  handleDateChange={this.handleVesselLoadingDateChange}\r\n                                                                  disabled={false}/> */}\r\n                                          </Col>\r\n                                          <Col xs={5}>\r\n                                              <TimePicker\r\n                                                  showSecond={false}\r\n                                                  defaultValue={vesselLoadingTime}\r\n                                                  value={vesselLoadingTime}\r\n                                                  onChange={this.handleVesselLoadingTimeChange}\r\n                                                  allowEmpty={false}\r\n                                                  className='job-create-section-input'\r\n                                              />\r\n                                          </Col></Row></Container>\r\n                              </FormGroup>\r\n                          </Col>\r\n                      </Row>\r\n                      <Divider className='job-create-section-divider'/>\r\n                  </div>\r\n              );\r\n      }\r\n  };\r\n\r\n  _renderMenuItemChildren = (option, props, index) => {\r\n      return [\r\n          <Highlighter key=\"vesselIMOID\" search={props.text}>\r\n              {option.vesselIMOID}\r\n          </Highlighter>,\r\n          <div key=\"vesselName\">\r\n              <small>\r\n                  Vessel Name: {option.vesselName}\r\n              </small>\r\n          </div>,\r\n      ];\r\n  };\r\n\r\n  renderMenu = (results, menuProps) => {\r\n      results.sort((a, b) => a.priority - b.priority);\r\n      // const sortedResults = results.slice(0,8);\r\n      return <TypeaheadMenu {...menuProps} options={results}/>;\r\n  };\r\n\r\n  handleTypeAheadVesselNameChange = (value) => {\r\n      this.setState({\r\n          vesselName: value.trim()\r\n      });\r\n  };\r\n\r\n  handleKeyDown = (e) => {\r\n      if (e.keyCode === 13) {\r\n          const query = e.target.value;\r\n      }\r\n  };\r\n\r\n  handleTypeAheadVesselSelect = (selected) => {\r\n      if (selected[0]) {\r\n          this.setState({\r\n              vesselIMOID: selected[0].vesselIMOID ? selected[0].vesselIMOID : '',\r\n              vesselName: selected[0] ? selected[0].vesselName : '',\r\n              vesselCallsign: selected[0] ? selected[0].vesselCallsign : ''\r\n          });\r\n      } else {\r\n          this.setState({\r\n              vesselIMOID: '',\r\n              vesselName: '',\r\n              vesselCallsign: ''\r\n          });\r\n      }\r\n  };\r\n\r\n  handleVesselSelectChange = (event) => {\r\n      this.setState({vesselSelected: event.target.value});\r\n  };\r\n\r\n  filter = (option, props) => {\r\n      let text = props.text.toLowerCase();\r\n      if (option.vesselCallsign.toLowerCase().indexOf(text) !== -1 ||\r\n          option.vesselIMOID.toLowerCase().indexOf(text) !== -1 ||\r\n          option.vesselName.toLowerCase().indexOf(text) !== -1) {\r\n          option.priority = 1;\r\n          return true\r\n      }\r\n      let textArr = text.split(' ');\r\n      let res = false;\r\n      for (let i = 0; i < textArr.length; i++) {\r\n          const o = textArr[i];\r\n          if (o.length >= 3 && (option.vesselCallsign.toLowerCase().split(' ').includes(o) ||\r\n              option.vesselIMOID.toLowerCase().split(' ').includes(o) ||\r\n              option.vesselName.toLowerCase().split(' ').includes(o))) {\r\n              option.priority = 2;\r\n              res = true;\r\n              break;\r\n          }\r\n      }\r\n      return res\r\n  };\r\n\r\n  renderJobInfo = () => {\r\n      const openDeliver = Boolean(this.state.ItemsDeliverAnchorEl);\r\n      let jobItemText = this.state.jobItems.reduce((a, item) => {\r\n          a.push(item.quantity.toString().concat(' '.concat(item.uom)));\r\n          return a;\r\n      }, []);\r\n      const openOffland = Boolean(this.state.ItemsOfflandAnchorEl);\r\n      let jobOfflandItemsText = this.state.jobOfflandItems.reduce((a, item) => {\r\n          a.push(item.quantity.toString().concat(' '.concat(item.uom)));\r\n          return a;\r\n      }, []);\r\n      return (\r\n          <div>\r\n              <Row className='job-create-section'>\r\n                  <Col xs={12} sm={9}>\r\n                      <div className='d-flex align-items-center job-create-section-heading'>\r\n                          <div className='job-create-green-circle'><strong>1</strong></div>\r\n                          <h1 className='job-create-section-header'>Vessel Information</h1>\r\n                      </div>\r\n\r\n                      <FormGroup>\r\n                          <Label className='job-create-section-label'>Job Number</Label>\r\n                          <Input type=\"text\" onChange={this.handleJobIdChange} value={this.state.jobId}\r\n                                 placeholder='Enter Job Number' className='job-create-section-input'/>\r\n                          <FormText color=\"red\" className=\"job-create-section-formtext\">* If left blank, Job Number\r\n                              will be auto-generated.</FormText>\r\n                      </FormGroup>\r\n\r\n                      <FormGroup>\r\n                          <Label className='job-create-section-label'>Vessel Loading Location</Label>\r\n                          <Input type=\"select\" value={this.state.vesselLoadingLocation}\r\n                                 onChange={this.handleVesselLoadingLocationChange}\r\n                                 className='job-create-section-input'>\r\n                              <option>PSA</option>\r\n                              <option>Jurong Port</option>\r\n                              <option>Others</option>\r\n                          </Input>\r\n                          {\r\n                              this.state.vesselLoadingLocation === 'PSA'\r\n                                  ?\r\n                                  <FormText color=\"red\" className=\"job-create-section-formtext\">* For PSA deliveries,\r\n                                      please note that delivery time will be based on the closest upcoming vessel\r\n                                      berth.</FormText>\r\n                                  : ''\r\n                          }\r\n                          <FormText color=\"red\" className=\"job-create-section-formtext\">* 'Jurong Port' here refers to\r\n                              the JP Lighterage Terminals. For Jurong Port, please select 'Others'.</FormText>\r\n                      </FormGroup>\r\n\r\n                      {\r\n                          this.state.vesselLoadingLocation === 'Others'\r\n                              ? <FormGroup>\r\n                                  <Label className='job-create-section-label'>Address of Vessel Loading Location</Label>\r\n                                  <Input type=\"text\" value={this.state.otherVesselLocation}\r\n                                         onChange={this.handleOtherVesselLocationChange}\r\n                                         className='job-create-section-input'\r\n                                         required\r\n                                  >\r\n                                  </Input>\r\n                              </FormGroup>\r\n                              : ''\r\n                      }\r\n\r\n                      <FormGroup>\r\n                          <Label className='job-create-section-label'>Vessel Name</Label>\r\n                          <Typeahead id='vesselNameInput'\r\n                                     renderMenuItemChildren={this._renderMenuItemChildren}\r\n                                     renderMenu={this.renderMenu}\r\n                                     labelKey=\"vesselName\"\r\n                                     options={this.state.vessels}\r\n                                     placeholder=\"Enter Vessel Name\"\r\n                                     maxResults={1000}\r\n                                     paginate={false}\r\n                                     minLength={3}\r\n                                     onInputChange={this.handleTypeAheadVesselNameChange}\r\n                                     onChange={(selected) => {\r\n                                         this.handleTypeAheadVesselSelect(selected);\r\n                                     }}\r\n                                     inputProps={{className: 'job-create-section-input margin-bottom-zero'}}\r\n                                     filterBy={this.filter}\r\n                                     emptyLabel={false}\r\n                          />\r\n                          <span className='job-create-section-label-helper-text'><i>If vessel is not listed, it is okay to just submit the form.</i></span>\r\n                      </FormGroup>\r\n\r\n                      {\r\n                          this.state.vesselIMOID !== ''\r\n                              ? <FormGroup>\r\n                                  <Label className='job-create-section-label'>Vessel IMO</Label>\r\n                                  <Input type=\"text\" className='job-create-section-input' value={this.state.vesselIMOID}\r\n                                         disabled/>\r\n                              </FormGroup> : ''\r\n                      }\r\n\r\n                      {\r\n                          this.state.vesselCallsign !== ''\r\n                              ? <FormGroup>\r\n                                  <Label className='job-create-section-label'>Vessel Callsign</Label>\r\n                                  <Input type=\"text\" className='job-create-section-input'\r\n                                         value={this.state.vesselCallsign} disabled/>\r\n                              </FormGroup> : ''\r\n                      }\r\n\r\n                      {this.state.vesselLoadingLocation === 'Jurong Port'\r\n                          ? <div>\r\n                              <FormGroup style={{marginBottom: '0px'}}>\r\n                                  <Label className='job-create-section-label'>Lighter Name\r\n                                      (Optional)</Label>\r\n                                  <Input type=\"text\"\r\n                                         onChange={this.handleVesselLighterNameChange}\r\n                                         value={this.state.vesselLighterName}\r\n                                         className='job-create-section-input'\r\n                                         placeholder='Enter Lighter Name'/>\r\n                              </FormGroup>\r\n                              <FormGroup>\r\n                                  <Label className='job-create-section-label'>Lighter Location</Label>\r\n                                  <Input type=\"select\" value={this.state.vesselLighterLocation}\r\n                                         onChange={this.handleVesselLighterLocationChange}\r\n                                         className='job-create-section-input'>\r\n                                      <option>Marina South Wharves</option>\r\n                                      <option>Penjuru Terminal</option>\r\n                                  </Input>\r\n                              </FormGroup>\r\n                              <FormGroup>\r\n                                  <Label className='job-create-section-label'>Lighter Contact Remarks\r\n                                      (Optional)</Label>\r\n                                  <Input type=\"textarea\" value={this.state.vesselLighterRemarks} rows=\"3\"\r\n                                         className='job-create-section-input'\r\n                                         style={{marginBottom: 0}}\r\n                                         onChange={this.handleVesselLighterRemarksChange}/>\r\n                                  <span className='job-create-section-label-helper-text'><i>Please enter contact details for lighter here</i></span>\r\n                              </FormGroup>\r\n                          </div>\r\n                          : ''\r\n                      }\r\n                  </Col>\r\n              </Row>\r\n              <Divider className='job-create-section-divider'/>\r\n\r\n              {this.renderJobTimeInfo()}\r\n\r\n              <Row className='job-create-section'>\r\n                  <Col xs={12} sm={9}>\r\n                      <div className='d-flex align-items-center job-create-section-heading'>\r\n                          <div className='job-create-green-circle'>\r\n                              <strong>{this.state.vesselLoadingLocation === 'PSA' ? '2' : '3'}</strong></div>\r\n                          <h1 className='job-create-section-header'>Delivery Details</h1>\r\n                      </div>\r\n                      <FormRB.Group>\r\n                          <FormRB.Label className='job-create-section-label'>Items to\r\n                              Deliver</FormRB.Label>\r\n                          <FormRB.Control as=\"input\"\r\n                                          value={jobItemText.join(', ')}\r\n                                          onClick={(e) => {\r\n                                              this.setState({ItemsDeliverAnchorEl: e.currentTarget})\r\n                                          }}\r\n                                          style={{marginBottom: 0}}\r\n                                          className='job-create-section-input' onChange={() => {\r\n                          }}>\r\n                          </FormRB.Control>\r\n                          <span className='job-create-section-label-helper-text'><i>* Please let us know if you have any refrigeration, fragile, dangerous or over-sized items in the remarks</i></span>\r\n                          <br/>\r\n                          <span className='job-create-section-label-helper-text'><i>* Please let us know whether blue bin needs to be provided in the remarks</i></span>\r\n                          <br/>\r\n                          <span className='job-create-section-label-helper-text' style={{color: 'red'}}><i>* We have a standard sizing, please refer to our Terms of Services</i></span>\r\n                          <Popover\r\n                              open={openDeliver}\r\n                              anchorEl={this.state.ItemsDeliverAnchorEl}\r\n                              onClose={this.handleDeliverClose}\r\n                              anchorOrigin={{\r\n                                  vertical: 'bottom',\r\n                                  horizontal: 'left',\r\n                              }}\r\n                              transformOrigin={{\r\n                                  vertical: 'top',\r\n                                  horizontal: 'left',\r\n                              }}\r\n                          >\r\n                              {/* <JobItemInput jobItems={this.state.jobItems}\r\n                                            job={this.state.job}\r\n                                            setItems={(jobItems) => this.setState({jobItems})}\r\n                                            disabled={false}\r\n                                            type={\"delivery\"}\r\n                              /> */}\r\n\r\n                          </Popover>\r\n                      </FormRB.Group>\r\n\r\n                      <FormRB.Group>\r\n                          <FormRB.Label className='job-create-section-label'>Items to\r\n                              Offland (Optional)</FormRB.Label>\r\n                          <FormRB.Control as=\"input\"\r\n                                          value={jobOfflandItemsText.join(', ')}\r\n                                          onClick={(e) => {\r\n                                              this.setState({ItemsOfflandAnchorEl: e.currentTarget})\r\n                                          }}\r\n                                          className='job-create-section-input' onChange={() => {\r\n                          }}>\r\n                          </FormRB.Control>\r\n                          <Popover\r\n                              open={openOffland}\r\n                              anchorEl={this.state.ItemsOfflandAnchorEl}\r\n                              onClose={this.handleOfflandClose}\r\n                              anchorOrigin={{\r\n                                  vertical: 'bottom',\r\n                                  horizontal: 'left',\r\n                              }}\r\n                              transformOrigin={{\r\n                                  vertical: 'top',\r\n                                  horizontal: 'left',\r\n                              }}\r\n                          >\r\n                              {/* <JobItemInput jobItems={this.state.jobOfflandItems}\r\n                                            job={this.state.job}\r\n                                            setItems={(jobOfflandItems) => this.setState({jobOfflandItems})}\r\n                                            disabled={false}\r\n                                            type={\"Offland\"}\r\n                              /> */}\r\n                          </Popover>\r\n                      </FormRB.Group>\r\n                      <FormGroup>\r\n                          <Label className='job-create-section-label'>Remarks (Optional)</Label>\r\n                          <Input type=\"textarea\" value={this.state.remarks} rows=\"7\"\r\n                                 className='job-create-section-input margin-bottom-zero'\r\n                                 onChange={this.handleRemarksChange}/>\r\n                          <span className='job-create-section-label-helper-text'><i>* If you require pickup, please input address in the remarks.</i></span>\r\n                      </FormGroup>\r\n                      <FormControlLabel\r\n                          value=\"dsa\"\r\n                          control={<Checkbox color=\"default\" checked={this.state.createDSA}\r\n                                             className='create-dsa-checkbox'/>}\r\n                          onChange={this.handleCreateDSAChange}\r\n                          label={this.renderText()}\r\n                      />\r\n                  </Col>\r\n              </Row>\r\n              <Row className='job-create-section-action'>\r\n                  <Col xs={12}>\r\n                      <div className='d-flex align-items-center justify-content-center'>\r\n                          <Button variant='success' className='job-create-submit-btn'\r\n                                  onClick={this.handleNextStep}>Submit</Button>\r\n                          <Button variant='outline-success' className='job-create-cancel-btn'\r\n                                  onClick={this.props.handleCloseModal}>Cancel</Button>\r\n\r\n                      </div>\r\n                  </Col>\r\n              </Row>\r\n          </div>\r\n\r\n      );\r\n  };\r\n\r\n  renderJobPayment = () => {\r\n      if (this.state.vesselQueryResults.length > 1) {\r\n          return (\r\n              <div>\r\n                  <Row className='job-create-section full-height'>\r\n                      <Col>\r\n                          <div className='d-flex align-items-center job-create-section-heading-price'>\r\n                              <h1 className='job-create-section-header-price'>Confirm Booking?</h1>\r\n                          </div>\r\n                          <div>\r\n                              <FormControl component=\"fieldset\">\r\n                                  <FormLabel component=\"legend\" className='job-create-section-label'\r\n                                             style={{paddingTop: 10, paddingBottom: 10}}>Please Select a\r\n                                      Vessel:</FormLabel>\r\n                                  <RadioGroup\r\n                                      value={this.state.vesselSelected}\r\n                                      onChange={this.handleVesselSelectChange}\r\n                                  >\r\n                                      {this.state.vesselQueryResults.map((obj, index) => {\r\n                                          return (\r\n                                              <FormControlLabel key={index} value={obj.vesselIMOID} control={<Radio/>}\r\n                                                                label={`${obj.vesselName}, ${obj.vesselIMOID}`}/>\r\n                                          );\r\n                                      })}\r\n                                  </RadioGroup>\r\n                              </FormControl>\r\n                          </div>\r\n                          <div className='d-flex align-items-center justify-content-center'\r\n                               style={{marginTop: \"20px\"}}>\r\n                              <Button disabled={!this.state.submitButtonActive} variant='success'\r\n                                      className='job-create-submit-btn'\r\n                                      type=\"submit\">Yes</Button>\r\n                              <Button variant='outline-success' className='job-create-cancel-btn'\r\n                                      onClick={this.props.handleCloseModal}>No</Button>\r\n                          </div>\r\n                      </Col>\r\n                  </Row>\r\n              </div>\r\n          );\r\n      } else {\r\n          return (\r\n              <div>\r\n                  <Row className='job-create-section full-height'>\r\n                      <Col>\r\n                          <div className='d-flex align-items-center job-create-section-heading-price'>\r\n                              <h1 className='job-create-section-header-price'>Confirm Booking?</h1>\r\n                          </div>\r\n\r\n                          <div className='d-flex align-items-center justify-content-center'\r\n                               style={{marginTop: \"20px\"}}>\r\n                              <Button disabled={!this.state.submitButtonActive} variant='success'\r\n                                      className='job-create-submit-btn'\r\n                                      type=\"submit\">Yes</Button>\r\n                              <Button variant='outline-success' className='job-create-cancel-btn'\r\n                                      onClick={this.props.handleCloseModal}>No</Button>\r\n                          </div>\r\n                      </Col>\r\n                  </Row>\r\n              </div>\r\n          );\r\n      }\r\n      // return (<div>\r\n      //     <Row className='job-create-section full-height'>\r\n      //         <Col>\r\n      //             <div className='d-flex align-items-center job-create-section-heading-price'>\r\n      //                 <h1 className='job-create-section-header-price'>Price</h1>\r\n      //             </div>\r\n      //             <JobCreatePriceTable tableHeading=\"Items to Deliver\" jobItems={this.state.jobItems}/>\r\n      //             <br/>\r\n      //             {\r\n      //                 this.state.jobOfflandItems.length > 0\r\n      //                     ?\r\n      //                     <JobCreatePriceTable tableHeading=\"Items to Offland\" jobItems={this.state.jobOfflandItems}/>\r\n      //                     : ''\r\n      //             }\r\n      //             <div className='d-flex align-items-center justify-content-center' style={{marginTop: \"20px\"}}>\r\n      //                 <Button variant='success' className='job-create-submit-btn'\r\n      //                         type=\"submit\">Submit</Button>\r\n      //                 <Button variant='outline-success' className='job-create-cancel-btn'\r\n      //                         onClick={this.props.handleCloseModal}>Cancel</Button>\r\n      //             </div>\r\n      //         </Col>\r\n      //     </Row>\r\n      // </div>)\r\n  };\r\n\r\n  renderSuccess = () => {\r\n      return (\r\n          <Row className='job-create-section-success'>\r\n              <Col>\r\n                  <div\r\n                      className='d-flex align-items-center justify-content-center flex-column job-create-section-heading-price'>\r\n                      <svg className=\"checkmark\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 52 52\">\r\n                          <circle className=\"checkmark__circle\" cx=\"26\" cy=\"26\" r=\"25\" fill=\"none\"/>\r\n                          <path className=\"checkmark__check\" fill=\"none\" d=\"M14.1 27.2l7.1 7.2 16.7-16.8\"/>\r\n                      </svg>\r\n                      <p className='job-create-success-text text-center'>You have successfully booked a job with\r\n                          Simpfleet.</p>\r\n                      <Button variant='success' className='job-create-details-btn' onClick={() => {\r\n                          /* this.props.history.push(`/job_details?job=${this.state.job.index}`); */\r\n                          if (this.props.mobile) {\r\n                              this.props.handlePopoverOpen();\r\n                              this.props.handleCloseModal();\r\n                              this.props.handleCloseMenu();\r\n                          }\r\n                          ;\r\n                      }}>View your job details</Button>\r\n                  </div>\r\n              </Col>\r\n          </Row>\r\n      );\r\n  };\r\n\r\n  renderForm = () => {\r\n      let formDisplay;\r\n      if (this.state.activeStep === 0) {\r\n          formDisplay = this.renderJobInfo();\r\n      } else if (this.state.activeStep === 1) {\r\n          formDisplay = this.renderJobPayment();\r\n      } else if (this.state.activeStep === 2) {\r\n          formDisplay = this.renderSuccess();\r\n      }\r\n\r\n      return (\r\n          <Form onSubmit={this.onSubmit} style={{height: \"100%\"}}>\r\n              {formDisplay}\r\n          </Form>\r\n      );\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <Container fluid style={{ height: \"100%\" }}>\r\n        <Row style={{ height: \"100%\" }}>\r\n          <Col xs={12}> {this.renderForm()} </Col>\r\n        </Row>\r\n      </Container>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = ({ auth }) => {\r\n  return { auth };\r\n};\r\n\r\nexport default withRouter(connect(mapStateToProps)(CreateJob));\r\n","import \"./CreateJobModal.css\";\r\nimport React, { Component } from \"react\";\r\n\r\nimport Dialog from \"@material-ui/core/Dialog\";\r\nimport DialogContent from \"@material-ui/core/DialogContent\";\r\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\r\nimport IconButton from \"@material-ui/core/IconButton\";\r\nimport CloseIcon from \"@material-ui/icons/Close\";\r\nimport CreateJob from \"./CreateJob\";\r\n\r\nexport default class CreateJobModal extends Component {\r\n  render() {\r\n    return (\r\n      <div className=\"job-create-modal\">\r\n        <Dialog\r\n          open={this.props.isOpen}\r\n          onClose={this.props.handleCloseModal}\r\n          maxWidth=\"sm\"\r\n          fullWidth={true}\r\n          fullScreen={this.props.fullScreen}\r\n        >\r\n          <DialogTitle id=\"alert-dialog-title\" className=\"job-share-modal-top\">\r\n            <div className=\"d-flex align-items-center\">\r\n              <p className=\"job-share-modal-title\">Job Booking</p>\r\n              <IconButton\r\n                aria-label=\"Close\"\r\n                className=\"job-share-modal-close ml-auto\"\r\n                onClick={this.props.handleCloseModal}\r\n              >\r\n                <CloseIcon />\r\n              </IconButton>\r\n            </div>\r\n          </DialogTitle>\r\n          <DialogContent className=\"job-create-modal-content\">\r\n            <CreateJob\r\n              handleCloseModal={this.props.handleCloseModal}\r\n              handlePopoverOpen={this.props.handlePopoverOpen}\r\n              handleCloseMenu={this.props.handleCloseMenu}\r\n              mobile={this.props.fullScreen}\r\n            />\r\n          </DialogContent>\r\n        </Dialog>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import axios from \"axios\";\r\n\r\nimport { GET_ERRORS } from \"./types\";\r\n\r\n// Login - Get User Token\r\nexport const loginUser = userData => dispatch => {\r\n  axios\r\n    .post(\"/api/users/login\", userData)\r\n    .then(res => {\r\n      window.location.href = \"/\";\r\n    })\r\n    .catch(err => {\r\n      dispatch({\r\n        type: GET_ERRORS,\r\n        payload: err.response.data\r\n      });\r\n    });\r\n};\r\n\r\n// Log user out\r\nexport const logoutUser = () => {\r\n  axios.post(\"/api/users/logout\").then(res => {\r\n    window.location.href = \"/\";\r\n  });\r\n};\r\n","const isEmpty = value =>\r\n  value === undefined ||\r\n  value === null ||\r\n  (typeof value === \"object\" && Object.keys(value).length === 0) ||\r\n  (typeof value === \"string\" && value.trim().length === 0);\r\n\r\nmodule.exports = isEmpty;\r\n"],"sourceRoot":""}