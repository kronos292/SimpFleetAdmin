(window.webpackJsonpclient=window.webpackJsonpclient||[]).push([[0],{1001:function(e,t,a){},1002:function(e,t,a){},1039:function(e,t,a){},1040:function(e,t,a){},1041:function(e,t,a){},1042:function(e,t,a){},106:function(e,t,a){"use strict";var n=a(14),l=a(11),s=a(15),o=a(16),r=a(17),i=(a(672),a(0)),c=a.n(i),m=a(25),u=a.n(m),d=a(120),h=a(27),p=a(7),b=a(50),f=a.n(b),g=a(218),v=a(65),E=a.n(v),j=a(1185),y=a(188),C=a(109),S=a.n(C),k=a(156),N=a.n(k),O=a(281),w=a.n(O),x=a(18),D=a.n(x),L=function(e){function t(){var e;return Object(n.a)(this,t),(e=Object(s.a)(this,Object(o.a)(t).call(this))).state={selectedShareIconIndex:0},e}return Object(r.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this;return c.a.createElement(S.a,{columns:[{title:"ETA",field:"eta",render:function(e){return c.a.createElement("span",{className:"job-table-text"},D()(e.eta).format("DD MMMM YYYY, HH:mm"))}},{title:"Job Number",field:"name",render:function(e){return c.a.createElement("span",{className:"job-table-text"},e.name)}},{title:"Status",field:"status",disableClick:!0,sorting:!1,filtering:!1,render:function(t){return c.a.createElement("div",null,e.props.button?c.a.createElement("div",{className:"d-flex align-items-center"},c.a.createElement("div",{className:"d-flex justify-content-center flex-column"},c.a.createElement("span",{className:"job-table-text"},t.status[0].title),c.a.createElement("i",{className:"job-table-helper-text"},D()(t.status[0].timestamp).format("MMM DD YYYY, HH:mm"))),t.job.jobTrackers.filter(function(e){return 6===e.index}).length>0&&e.props.allowArchive?c.a.createElement(w.a,{onClick:function(a){t.job.isArchived=!0,e.props.saveJobArchive(t.job)},key:t.tableData.id,className:"job-summary-icon-buttons"}):c.a.createElement(N.a,{onClick:function(a){e.props.toggleSharingModal(!0),e.props.jobClicked(t.job)},key:t.tableData.id,className:"job-summary-icon-buttons"})):c.a.createElement("div",null,c.a.createElement("div",{className:"d-flex justify-content-center flex-column"},c.a.createElement("span",{className:"job-table-text"},t.status[0].title),c.a.createElement("i",{className:"job-table-helper-text"},D()(t.status[0].timestamp).format("MMM DD YYYY, HH:mm")))))}}],data:this.props.data,components:{Container:function(e){return c.a.createElement(y.a,Object.assign({},e,{elevation:0}))}},title:this.props.title,options:{sorting:!0,paging:!1,padding:"dense",headerStyle:{fontFamily:"Roboto",fontSize:"14px",fontWeight:"bold",color:"#707070"}},onRowClick:this.props.handleRowClick})}}]),t}(i.Component),M=a(48),A=a.n(M),I=a(157),P=a.n(I),T=function(e){function t(){return Object(n.a)(this,t),Object(s.a)(this,Object(o.a)(t).apply(this,arguments))}return Object(r.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this;return c.a.createElement(S.a,{columns:[{title:"Vessel Loading Time",field:"job",render:function(e){switch(e.job.vesselLoadingLocation){case"PSA":return c.a.createElement("span",{className:"job-table-text"},D()(e.job.psaBerthingDateTime).format("DD MMMM YYYY, HH:mm"));case"Jurong Port":default:return c.a.createElement("span",{className:"job-table-text"},D()(e.job.vesselLoadingDateTime).format("DD MMMM YYYY, HH:mm"))}},customSort:function(e,t){var a,n;return a="PSA"===e.job.vesselLoadingLocation?D()(e.job.psaBerthingDateTime):D()(e.job.vesselLoadingDateTime),n="PSA"===t.job.vesselLoadingLocation?D()(t.job.psaBerthingDateTime):D()(t.job.vesselLoadingDateTime),a.isBefore(n)?1:-1}},{title:"Job Number",field:"name",render:function(e){return c.a.createElement("span",{className:"job-table-text"},e.name)}},{title:"Vessel Name",field:"vesselName",render:function(e){return c.a.createElement("div",{className:"d-flex flex-column"},c.a.createElement("span",{className:"job-table-text"},null!==e.job.vessel?e.job.vessel.vesselName.toUpperCase():""),c.a.createElement("span",{className:"job-table-helper-text"},c.a.createElement("i",null,null!==e.job.vessel?e.job.vessel.vesselIMOID:"")))},customSort:function(e,t){return e.job.vessel.vesselName.localeCompare(t.job.vessel.vesselName)}},{title:"Status",field:"status",disableClick:!0,sorting:!1,filtering:!1,render:function(t){return c.a.createElement("div",{className:"d-flex align-items-center",style:{width:"20vw"}},c.a.createElement("div",{style:{width:"100%"}},c.a.createElement(P.a,{style:{width:"100%"},text:"Confirmed"===t.job.isCancelled?"Job has been cancelled":t.status[0].title,maxLine:"1",ellipsis:"...",trimRight:!0,basedOn:"letters",className:"Confirmed"===t.job.isCancelled?"job-table-text red":"job-table-text"}),c.a.createElement("i",{className:"job-table-helper-text"},D()(t.status[0].timestamp).format("MMM DD YYYY, HH:mm"))),t.job.jobTrackers.filter(function(e){return 6===e.index}).length>0&&e.props.allowArchive?c.a.createElement(A.a,{variant:"outlined",onClick:function(a){t.job.isArchived=!0,e.props.saveJobArchive(t.job)},key:t.tableData.id,className:"table-share-button"},c.a.createElement("div",{className:"d-flex align-items-center"},"Archive",c.a.createElement(w.a,null))):c.a.createElement(A.a,{variant:"outlined",onClick:function(a){e.props.toggleSharingModal(!0),e.props.jobClicked(t.job)},key:t.tableData.id,className:"table-share-button"},c.a.createElement("div",{className:"d-flex align-items-center"},"Share",c.a.createElement(N.a,null))))}}],data:this.props.data,components:{Container:function(e){return c.a.createElement(y.a,Object.assign({},e,{elevation:0}))},Row:function(e){return c.a.createElement(C.MTableBodyRow,Object.assign({},e,{className:"rows"}))}},options:{sorting:!0,paging:!1,padding:"dense",showTitle:!1,headerStyle:{fontFamily:"Roboto",fontSize:"14px",fontWeight:"bold",color:"#707070"}},onRowClick:this.props.handleRowClick})}}]),t}(i.Component),R=a(593),F=a(282),J=a(285);function q(e){for(var t=e.postsPerPage,a=e.totalPosts,n=e.paginate,l=e.currentPage,s=[],o=1;o<=Math.ceil(a/t);o++)s.push(o);return c.a.createElement("nav",{"aria-label":"Page navigation example"},c.a.createElement("ul",{className:"pagination justify-content-center"},c.a.createElement("li",{className:"page-item".concat(1===l?" disabled":"")},c.a.createElement("a",{className:"page-link","aria-label":"Previous",onClick:function(){return n(l-1)}},c.a.createElement("span",{"aria-hidden":"true"},"\xab"))),s.map(function(e){return c.a.createElement("li",{key:e,className:"page-item".concat(e===l?" active":"")},c.a.createElement("a",{onClick:function(){return n(e)},className:"page-link"},e))}),c.a.createElement("li",{className:"page-item".concat(l===s.length?" disabled":"")},c.a.createElement("a",{className:"page-link","aria-label":"Next",onClick:function(){return n(l+1)}},c.a.createElement("span",{"aria-hidden":"true"},"\xbb")))))}function _(e,t,a,n,l,s,o){return{name:e,vesselImo:t,vesselName:a,status:n,job:l,eta:s,price:o}}var U=function(e){function t(){var e,a;Object(n.a)(this,t);for(var l=arguments.length,r=new Array(l),i=0;i<l;i++)r[i]=arguments[i];return(a=Object(s.a)(this,(e=Object(o.a)(t)).call.apply(e,[this].concat(r)))).state={jobs:null,data:[],showSharingModal:!1,copied:!1,jobClicked:null,archived:!1,inputSelected:!1},a.handleRowClick=function(e,t){var n=t.tableData.id;a.props.history.push("/job_details?job=".concat(a.state.jobs[n].index))},a.handleShareModalClose=function(){a.setState({showSharingModal:!1,inputSelected:!1})},a.handleCopy=function(){a.setState({copied:!0}),window.setTimeout(function(){a.setState({copied:!1})},5e3)},a.handleCopiedClose=function(){a.setState({copied:!1})},a.handleArchiveClose=function(){a.setState({archived:!1})},a.SlideTransition=function(e){return c.a.createElement(R.a,Object.assign({},e,{direction:"up"}))},a.saveJobArchive=function(e){u.a.put("/api/jobs",{job:e,sendEmailUpdate:!1}).then(function(e){a.props.history.push("/history")}).catch(function(e){console.log(e)})},a.handleSelect=function(e){a.setState({inputSelected:!0})},a}return Object(r.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this;u.a.get("/api/jobs?user_only=".concat(this.props.user_only,"&numLimit=").concat(!!this.props.numLimit&&this.props.numLimit,"&archive_only=").concat(!!this.props.archive_only&&this.props.archive_only,"&non_archive_only=").concat(!!this.props.non_archive_only&&this.props.non_archive_only)).then(function(t){var a=[],n=t.data.sort(function(e,t){return new Date(t.jobBookingDateTime.toString())-new Date(e.jobBookingDateTime.toString())});e.setState({jobs:n});for(var l=0;l<n.length;l++){var s=n[l];s.jobTrackers.sort(function(e,t){return t.index-e.index});var o=s.jobItems.reduce(function(e,t){return e.push((t.quantity,t.price,0)),e},[]).reduce(function(e,t){return e+t},0);a.push(_(s.jobId,null!==s.vessel?s.vessel.vesselIMOID:"",null!==s.vessel?s.vessel.vesselName:"",s.jobTrackers,s,s.vesselArrivalDateTime,o))}e.setState({data:a})}).catch(function(e){console.log(e)})}},{key:"render",value:function(){var e=this;switch(this.state.jobs){case null:return c.a.createElement("div",null);default:switch(this.props.auth){case null:return c.a.createElement("div",null);default:var t=this.props,a=t.postsPerPage,n=t.currentPage,l=t.paginate,s=n*a,o=s-a,r=this.state.jobs.sort(function(e,t){return new Date(t.jobBookingDateTime.toString())-new Date(e.jobBookingDateTime.toString())}).map(function(t,a){var n=t.vessel,l=t.user,s=t.jobTrackers.sort(function(e,t){return t.index-e.index})[0].title,o={color:"red"};"Confirmed"===t.isCancelled?s="Job Cancelled":"Pending"===t.isCancelled?s="Cancel Requested":"Denied"===t.isCancelled?s="Cancellation Denied":o={};var r="",i="";return null===n?(r="",i=""):(r=n.vesselName,i=n.vesselIMOID),c.a.createElement("tr",{key:a,className:"job-summary-table-row",onClick:function(a){return e.props.history.push("/job_details?job=".concat(t.index))}},"Admin"===e.props.auth.userType?c.a.createElement("td",{"data-title":"Company"},l.companyName):"",c.a.createElement("td",{"data-title":"Job Number"},t.jobId),c.a.createElement("td",{"data-title":"Vessel IMO"},i),c.a.createElement("td",{"data-title":"Vessel Name"},r),c.a.createElement("td",{"data-title":"Status",style:o},s))});return c.a.createElement("div",{className:"job-summary-table-padding"},"Admin"===this.props.auth.userType?c.a.createElement(p.w,{bordered:!0,hover:!0,striped:!0,responsive:!0,className:"responsive-table"},c.a.createElement("thead",null,c.a.createElement("tr",null,"Admin"===this.props.auth.user.userType?c.a.createElement("th",null,"Company"):"",c.a.createElement("th",null,"Job Number"),c.a.createElement("th",null,"Vessel IMO"),c.a.createElement("th",null,"Vessel Name"),c.a.createElement("th",null,"Status"))),c.a.createElement("tbody",null,r)):c.a.createElement("div",null,c.a.createElement(f.a,{minWidth:768},c.a.createElement(T,{data:a?this.state.data.slice(o,s):this.state.data,showSharingModal:this.state.showSharingModal,toggleSharingModal:function(t){e.setState({showSharingModal:t})},jobClicked:function(t){e.setState({jobClicked:t})},handleRowClick:this.handleRowClick,saveJobArchive:this.saveJobArchive,allowArchive:this.props.allowArchive,button:this.props.button}),this.state.jobClicked?c.a.createElement("div",null,c.a.createElement(F.a,{show:this.state.showSharingModal,joblinkurl:"localhost:3000/job_invitations/".concat(this.state.jobClicked.index),Close:this.handleShareModalClose,job:this.state.jobClicked,copied:this.handleCopy}),c.a.createElement(j.a,{anchorOrigin:{horizontal:"left",vertical:"bottom"},open:this.state.copied,message:c.a.createElement("span",{id:"message-id"},"Link Has Been Copied"),action:c.a.createElement(g.a,{key:"close",color:"inherit",onClick:this.handleCopiedClose},c.a.createElement(E.a,null)),TransitionComponent:this.SlideTransition})):""),c.a.createElement(f.a,{maxWidth:767},c.a.createElement(L,{data:a?this.state.data.slice(o,s):this.state.data,showSharingModal:this.state.showSharingModal,toggleSharingModal:function(t){e.setState({showSharingModal:t})},jobClicked:function(t){e.setState({jobClicked:t})},handleRowClick:this.handleRowClick,saveJobArchive:this.saveJobArchive,allowArchive:this.props.allowArchive,button:this.props.button,title:this.props.title}),this.state.jobClicked?c.a.createElement("div",null,c.a.createElement(J.a,{open:this.state.showSharingModal,onClose:this.handleShareModalClose,joblinkurl:"localhost:3000/job_invitations/".concat(this.state.jobClicked.index),job:this.state.jobClicked,inputSelected:this.state.inputSelected,handleSelect:this.handleSelect})):""),c.a.createElement(j.a,{anchorOrigin:{horizontal:"left",vertical:"bottom"},open:this.state.archived,message:c.a.createElement("span",{id:"message-id"},"Item has been Archived"),action:c.a.createElement(g.a,{key:"close",color:"inherit",onClick:this.handleArchiveClose},c.a.createElement(E.a,null)),TransitionComponent:this.SlideTransition})),c.a.createElement("br",null),a?c.a.createElement(q,{postsPerPage:a,totalPosts:this.state.data.length,paginate:l,currentPage:n}):null)}}}}]),t}(i.Component);t.a=Object(d.g)(Object(h.b)(function(e){return{auth:e.auth}})(U))},1079:function(e,t,a){},1086:function(e,t,a){},1160:function(e,t,a){},1162:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),s=a(10),o=a.n(s),r=(a(631),a(14)),i=a(11),c=a(15),m=a(16),u=a(17),d=a(27),h=(a(636),a(35)),p=a(120),b=a(139),f=a.n(b),g=a(217),v=a(25),E=a.n(v),j=a(134),y=a(4),C=(Object(d.b)(function(e){return{auth:e.auth}})(function(e){var t=e.component,a=e.auth,n=Object(y.a)(e,["component","auth"]);return l.a.createElement(p.b,Object.assign({},n,{render:function(e){return!0===a.isAuthenticated?l.a.createElement(t,e):l.a.createElement(p.a,{to:"/login"})}}))}),a(1231)),S=a(1212),k=a(1230),N=(a(655),function(e){function t(){return Object(r.a)(this,t),Object(c.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this;return l.a.createElement(C.a,{expand:"lg",className:"nav-bar"},l.a.createElement(C.a.Brand,{href:"#",onClick:function(t){t.preventDefault(),e.props.history.push("/")}},l.a.createElement(S.a,{className:"logo",src:"../../../images/logo.jpg"})),l.a.createElement(k.a,{className:"ml-auto"},l.a.createElement(k.a.Item,null,l.a.createElement("form",{className:"form-inline mt-2 mt-md-0"},l.a.createElement("button",{onClick:function(t){t.preventDefault(),e.props.history.push("/login")},className:"btn btn-outline-success my-2 my-sm-0 font",type:"button"},"SIGN IN")))))}}]),t}(n.Component)),O=Object(p.g)(N),w=a(262),x=a.n(w),D=a(66),L=a.n(D),M=a(119),A=a.n(M),I=a(190),P=a.n(I),T=a(55),R=a(100),F=a(50),J=a.n(F);a(663);function q(){return l.a.createElement("div",{id:"footer-div"},l.a.createElement("div",{className:"section-footer"},l.a.createElement(x.a,null,l.a.createElement(A.a,{className:"nav-btm"},l.a.createElement(L.a,{xs:6,md:{span:3,offset:0}},l.a.createElement(P.a,{defaultActiveKey:"#home",className:"flex-column"},l.a.createElement(P.a.Link,{className:"disabled title-footer"},"Company"),l.a.createElement(P.a.Link,{href:"https://www.shipsuppliesdirect.com/",target:"_blank"},"About Ship Supplies Direct"),l.a.createElement(P.a.Link,{href:"https://medium.com/@shipsuppliesdirect"},"Blog"),l.a.createElement(P.a.Link,{href:"/"},"Press")))),l.a.createElement(A.a,null,l.a.createElement("hr",{className:"line-footer"})),l.a.createElement(J.a,{query:"(min-width: 426px)"},l.a.createElement(A.a,{className:"font-large"},l.a.createElement(L.a,null,l.a.createElement("h6",{className:"h6-footer"},"\xa92019 Ship Supplies Direct")),l.a.createElement(L.a,{md:{span:3,offset:0},className:"d-flex justify-content-end align-items-start"},l.a.createElement("a",{href:"https://api.whatsapp.com/send?phone=6587480467",target:"_blank",className:"sicon"},l.a.createElement(T.a,{icon:R.e,color:"white",className:"highlight"})),l.a.createElement("a",{href:"https://www.facebook.com/SimpFleet-2427717804140333/",target:"_blank",className:"sicon"},l.a.createElement(T.a,{icon:R.a,color:"white",className:"highlight"})),l.a.createElement("a",{href:"https://www.instagram.com/shipsuppliesdirect/",target:"_blank",className:"sicon"},l.a.createElement(T.a,{icon:R.b,color:"white",className:"highlight"})),l.a.createElement("a",{href:"https://www.linkedin.com/company/ship-supplies-direct/",target:"_blank",className:"sicon"},l.a.createElement(T.a,{icon:R.c,color:"white",className:"highlight"})),l.a.createElement("a",{href:"https://telegram.me/ShipSuppliesDirect",target:"_blank",className:"sicon"},l.a.createElement(T.a,{icon:R.d,color:"white",className:"highlight"}))))),l.a.createElement(J.a,{query:"(max-width: 425px)"},l.a.createElement(A.a,{className:"font-large"},l.a.createElement(L.a,{className:"d-flex justify-content-center align-items-start"},l.a.createElement("h6",{className:"h6-footer"},"\xa92019 Ship Supplies Direct"))),l.a.createElement(A.a,{className:"font-large"},l.a.createElement(L.a,{className:"d-flex justify-content-center align-items-start"},l.a.createElement("a",{href:"https://api.whatsapp.com/send?phone=6587480467",target:"_blank",className:"sicon"},l.a.createElement(T.a,{icon:R.e,color:"white",className:"highlight"})),l.a.createElement("a",{href:"https://www.facebook.com/SimpFleet-2427717804140333/",target:"_blank",className:"sicon"},l.a.createElement(T.a,{icon:R.a,color:"white",className:"highlight"})),l.a.createElement("a",{href:"https://www.instagram.com/shipsuppliesdirect/",target:"_blank",className:"sicon"},l.a.createElement(T.a,{icon:R.b,color:"white",className:"highlight"})),l.a.createElement("a",{href:"https://www.linkedin.com/company/ship-supplies-direct/",target:"_blank",className:"sicon"},l.a.createElement(T.a,{icon:R.c,color:"white",className:"highlight"})),l.a.createElement("a",{href:"https://telegram.me/ShipSuppliesDirect",target:"_blank",className:"sicon"},l.a.createElement(T.a,{icon:R.d,color:"white",className:"highlight"}))))))))}var _=a(24),U=a(59),V=a(401),B=a(111),W=a(274),z=a(188),Y=a(161),H=a(565),K=a(405),G=a(564),Q=a(7),X=a(589),$=a(1219),Z=(a(671),function(e){function t(){var e;return Object(r.a)(this,t),(e=Object(c.a)(this,Object(m.a)(t).call(this))).onChecked=function(t){e.setState({rememberMe:t.target.checked})},e.renderContent=function(){var t=e.state.errors;switch(e.props.auth.isAuthenticated){case!1:return l.a.createElement(Q.h,{fluid:!0,className:"signin-background"},l.a.createElement(Q.v,null,l.a.createElement(Q.f,{xs:"12",md:{size:10,offset:1}},l.a.createElement(Q.v,null,l.a.createElement(Q.f,{md:{size:4,offset:4}},l.a.createElement(z.a,{className:"signin-top"},l.a.createElement(Q.i,{onSubmit:e.onSubmit},l.a.createElement(Y.a,{container:!0,spacing:0},l.a.createElement(Y.a,{item:!0,xs:12},l.a.createElement("h2",{className:"text-center signin-title"},"Log In")),l.a.createElement(Y.a,{item:!0,xs:12},l.a.createElement(H.a,{name:"email",type:"email",value:e.state.email,onChange:e.onChange,variant:"outlined",fullWidth:!0,id:"email-login",label:"Email Address",autoComplete:"email",autoFocus:!0}),l.a.createElement(B.a,{variant:"caption",display:"block",style:{color:"red"}},t.email),l.a.createElement(H.a,{variant:"outlined",margin:"normal",name:"password",type:"password",value:e.state.password,onChange:e.onChange,fullWidth:!0,label:"Password",id:"password",autoComplete:"current-password",helperText:""}),l.a.createElement(B.a,{variant:"caption",display:"block",style:{color:"red"}},t.password)),l.a.createElement(Y.a,{item:!0},l.a.createElement(K.a,{control:l.a.createElement(G.a,{onChange:e.onChecked,checked:e.state.rememberMe,color:"primary"}),label:"Remember me"})),l.a.createElement(Y.a,{item:!0,xs:12},l.a.createElement(W.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:"button-text"},"Sign In")),l.a.createElement(Y.a,{item:!0,xs:12},l.a.createElement("p",{className:"text-center signin-forget"},l.a.createElement(h.b,{to:"/password_reset",className:"link"},"Forgot Password?")))))))))));case null:return l.a.createElement(p.a,{to:"/"})}},e.state={email:"",password:"",rememberMe:!1,errors:{}},e.onChange=e.onChange.bind(Object(U.a)(e)),e.onSubmit=e.onSubmit.bind(Object(U.a)(e)),e}return Object(u.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.props.auth.isAuthenticated&&(this.props.history.push("/dashboard"),localStorage.getItem("checked")&&""!==localStorage.getItem("checked")&&this.setState({email:localStorage.getItem("email"),password:localStorage.getItem("password"),rememberMe:!0}))}},{key:"componentWillReceiveProps",value:function(e){e.auth.isAuthenticated&&this.props.history.push("/dashboard"),e.errors&&this.setState({errors:e.errors})}},{key:"onSubmit",value:function(e){e.preventDefault();var t={email:this.state.email,password:this.state.password};this.state.rememberMe?(localStorage.setItem("checked","checked"),localStorage.setItem("email",this.state.email),localStorage.setItem("password",this.state.password)):localStorage.setItem("checked",""),this.props.loginUser(t)}},{key:"onChange",value:function(e){this.setState(Object(_.a)({},e.target.name,e.target.value))}},{key:"render",value:function(){var e=Object(X.a)({palette:{primary:{main:"#49AE4B"}}});return l.a.createElement($.a,{theme:e},l.a.createElement("div",null,this.renderContent()))}}]),t}(n.Component)),ee=Object(d.b)(function(e){return{auth:e.auth,errors:e.errors}},{loginUser:V.a})(Z),te=a(106),ae=function(e){function t(){var e;return Object(r.a)(this,t),(e=Object(c.a)(this,Object(m.a)(t).call(this))).state={searchText:"",currentPage:1,postPerPage:50},e.paginate=e.paginate.bind(Object(U.a)(e)),e}return Object(u.a)(t,e),Object(i.a)(t,[{key:"paginate",value:function(e){this.setState({currentPage:e})}},{key:"render",value:function(){return l.a.createElement(Q.h,{fluid:!0},l.a.createElement(Q.v,null,l.a.createElement(Q.f,{md:"12"},l.a.createElement(te.a,{postsPerPage:this.state.postPerPage,paginate:this.paginate,currentPage:this.state.currentPage}))))}}]),t}(n.Component),ne=a(235),le=function(e){function t(){return Object(r.a)(this,t),Object(c.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return l.a.createElement(Q.h,{fluid:!0},l.a.createElement(J.a,{minWidth:769},l.a.createElement(Q.v,null,l.a.createElement(Q.f,{xs:"2"},l.a.createElement(ne.a,null)),l.a.createElement(Q.f,{xs:"10"},l.a.createElement(Q.v,null,l.a.createElement(Q.f,{xs:"12",style:{padding:"0 40px"}},l.a.createElement("h3",{className:"job-summary-header"},"Dashboard"),l.a.createElement(te.a,{user_only:!0,allowArchive:!0,button:!0,non_archive_only:!0})))))),l.a.createElement(J.a,{maxWidth:768},l.a.createElement(Q.v,null,l.a.createElement(Q.f,{xs:"12",style:{padding:"20px 10px"}},l.a.createElement(te.a,{user_only:!0,allowArchive:!0,button:!0,non_archive_only:!0,title:"Dashboard"})))))}}]),t}(n.Component),se=function(e){function t(){return Object(r.a)(this,t),Object(c.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){switch(this.props.auth){case null:return l.a.createElement("div",null);case!1:return l.a.createElement(p.a,{to:"/"});default:switch(this.props.auth.user.userType){case"Admin":return l.a.createElement(ae,null);default:return l.a.createElement(le,null)}}}}]),t}(n.Component),oe=Object(d.b)(function(e){return{auth:e.auth}})(se),re=function(e){function t(){return Object(r.a)(this,t),Object(c.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return l.a.createElement(Q.h,{fluid:!0},l.a.createElement(J.a,{minWidth:769},l.a.createElement(Q.v,null,l.a.createElement(Q.f,{xs:"2"},l.a.createElement(ne.a,null)),l.a.createElement(Q.f,{xs:"10"},l.a.createElement(Q.v,null,l.a.createElement(Q.f,{xs:"12",style:{padding:"0 40px"}},l.a.createElement("h3",{className:"job-summary-header"},"History"),l.a.createElement(te.a,{user_only:!0,button:!1,archive_only:!0,allowArchive:!1})))))),l.a.createElement(J.a,{maxWidth:768},l.a.createElement(Q.v,null,l.a.createElement(Q.f,{xs:"12",style:{padding:"20px 10px"}},l.a.createElement(te.a,{user_only:!0,button:!1,archive_only:!0,allowArchive:!1,title:"History"})))))}}]),t}(n.Component),ie=function(e){function t(){return Object(r.a)(this,t),Object(c.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return l.a.createElement(Q.h,{fluid:!0,style:{marginTop:"-50px"}},l.a.createElement("br",null),l.a.createElement("h1",{className:"text-center"},"History"),l.a.createElement(Q.v,null,l.a.createElement(Q.f,{xs:"12",md:{size:10,offset:1}},l.a.createElement(te.a,{user_only:!1}))))}}]),t}(n.Component),ce=function(e){function t(){return Object(r.a)(this,t),Object(c.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){switch(this.props.auth){case null:return l.a.createElement("div",null);case!1:return l.a.createElement(p.a,{to:"/"});default:switch(this.props.auth.user.userType){case"Admin":return l.a.createElement(ie,null);default:return l.a.createElement(re,null)}}}}]),t}(n.Component),me=Object(d.b)(function(e){return{auth:e.auth}})(ce),ue=function(e){function t(){var e,a;Object(r.a)(this,t);for(var n=arguments.length,s=new Array(n),o=0;o<n;o++)s[o]=arguments[o];return(a=Object(c.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(s)))).state={jobAssignments:null,logisticsCompanies:null},a.saveJobAssignments=function(){E.a.put("/api/job_assignments",{jobAssignments:a.state.jobAssignments}).then(function(e){window.location.reload()}).catch(function(e){console.log(e)})},a.renderLogisticsCompanies=function(e){return l.a.createElement(Q.l,{type:"select",value:void 0!==e.logisticsCompany?e.logisticsCompany.name:"Please Select",onChange:function(t){for(var n=a.state.jobAssignments,l=0;l<n.length;l++){var s=n[l];if(s._id===e._id){for(var o=a.state.logisticsCompanies,r=0;r<o.length;r++){var i=o[r];if(i.name===t.target.value){s.logisticsCompany=i;break}}break}}a.setState({jobAssignments:n})}},l.a.createElement("option",null,"Please Select"),a.state.logisticsCompanies.map(function(e,t){return l.a.createElement("option",{key:t},e.name)}))},a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=this;E.a.get("/api/job_assignments").then(function(t){e.setState({jobAssignments:t.data.reverse()})}).catch(function(e){console.log(e)}),E.a.get("/api/logistics_companies").then(function(t){e.setState({logisticsCompanies:t.data})}).catch(function(e){console.log(e)})}},{key:"render",value:function(){var e=this;switch(console.log(this.state.jobAssignments),this.state.jobAssignments){case null:return l.a.createElement("div",null);default:switch(this.state.logisticsCompanies){case null:return l.a.createElement("div",null);default:var t=this.state.jobAssignments.map(function(t,a){return l.a.createElement("tr",{key:a},l.a.createElement("td",null,a+1),l.a.createElement("td",null,t.job.jobId),l.a.createElement("td",null,e.renderLogisticsCompanies(t)))});return l.a.createElement(Q.h,{fluid:!0},l.a.createElement("br",null),l.a.createElement(Q.v,null,l.a.createElement(Q.f,{xs:"12",className:"text-center"},l.a.createElement(Q.a,{type:"button",onClick:function(t){return e.saveJobAssignments()}},"Save Changes"))),l.a.createElement("br",null),l.a.createElement(Q.w,{striped:!0,hover:!0,bordered:!0,responsive:!0},l.a.createElement("tr",null,l.a.createElement("th",null,"No."),l.a.createElement("th",null,"Job Number"),l.a.createElement("th",null,"Assignment")),t))}}}}]),t}(n.Component),de=(a(955),a(288)),he=a(1183),pe=a(1226),be=a(574),fe=a(65),ge=a.n(fe),ve=a(218),Ee=a(575),je=a.n(Ee),ye=function(e){function t(){var e,a;Object(r.a)(this,t);for(var n=arguments.length,l=new Array(n),s=0;s<n;s++)l[s]=arguments[s];return(a=Object(c.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(l)))).state={showHistory:!1,showModal:!1},a.handleOpenModal=function(){a.setState({showModal:!0})},a.handleCloseModal=function(){a.setState({showModal:!1})},a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this;return l.a.createElement(J.a,{maxWidth:768},l.a.createElement(be.push,{pageWrapId:"page-wrap",outerContainerId:"outer-container",customBurgerIcon:!1,isOpen:this.props.open,onStateChange:function(t){return e.props.handleMenuStateChange(t)},customCrossIcon:!1,className:"menu-width"},l.a.createElement(Y.a,{container:!0,spacing:3},l.a.createElement(Y.a,{item:!0,xs:12,className:"d-flex align-items-center"},l.a.createElement(ve.a,{className:"closeButtonMenu ml-auto",onClick:this.props.handleCloseMenu},l.a.createElement(ge.a,{className:"closeIconMenu"}))),l.a.createElement(Y.a,{item:!0,xs:12,className:"d-flex justify-content-center"},l.a.createElement(pe.a,{variant:"extended",size:"large",className:"side-bar-create-job-button",onClick:this.handleOpenModal},l.a.createElement(je.a,{style:{marginRight:"5px"},fontSize:"small"}),"Create job")),l.a.createElement(Y.a,{item:!0,xs:12},l.a.createElement(h.b,{to:"/",className:"sidebar-link",onClick:this.props.handleCloseMenu},"Home")),l.a.createElement(Y.a,{item:!0,xs:12},l.a.createElement(h.b,{to:"/dashboard",className:"sidebar-link",onClick:this.props.handleCloseMenu},"Dashboard")),l.a.createElement(Y.a,{item:!0,xs:12},l.a.createElement(h.b,{to:"/history",className:"sidebar-link",onClick:this.props.handleCloseMenu},"History")),l.a.createElement(Y.a,{item:!0,xs:12,className:"d-flex align-items-center justify-content-center"},l.a.createElement(he.a,{style:{width:"85%"}})),l.a.createElement(Y.a,{item:!0,xs:12},l.a.createElement(h.b,{to:"/",className:"sidebar-secondary-link",onClick:this.props.handleCloseMenu},"FAQ")),l.a.createElement(Y.a,{item:!0,xs:12},l.a.createElement(h.b,{to:"/",className:"sidebar-secondary-link",onClick:this.props.handleCloseMenu},"Setting")),l.a.createElement(Y.a,{item:!0,xs:12},l.a.createElement(h.b,{to:"/",className:"sidebar-secondary-link",onClick:this.onLogoutClick},"Logout")))),l.a.createElement(de.a,{isOpen:this.state.showModal,fullScreen:!0,handleCloseModal:this.handleCloseModal,handlePopoverOpen:this.props.handlePopoverOpen,handleCloseMenu:this.props.handleCloseMenu}))}}]),t}(n.Component),Ce=Object(p.g)(Object(d.b)(function(e){return{auth:e.auth}})(ye)),Se=a(576),ke=a.n(Se),Ne=a(593),Oe=a(1234),we=a(1228),xe=a(1218),De=a(1177),Le=a(424),Me=a(1185),Ae=a(372),Ie=a.n(Ae),Pe=a(156),Te=a.n(Pe),Re=a(1224),Fe=a(1222),Je=a(1223),qe=a(1225),_e=a(18),Ue=a.n(_e),Ve=a(1216),Be=a(37),We=a.n(Be),ze=(a(484),a(189)),Ye=(a(428),a(429),a(408)),He=(a(1001),a(56)),Ke=a.n(He),Ge=a(85),Qe=a.n(Ge),Xe=a(48),$e=a.n(Xe);function Ze(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}function et(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Ze(a,!0).forEach(function(t){Object(_.a)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Ze(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}function tt(e,t){return{uom:e,quantity:t}}var at=function(e){function t(){var e,a;Object(r.a)(this,t);for(var n=arguments.length,l=new Array(n),s=0;s<n;s++)l[s]=arguments[s];return(a=Object(c.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(l)))).state={priceList:[],UOMList:[]},a.onQuantityUpdate=function(e,t){if((e=Number(e))>0){for(var n=a.props.jobItems,l=[],s=0;s<n.length;s++){var o=n[s];o.id===t.id?l.push(et({},o,{quantity:e})):l.push(o)}a.props.setItems(l)}else{var r=a.props.jobItems.indexOf(t);a.props.jobItems.splice(r,1),a.props.setItems(a.props.jobItems)}},a.handleAddEvent=function(e,t){var n=a.state.priceList.filter(function(e){return e.uom===t})[0],l={quantity:Number(e),uom:t,id:(+new Date+Math.floor(999999*Math.random())).toString(36),job:null,price:n.price};a.props.jobItems.push(l),a.props.setItems(a.props.jobItems)},a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=this;"delivery"===this.props.type?E.a.get("/api/job_item_pricing").then(function(t){var a=t.data,n=a.map(function(e){return tt(e.uom,0)});e.setState({priceList:a,UOMList:n})}).catch(function(e){console.log(e)}):E.a.get("/api/job_offland_item_pricing").then(function(t){var a=t.data,n=a.map(function(e){return tt(e.uom,0)});e.setState({priceList:a,UOMList:n})}).catch(function(e){console.log(e)})}},{key:"render",value:function(){var e=this,t=this.props.jobItems,a=this.state.UOMList.map(function(a,n){if(t.reduce(function(e,t){return e.push(t.uom),e},[]).includes(a.uom)){var s=t.filter(function(e){return e.uom===a.uom})[0];return l.a.createElement(Ye.a,{button:!1,key:n},l.a.createElement(A.a,{className:"d-flex align-items-center"},l.a.createElement(L.a,{xs:2},l.a.createElement("h3",{className:"uom-label"},a.uom)),l.a.createElement(L.a,{xs:{span:8,offset:2}},l.a.createElement(Ke.a,{className:"ml-auto"},l.a.createElement(Ke.a.Prepend,null,l.a.createElement($e.a,{variant:"outline-secondary",className:"uom-minus-btn",onClick:function(t){e.onQuantityUpdate(parseInt(document.getElementById("value".concat(n)).value)-1,s)}},l.a.createElement("img",{src:"/images/minus.png",alt:"minus"}))),l.a.createElement(Qe.a,{id:"value".concat(n),className:"uom-input text-center",min:"0",type:"number",value:parseInt(s.quantity),onChange:function(t){e.onQuantityUpdate(parseInt(t.target.value),s)},onKeyDown:function(t){8===t.keyCode&&(0===s.quantity?(t.preventDefault(),t.stopPropagation()):1===s.quantity.toString().length&&e.onQuantityUpdate(0,s))}}),l.a.createElement(Ke.a.Append,null,l.a.createElement($e.a,{variant:"outline-secondary",className:"uom-plus-btn",onClick:function(t){e.onQuantityUpdate(parseInt(document.getElementById("value".concat(n)).value)+1,s)}},l.a.createElement("img",{src:"/images/plus.png",alt:"plus"})))))))}return l.a.createElement(Ye.a,{button:!1,key:n},l.a.createElement(A.a,{className:"d-flex align-items-center"},l.a.createElement(L.a,{xs:2},l.a.createElement("h3",{className:"uom-label"},a.uom)),l.a.createElement(L.a,{xs:{span:8,offset:2}},l.a.createElement(Ke.a,{className:"ml-auto"},l.a.createElement(Ke.a.Prepend,null,l.a.createElement($e.a,{variant:"outline-secondary",className:"uom-minus-btn"},l.a.createElement("img",{src:"/images/minus.png",alt:"minus"}))),l.a.createElement(Qe.a,{className:"uom-input text-center",min:"0",type:"number",value:a.quantity,onChange:function(){},onKeyPress:function(t){"Backspace"===t.key&&0===a.quantity?(t.preventDefault(),t.stopPropagation()):/\d/.test(t.key)&&(t.preventDefault(),t.stopPropagation(),e.handleAddEvent(parseInt(t.key),a.uom))}}),l.a.createElement(Ke.a.Append,null,l.a.createElement($e.a,{variant:"outline-secondary",className:"uom-plus-btn",onClick:function(n){e.handleAddEvent(a.quantity,a.uom);var l=t.filter(function(e){return e.uom===a.uom})[0];e.onQuantityUpdate(1,l)}},l.a.createElement("img",{src:"/images/plus.png",alt:"plus"})))))))});return l.a.createElement(x.a,{className:"popover-conatiner"},a)}}]),t}(n.Component),nt=a(1178),lt=a(1181),st=a(1179),ot=a(1180),rt=(a(1002),function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(c.a)(this,Object(m.a)(t).call(this,e))).state={isMobile:!1},a.updatePredicate=a.updatePredicate.bind(Object(U.a)(a)),a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.updatePredicate(),window.addEventListener("resize",this.updatePredicate)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.updatePredicate)}},{key:"updatePredicate",value:function(){this.setState({isMobile:window.innerWidth<426})}},{key:"render",value:function(){return l.a.createElement(nt.a,{open:this.props.modal,onClose:this.props.toggle,maxWidth:"xs",fullWidth:!1},l.a.createElement(lt.a,{className:"dialog-top"},l.a.createElement("div",{className:"d-flex align-items-center"},l.a.createElement("p",{className:"info-modal-title"},this.props.title),l.a.createElement(ve.a,{className:"closeButton ml-auto",onClick:this.props.toggle},l.a.createElement(ge.a,{className:"closeButton"})))),l.a.createElement(st.a,{className:"info-modal-content"},l.a.createElement("div",{className:"info-modal-message text-center"},this.props.children)),l.a.createElement(ot.a,{className:"info-modal-bottom"},l.a.createElement("div",{className:"d-flex align-items-center justify-content-center w-100"},l.a.createElement($e.a,{variant:"success",className:"info-button",onClick:this.props.affirmativeAction},l.a.createElement("span",null,this.props.affirmativeText)),l.a.createElement($e.a,{variant:"outline-success",className:"info-button info-button-cancel",onClick:this.props.toggle,style:{marginLeft:"15px"}},l.a.createElement("span",null,this.props.cancelText)))))}}]),t}(n.Component)),it=function(e){function t(){return Object(r.a)(this,t),Object(c.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return l.a.createElement(Q.n,{isOpen:this.props.modal,toggle:this.props.toggle,onClosed:this.props.onClosed},l.a.createElement(Q.q,{toggle:this.props.toggle},this.props.title),l.a.createElement(Q.o,null,this.props.children),l.a.createElement(Q.p,null,l.a.createElement(Q.a,{color:"primary",onClick:this.props.onClosed},"Ok")))}}]),t}(n.Component),ct=a(216),mt=a(577),ut=(a(1038),a(590)),dt=(a(1039),function(e){function t(){var e,a;Object(r.a)(this,t);for(var n=arguments.length,l=new Array(n),s=0;s<n;s++)l[s]=arguments[s];return(a=Object(c.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(l)))).state={focused:!1},a.onClickOutside=function(){window.setTimeout(function(){a.setState({focused:!1})},100)},a.toggleController=function(){a.setState({focused:!a.state.focused})},a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return l.a.createElement("div",null,l.a.createElement("div",{style:{marginBottom:16}},l.a.createElement(Ke.a,null,l.a.createElement(Qe.a,{type:"text",value:Ue()(this.props.DateTime).format("DD MMMM YYYY"),className:"job-detail-section--date-input",disabled:this.props.disabled,onChange:function(){}}),l.a.createElement(Ke.a.Append,null,l.a.createElement(qe.a,{variant:"outline-success",onClick:this.toggleController,className:"calendar-button",disabled:this.props.disabled},l.a.createElement(T.a,{icon:ct.a,color:"white"}))))),this.state.focused?l.a.createElement("div",{style:{zIndex:"100",position:"absolute"}},l.a.createElement(mt.DayPickerSingleDateController,{date:Ue()(this.props.DateTime),onDateChange:this.props.handleDateChange,onOutsideClick:this.onClickOutside,numberOfMonths:1,isOutsideRange:function(e){return!Object(ut.a)(e,Ue()())}})):"")}}]),t}(n.Component)),ht=function(e){function t(){var e,a;Object(r.a)(this,t);for(var n=arguments.length,s=new Array(n),o=0;o<n;o++)s[o]=arguments[o];return(a=Object(c.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(s)))).state={job:a.props.job,jobEdit:!1,showJobUpdateModal:!1,jobUpdatedModal:!1,currentCareOffParty:null,jobPrevState:null,showItemsDeliverList:!1,focusedVesselArriveDate:!1,ItemsDeliverAnchorEl:null,ItemsOfflandAnchorEl:null},a.handleVesselLoadingLocationChange=function(e){var t=a.state.job;t.vesselLoadingLocation=e.target.value,a.setState({job:t})},a.handleVesselArrivalDateChange=function(e){var t=a.state.job;t.vesselArrivalDateTime=e.toISOString(),a.setState({job:t})},a.handleVesselArrivalTimeChange=function(e){var t=a.state.job;t.vesselArrivalDateTime=e.toDate().toISOString(),a.setState({job:t})},a.handleVesselLighterLocationChange=function(e){var t=a.state.job;t.vesselLighterLocation=e.target.value,a.setState({job:t})},a.handleVesselLighterNameChange=function(e){var t=a.state.job;t.vesselLighterName=e.target.value,a.setState({job:t})},a.handleVesselBerthingDateTimeChange=function(e){var t=a.state.job;t.psaBerthingDateTime=e,a.setState({job:t})},a.handleVesselUnberthingDateTimeChange=function(e){var t=a.state.job;t.psaUnberthingDateTime=e,a.setState({job:t})},a.handleVesselLoadingDateChange=function(e){var t=a.state.job;t.vesselLoadingDateTime=e.toISOString(),a.setState({job:t})},a.handleVesselLoadingTimeChange=function(e){var t=a.state.job;t.vesselLoadingDateTime=e.toDate().toISOString(),a.setState({job:t})},a.handleRemarksChange=function(e){var t=a.state.job;t.remarks=e.target.value,a.setState({job:t})},a.handleVesselLighterRemarksChange=function(e){var t=a.state.job;t.vesselLighterRemarks=e.target.value,a.setState({job:t})},a.onSubmit=function(e){e.preventDefault(),a.setState({showJobUpdateModal:!0})},a.validateItems=function(e){for(var t=[],a=0;a<e.length;a++){var n=e[a];""!==n.quantity&&""!==n.uom&&(delete n.id,t.push(n))}return t},a.saveJobDetails=function(e){var t=a.validateItems(a.state.job.jobItems),n=a.validateItems(a.state.job.jobOfflandItems),l=new Date,s=a.state.job;s.jobItems=t,s.jobOfflandItems=n,s.careOffParties=a.state.job.careOffParties,"PSA"!==a.state.job.vesselLoadingLocation&&new Date(a.state.job.vesselLoadingDateTime)-l.setHours(l.getHours()+2)<0?(a.setState({jobEdit:!1,job:a.state.jobPrevState}),window.alert("Vessel Loading Time cannot be before now")):""===a.state.job.vesselLoadingDateTime?(a.setState({jobEdit:!1,job:a.state.jobPrevState}),window.alert("Vessel Loading Date and Time must be filled")):null!==a.state.currentCareOffParty&&a.validateItems(a.state.currentCareOffParty.jobItems).length<1?(a.setState({jobEdit:!1,job:a.state.jobPrevState}),window.alert("At least one item must be submitted for delivery!")):""===a.state.job.vesselArrivalDateTime?(a.setState({jobEdit:!1,job:a.state.jobPrevState}),window.alert("Vessel ETA must be filled")):E.a.put("/api/jobs",{job:s,sendEmailUpdate:!0}).then(function(e){null!==a.state.currentCareOffParty?E.a.put("/api/care_off",{careOffParty:a.state.currentCareOffParty}).then(function(e){a.setState({jobUpdatedModal:!0})}).catch(function(e){console.log(e)}):a.setState({jobUpdatedModal:!0})}).catch(function(e){console.log(e)})},a.checkValidDate=function(e){return"Invalid Date"!==new Date(e).toString()},a.handleDeliverClose=function(){a.setState({ItemsDeliverAnchorEl:null})},a.handleOfflandClose=function(){a.setState({ItemsOfflandAnchorEl:null})},a.handleCreateDSAChange=function(e){var t=a.state.job;t.createDSA=e.target.checked,a.setState({job:t})},a.handleOtherVesselLocationChange=function(e){var t=a.state.job;t.vesselLoadingLocation=e.target.value,a.setState({job:t})},a.renderJobTimeDetails=function(){var e=a.state.job,t=e.vesselLoadingLocation,n=e.vesselArrivalDateTime,s=e.vesselLoadingDateTime,o=e.psaBerthingDateTime,r=e.psaUnberthingDateTime,i=Ue()(s),c=(Ue()(n),Ue()(o)),m=Ue()(r);switch(t){case"PSA":return l.a.createElement("div",null,l.a.createElement(Fe.a,null,l.a.createElement(Je.a,{xs:12,sm:6},l.a.createElement("div",{className:"d-flex align-items-center job-detail-section-heading"},l.a.createElement("div",{className:"job-detail-green-circle"},l.a.createElement("strong",null,"2")),l.a.createElement("h1",{className:"job-detail-section-header"},"Time")),l.a.createElement(Q.j,null,l.a.createElement(Q.m,{className:"job-detail-section-label"},"Vessel Estimated Berthing Time"),l.a.createElement(Re.a,{fluid:!0,style:{paddingRight:"0px",paddingLeft:"0px"}},l.a.createElement(Fe.a,null,l.a.createElement(Je.a,{xs:7},l.a.createElement(dt,{DateTime:o,handleDateChange:function(){},disabled:!0})),l.a.createElement(Je.a,{xs:5},l.a.createElement(ze.a,{showSecond:!1,defaultValue:c,value:c,onChange:function(){},allowEmpty:!1,disabled:!0,className:"job-detail-section-input"}))))),l.a.createElement(Q.j,null,l.a.createElement(Q.m,{className:"job-detail-section-label"},"Vessel Estimated Unberthing Time"),l.a.createElement(Re.a,{fluid:!0,style:{paddingRight:"0px",paddingLeft:"0px"}},l.a.createElement(Fe.a,null,l.a.createElement(Je.a,{xs:7},l.a.createElement(dt,{DateTime:r,handleDateChange:function(){},disabled:!0})),l.a.createElement(Je.a,{xs:5},l.a.createElement(ze.a,{showSecond:!1,defaultValue:m,value:m,onChange:function(){},allowEmpty:!1,disabled:!0,className:"job-detail-section-input"}))))))),l.a.createElement(he.a,{className:"job-detail-section-divider"}));default:return l.a.createElement("div",null,l.a.createElement(Fe.a,null,l.a.createElement(Je.a,{xs:12,sm:6},l.a.createElement("div",{className:"d-flex align-items-center job-detail-section-heading"},l.a.createElement("div",{className:"job-detail-green-circle"},l.a.createElement("strong",null,"2")),l.a.createElement("h1",{className:"job-detail-section-header"},"Time")),l.a.createElement(Q.j,null,l.a.createElement(Q.m,{className:"job-detail-section-label"},"Jurong Port"===a.state.vesselLoadingLocation?"Lighter Loading Date & Time":"Vessel Loading Date & Time"),l.a.createElement(Re.a,{fluid:!0,style:{paddingRight:"0px",paddingLeft:"0px"}},l.a.createElement(Fe.a,null,l.a.createElement(Je.a,{xs:7},l.a.createElement(dt,{DateTime:s,handleDateChange:a.handleVesselLoadingDateChange,disabled:!a.state.jobEdit})),l.a.createElement(Je.a,{xs:5},l.a.createElement(ze.a,{showSecond:!1,defaultValue:i,value:i,onChange:a.handleVesselLoadingTimeChange,allowEmpty:!1,disabled:!a.state.jobEdit,className:"job-detail-section-input"}))))))),l.a.createElement(he.a,{className:"job-detail-section-divider"}))}},a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){for(var e=null,t=this.props.job.careOffParties,a=0;a<t.length;a++){var n=t[a];if(n.user===this.props.auth._id){e=n,this.setState({currentCareOffParty:e});break}}}},{key:"render",value:function(){var e=this,t=this.state.job,a=t.jobId,n=t.vessel,s=t.vesselLoadingLocation,o=(t.vesselArrivalDateTime,t.vesselLoadingDateTime,t.remarks),r=t.jobItems,i=t.jobOfflandItems,c=(t.psaBerthingDateTime,t.psaUnberthingDateTime,t.createDSA),m=t.vesselLighterName,u=(t.vesselLighterDateTime,t.vesselLighterLocation),d=t.vesselLighterRemarks,h="PSA"===s||"Jurong Port"===s?"":s;s="PSA"===s||"Jurong Port"===s?s:"Others";var p=this.state.currentCareOffParty;null!==p&&(r=p.jobItems,i=p.jobOfflandItems);for(var b=0;b<r.length;b++){r[b].id=(+new Date+Math.floor(999999*Math.random())).toString(36)}for(var f=0;f<i.length;f++){i[f].id=(+new Date+Math.floor(999999*Math.random())).toString(36)}var g=Boolean(this.state.ItemsDeliverAnchorEl),v=r.reduce(function(e,t){return e.push(t.quantity.toString().concat(" ".concat(t.uom))),e},[]),E=Boolean(this.state.ItemsOfflandAnchorEl),j=i.reduce(function(e,t){return e.push(t.quantity.toString().concat(" ".concat(t.uom))),e},[]);return l.a.createElement("div",null,l.a.createElement(z.a,{square:!0,className:"job-detail-paper",elevation:0},l.a.createElement(Q.i,{onSubmit:this.onSubmit},l.a.createElement(Re.a,null,l.a.createElement(Fe.a,null,l.a.createElement(Je.a,{xs:12,sm:6},l.a.createElement("div",{className:"d-flex align-items-center job-detail-section-heading"},l.a.createElement("div",{className:"job-detail-green-circle"},l.a.createElement("strong",null,"1")),l.a.createElement("h1",{className:"job-detail-section-header"},"Vessel Information")),l.a.createElement(Q.j,null,l.a.createElement(Q.m,{className:"job-detail-section-label"},"Job Number"),l.a.createElement(Q.l,{type:"text",value:a,className:"job-detail-section-input",disabled:!0})),l.a.createElement(Q.j,null,l.a.createElement(Q.m,{className:"job-detail-section-label"},"Vessel Loading Location"),l.a.createElement(Q.l,{type:"select",value:s,disabled:!0,onChange:this.handleVesselLoadingLocationChange,className:"job-detail-section-input job-input-margin-btm "},l.a.createElement("option",null,"PSA"),l.a.createElement("option",null,"Jurong Port"),l.a.createElement("option",null,"Others"))),"Others"===s?l.a.createElement(Q.j,null,l.a.createElement(Q.m,{className:"job-create-section-label"},"Address of Vessel Loading Location"),l.a.createElement(Q.l,{type:"text",value:h,disabled:!this.state.jobEdit,onChange:this.handleOtherVesselLocationChange,className:"job-create-section-input"})):"","Jurong Port"===s?l.a.createElement("div",null,l.a.createElement(Q.j,{style:{marginBottom:"0px"}},l.a.createElement(Q.m,{className:"job-detail-section-label"},"Lighter Name (Optional)"),l.a.createElement(Q.l,{type:"text",onChange:this.handleVesselLighterNameChange,value:m,disabled:!this.state.jobEdit,className:"job-detail-section-input"})),l.a.createElement(Q.j,null,l.a.createElement(Q.m,{className:"job-detail-section-label"},"Lighter Location"),l.a.createElement(Q.l,{type:"select",value:u,disabled:!this.state.jobEdit,onChange:this.handleVesselLighterLocationChange,className:"job-detail-section-input job-input-margin-btm "},l.a.createElement("option",null,"Marina South Wharves"),l.a.createElement("option",null,"Penjuru Terminal"))),l.a.createElement(Q.j,null,l.a.createElement(Q.m,{className:"job-detail-section-label"},"Lighter Contact Remarks (Optional)"),l.a.createElement(Q.l,{type:"textarea",value:d,rows:"3",className:"job-detail-section-input",style:{marginBottom:0},onChange:this.handleVesselLighterRemarksChange,disabled:!this.state.jobEdit}),l.a.createElement("span",{className:"job-detail-section-label-helper-text"},l.a.createElement("i",null,"Please enter contact details for lighter here")))):"",l.a.createElement(Q.j,null,l.a.createElement(Q.m,{className:"job-detail-section-label"},"Vessel IMO"),l.a.createElement(Q.l,{type:"text",className:"job-detail-section-input",value:n.vesselIMOID,disabled:!0})),l.a.createElement(Q.j,null,l.a.createElement(Q.m,{className:"job-detail-section-label"},"Vessel Callsign"),l.a.createElement(Q.l,{type:"text",className:"job-detail-section-input",value:n.vesselCallsign,disabled:!0})),l.a.createElement(Q.j,null,l.a.createElement(Q.m,{className:"job-detail-section-label"},"Vessel Name"),l.a.createElement(Q.l,{type:"text",className:"job-detail-section-input",value:n.vesselName,disabled:!0})))),l.a.createElement(he.a,{className:"job-detail-section-divider"}),this.renderJobTimeDetails(),l.a.createElement(Fe.a,null,l.a.createElement(Je.a,{xs:12,sm:6},l.a.createElement("div",{className:"d-flex align-items-center job-detail-section-heading"},l.a.createElement("div",{className:"job-detail-green-circle"},l.a.createElement("strong",null,"3")),l.a.createElement("h1",{className:"job-detail-section-header"},"Delivery Details")),l.a.createElement(We.a.Group,null,l.a.createElement(We.a.Label,{className:"job-detail-section-label"},"Items to Deliver"),l.a.createElement(We.a.Control,{as:"input",value:v.join(", "),onClick:function(t){e.setState({ItemsDeliverAnchorEl:t.currentTarget})},disabled:!this.state.jobEdit,className:"job-detail-section-input margin-bottom-zero"}),l.a.createElement("span",{className:"job-detail-section-label-helper-text"},l.a.createElement("i",null,"Do let us know if you have refrigeration,fragile,etc items in the remarks")),l.a.createElement(Ve.a,{open:g,anchorEl:this.state.ItemsDeliverAnchorEl,onClose:this.handleDeliverClose,anchorOrigin:{vertical:"bottom",horizontal:"left"},transformOrigin:{vertical:"top",horizontal:"left"}},l.a.createElement(at,{jobItems:r,setItems:function(t){var a=e.state.job;null!==p?p.jobItems=t:a.jobItems=t,e.setState({job:a})},disabled:!this.state.jobEdit,type:"delivery"}))),l.a.createElement(We.a.Group,null,l.a.createElement(We.a.Label,{className:"job-detail-section-label"},"Items to Offland"),l.a.createElement(We.a.Control,{as:"input",value:j.join(", "),onClick:function(t){e.setState({ItemsOfflandAnchorEl:t.currentTarget})},disabled:!this.state.jobEdit,className:"job-detail-section-input"}),l.a.createElement(Ve.a,{open:E,anchorEl:this.state.ItemsOfflandAnchorEl,onClose:this.handleOfflandClose,anchorOrigin:{vertical:"bottom",horizontal:"left"},transformOrigin:{vertical:"top",horizontal:"left"}},l.a.createElement(at,{jobItems:i,setItems:function(t){var a=e.state.job;null!==p?p.jobOfflandItems=t:a.jobOfflandItems=t,e.setState({job:a})},disabled:!this.state.jobEdit}))),l.a.createElement(Q.j,null,l.a.createElement(Q.m,{className:"job-detail-section-label"},"Remarks"),l.a.createElement(Q.l,{type:"textarea",value:o,rows:"7",className:"job-detail-section-input margin-bottom-zero",onChange:this.handleRemarksChange,disabled:!this.state.jobEdit}),l.a.createElement("span",{className:"job-create-section-label-helper-text"},l.a.createElement("i",null,"* Please let us know if you require any pick up and pick up location."))),l.a.createElement(K.a,{value:"dsa",control:l.a.createElement(G.a,{color:"default",checked:c,className:"create-dsa-checkbox"}),label:l.a.createElement("div",{className:"d-flex flex-column"},l.a.createElement("span",{className:"job-detail-section-input-label",style:{marginBottom:"0px"}},l.a.createElement("strong",null,"I would like SimpFleet to produce DSA(JP LTs) or Entry/Export Permit(PSA) for me")),l.a.createElement("span",{className:"job-detail-section-label-helper-text"},l.a.createElement("i",null,"It would cost extra fees if Simpfleet produces the DSA(JP LTs) or Entry/Export Permit(PSA)"))),onChange:this.handleCreateDSAChange,disabled:!this.state.jobEdit}),this.state.jobEdit?l.a.createElement(Q.j,{className:"text-center"},l.a.createElement(qe.a,{onClick:this.onSubmit,variant:"success",className:"job-details-save-button"},"Save Changes"),l.a.createElement(qe.a,{onClick:function(t){return e.setState({jobEdit:!1,job:e.state.jobPrevState})},variant:"outline-success",className:"job-details-cancel-button"},"Cancel")):this.state.job.jobTrackers.length>1&&"Confirmed"!==this.state.job.isCancelled||"Admin"===this.props.auth.userType?l.a.createElement(Q.j,{className:"text-center"},l.a.createElement(qe.a,{onClick:function(t){return e.setState({jobEdit:!0,jobPrevState:JSON.parse(JSON.stringify(e.props.job))})},variant:"success",className:"job-details-update-button"},"Edit")):""))))),l.a.createElement(it,{modal:this.state.jobUpdatedModal,toggle:function(t){return e.setState({jobUpdatedModal:!e.state.jobUpdatedModal})},title:"Job Changes saved.",onClosed:function(t){return e.setState({jobUpdatedModal:!1})}},l.a.createElement("p",null,"Your changes to the job details has been successfully saved.")),l.a.createElement(rt,{modal:this.state.showJobUpdateModal,toggle:function(t){return e.setState({showJobUpdateModal:!e.state.showJobUpdateModal})},title:"Save Changes?",affirmativeAction:function(t){e.setState({showJobUpdateModal:!e.state.showJobUpdateModal,jobEdit:!e.state.jobEdit}),e.saveJobDetails()},affirmativeText:"Yes",cancelText:"No"},l.a.createElement("p",null,"Do you want to save changes? A notification will be sent to all parties involved.")))}}]),t}(n.Component),pt=Object(p.g)(Object(d.b)(function(e){return{auth:e.auth}})(ht)),bt=(a(534),a(1233)),ft=a(222),gt=a.n(ft),vt=a(223),Et=a.n(vt),jt=a(1236),yt=a(403),Ct=a(1175),St=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(c.a)(this,Object(m.a)(t).call(this,e))).state={highlight:!1},a.openFileDialog=function(){a.props.disabled||a.fileInputRef.current.click()},a.fileListToArray=function(e){for(var t=[],a=0;a<e.length;a++)t.push(e.item(a));return t},a.onFilesAdded=function(e){if(!a.props.disabled){var t=e.target.files;if(a.props.onFilesAdded){var n=a.fileListToArray(t);a.props.onFilesAdded(n)}}},a.onDragOver=function(e){e.preventDefault(),a.props.disabled||a.setState({highlight:!0})},a.onDragLeave=function(){a.setState({highlight:!1})},a.onDrop=function(e){if(e.preventDefault(),!a.props.disabled){var t=e.dataTransfer.files;if(a.props.onFilesAdded){var n=a.fileListToArray(t);a.props.onFilesAdded(n)}a.setState({highlight:!1})}},a.fileInputRef=l.a.createRef(),a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return l.a.createElement("div",{className:"job-file-upload-dropzone ".concat(this.state.highlight?"job-file-upload-highlight":""),onDragOver:this.onDragOver,onDragLeave:this.onDragLeave,onDrop:this.onDrop,onClick:this.openFileDialog,style:{cursor:this.props.disabled?"default":"pointer"}},l.a.createElement("img",{alt:"upload",className:"job-file-upload-icon",src:"./images/assets/job/baseline-cloud_upload-24px.svg"}),l.a.createElement("input",{ref:this.fileInputRef,className:"job-file-upload-fileInput",type:"file",multiple:!0,onChange:this.onFilesAdded}),l.a.createElement("span",{style:{color:"#686868"}},l.a.createElement("strong",null,"Drop file here to attach or"," ",l.a.createElement("span",{style:{textDecoration:"underline"}},"browse"))))}}]),t}(n.Component),kt=a(221),Nt=function(e){function t(){var e,a;Object(r.a)(this,t);for(var n=arguments.length,s=new Array(n),o=0;o<n;o++)s[o]=arguments[o];return(a=Object(c.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(s)))).state={uploading:!1,hover:!1},a.handleOnMouseEnter=function(){a.setState({hover:!0})},a.handleOnMouseOut=function(){a.setState({hover:!1})},a.renderUploadDisplay=function(){return l.a.createElement("div",{className:"job-file-upload-files-upload-section",style:{marginBottom:10}},l.a.createElement("div",{className:"job-file-upload-files-content"},null===a.props.file?l.a.createElement(St,{onFilesAdded:a.props.onFilesAdded,disabled:!1}):l.a.createElement("div",{onMouseEnter:a.handleOnMouseEnter,onMouseLeave:a.handleOnMouseOut,style:{width:"20%"}},l.a.createElement("div",{className:"d-flex flex-column align-items-center file-icon-background justify-content-center",style:{height:"140px",padding:8}},l.a.createElement(kt.a,{className:"job-details-file-icon"}),l.a.createElement("p",{className:"text-center"},a.props.file.name)))))},a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return l.a.createElement("div",null,this.renderUploadDisplay())}}]),t}(n.Component),Ot=a(578),wt=a.n(Ot),xt=a(1227),Dt=function(e){function t(){var e,a;Object(r.a)(this,t);for(var n=arguments.length,l=new Array(n),s=0;s<n;s++)l[s]=arguments[s];return(a=Object(c.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(l)))).state={hover:!1,edit:!1},a.handleOnMouseEnter=function(){a.setState({hover:!0})},a.handleOnMouseOut=function(){a.setState({hover:!1})},a.handleEdit=function(){a.setState({edit:!0})},a.onKeyDown=function(e){13===e.keyCode&&a.setState({edit:!1})},a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this,t=this.props.jobFile;return l.a.createElement("div",{onMouseEnter:this.handleOnMouseEnter,onMouseLeave:this.handleOnMouseOut,style:{width:"20%"}},this.state.hover?l.a.createElement("div",{className:"d-flex flex-column align-items-center file-icon-background"},l.a.createElement("a",{href:t.fileURL},l.a.createElement(kt.a,{className:"job-details-file-icon"})),this.state.edit?l.a.createElement("input",{onChange:function(a){return e.props.handleDocumentTitleChange(a,t)},onKeyDown:this.onKeyDown}):l.a.createElement("p",null,t.filename),l.a.createElement(xt.a,null,l.a.createElement(W.a,{onClick:this.handleEdit,style:{border:"none"}},l.a.createElement(wt.a,null)),l.a.createElement(W.a,{onClick:function(){return e.props.handleSingleDelete(t)},style:{border:"none"}},l.a.createElement(ge.a,null)))):l.a.createElement("div",{className:"d-flex flex-column align-items-center file-icon-background justify-content-center"},l.a.createElement("a",{href:t.fileURL},l.a.createElement(kt.a,{className:"job-details-file-icon"})),this.state.edit?l.a.createElement("input",{onChange:function(a){return e.props.handleDocumentTitleChange(a,t)},onKeyDown:this.onKeyDown}):l.a.createElement("p",null,t.filename)))}}]),t}(n.Component);a(1040);function Lt(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}var Mt=function(e){function t(){var e,a;Object(r.a)(this,t);for(var n=arguments.length,l=new Array(n),s=0;s<n;s++)l[s]=arguments[s];return(a=Object(c.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(l)))).state={requirements:{needPrintCopy:"yes",signAndReturn:"yes"},remarks:"",filename:"",numCopies:1,documentType:"Choose from Computer",file:null},a.retrieveRequirement=function(e,t){for(var n=e.requirements,l=0;l<n.length;l++){var s=n[l];if(s.key===t)return s}for(var o=a.loadRequirements(),r=0;r<o.length;r++){var i=o[r];if(i.key===t){var c=e.requirements;return c.push(i),e.requirements=c,i}}},a.updateRequirement=function(e,t,a){for(var n=[],l=0;l<e.requirements.length;l++){var s=e.requirements[l];s.key===t&&(s.check=a),n.push(s)}e.requirements=n},a.handlePrintCopyChange=function(e){a.setState({requirements:{needPrintCopy:e.target.value,signAndReturn:a.state.requirements.signAndReturn}})},a.handleSignAndReturnChange=function(e){a.setState({requirements:{needPrintCopy:a.state.requirements.needPrintCopy,signAndReturn:e.target.value}})},a.handleDocumentTitleChange=function(e,t){t.filename=e.target.value,a.setState({filename:e.target.value})},a.handleUploadType=function(e){a.setState({documentType:e.target.value})},a.handleNumberOfCopiesChange=function(e){a.setState({numCopies:e.target.value})},a.handleRemarksChange=function(e){a.setState({remarks:e.target.value})},a.handleAddDocument=function(){if("yes"===a.state.requirements.needPrintCopy){var e=a.props.jobFile;e.filename=a.state.filename,"yes"===a.state.requirements.needPrintCopy?a.updateRequirement(e,"needPrintCopy",!0):a.updateRequirement(e,"needPrintCopy",!1),"yes"===a.state.requirements.signAndReturn?a.updateRequirement(e,"signAndReturn",!0):a.updateRequirement(e,"signAndReturn",!1),""===a.state.remarks?e.remarks="NIL":e.remarks=a.state.remarks,e.numCopies=a.state.numCopies;var t=new FormData;t.append("file",a.state.file),t.append("jobFile",JSON.stringify(e)),t.append("jobID",a.props.job._id),E.a.post("/api/job_files/upload_document",t,{headers:{"Content-Type":"multipart/form-data"}}).catch(function(e){console.log(e)}).finally(function(){window.location.reload()})}else{if(""===a.state.filename)return void alert("Document name cannot be empty");var n=a.props.jobFile;n.filename=a.state.filename,"yes"===a.state.requirements.needPrintCopy?a.updateRequirement(n,"needPrintCopy",!0):a.updateRequirement(n,"needPrintCopy",!1),"yes"===a.state.requirements.signAndReturn?a.updateRequirement(n,"signAndReturn",!0):a.updateRequirement(n,"signAndReturn",!1),""===a.state.remarks?n.remarks="NIL":n.remarks=a.state.remarks,n.numCopies=a.state.numCopies,E.a.post("/api/job_files/",function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Lt(a,!0).forEach(function(t){Object(_.a)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Lt(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}({},n,{jobID:a.props.job._id})).catch(function(e){console.log(e)}).finally(function(){window.location.reload()})}},a.handleEditDocument=function(){if(""!==a.state.filename){var e=a.props.jobFile;e.filename=a.state.filename,"yes"===a.state.requirements.needPrintCopy?a.updateRequirement(e,"needPrintCopy",!0):a.updateRequirement(e,"needPrintCopy",!1),"yes"===a.state.requirements.signAndReturn?a.updateRequirement(e,"signAndReturn",!0):a.updateRequirement(e,"signAndReturn",!1),""===a.state.remarks?e.remarks="NIL":e.remarks=a.state.remarks,e.numCopies=a.state.numCopies,a.props.successClose()}else alert("File name cannot be empty")},a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.jobFile,t=this.state.requirements;this.retrieveRequirement(this.props.jobFile,"needPrintCopy").check?t.needPrintCopy="yes":t.needPrintCopy="no",this.retrieveRequirement(this.props.jobFile,"signAndReturn").check?t.signAndReturn="yes":t.signAndReturn="no",this.setState({remarks:e.remarks,filename:e.filename,numCopies:e.numCopies,requirements:t})}},{key:"renderUpload",value:function(){var e=this;if(""!==this.props.jobFile.fileURL)return l.a.createElement(Dt,{jobFile:this.props.jobFile,handleSingleDelete:this.props.handleSingleDelete,handleDocumentTitleChange:this.handleDocumentTitleChange});switch(this.state.documentType){case"Choose from Computer":return l.a.createElement(Nt,{job:this.props.job,onFilesAdded:function(t){e.setState({file:t[0]})},file:this.state.file});default:return""}}},{key:"render",value:function(){var e=this;return l.a.createElement(We.a,null,l.a.createElement(yt.a,null,l.a.createElement(Ct.a,{className:"job-file-upload-label"},"Do you want us to print copy/copies and bring it to the vessel?"),l.a.createElement(jt.a,{value:this.state.requirements.needPrintCopy,onChange:this.handlePrintCopyChange,row:!0},l.a.createElement(K.a,{value:"yes",control:l.a.createElement(bt.a,{color:"default",icon:l.a.createElement(gt.a,{fontSize:"small"}),checkedIcon:l.a.createElement(Et.a,{fontSize:"small",className:"green-radio"})}),label:"Yes"}),l.a.createElement(K.a,{value:"no",control:l.a.createElement(bt.a,{color:"default",icon:l.a.createElement(gt.a,{fontSize:"small"}),checkedIcon:l.a.createElement(Et.a,{fontSize:"small",className:"green-radio"})}),label:"No"}))),l.a.createElement("br",null),l.a.createElement(yt.a,null,l.a.createElement(Ct.a,{className:"job-file-upload-label"},"Do you need the document to be signed and return?"),l.a.createElement(jt.a,{value:this.state.requirements.signAndReturn,onChange:this.handleSignAndReturnChange,row:!0},l.a.createElement(K.a,{value:"yes",control:l.a.createElement(bt.a,{color:"default",icon:l.a.createElement(gt.a,{fontSize:"small"}),checkedIcon:l.a.createElement(Et.a,{fontSize:"small",className:"green-radio"})}),label:"Yes"}),l.a.createElement(K.a,{value:"no",control:l.a.createElement(bt.a,{color:"default",icon:l.a.createElement(gt.a,{fontSize:"small"}),checkedIcon:l.a.createElement(Et.a,{fontSize:"small",className:"green-radio"})}),label:"No"}))),"yes"===this.state.requirements.needPrintCopy?l.a.createElement("div",null,l.a.createElement(We.a.Group,{className:"d-flex flex-column"},l.a.createElement("div",{className:"d-flex align-items-center"},l.a.createElement(We.a.Label,{className:"job-file-upload-label"},"Attachment"),l.a.createElement(We.a.Control,{as:"select",onChange:this.handleUploadType,className:"job-file-upload-attach-input"},l.a.createElement("option",null,"Choose from Computer"))),l.a.createElement(We.a.Label,{className:"job-detail-section-label-helper-text",style:{marginTop:5}},"*Please ensure the documents uploaded are clear")),this.renderUpload()):l.a.createElement(L.a,{xs:12,sm:6,className:"col-no-padding"},l.a.createElement(We.a.Group,{className:"d-flex flex-column"},l.a.createElement(We.a.Label,{className:"job-file-upload-label",style:{marginBottom:0}},"Document Name"),l.a.createElement(We.a.Label,{className:"job-detail-section-label-helper-text",style:{marginTop:5}},"*Please ensure the documents printed are clear"),l.a.createElement(We.a.Control,{as:"input",placeholder:"Enter Document Name",type:"text",onChange:function(t){return e.handleDocumentTitleChange(t,e.props.jobFile)},value:this.state.filename,className:"job-file-upload-remarks-input"}))),l.a.createElement(We.a.Group,null,l.a.createElement(We.a.Label,{className:"job-file-upload-label"},"Number of Copies"),l.a.createElement(L.a,{xs:4,sm:2,className:"col-no-padding"},l.a.createElement(We.a.Control,{as:"input",type:"number",min:"0",onChange:this.handleNumberOfCopiesChange,value:this.state.numCopies,className:"job-file-upload-numcopies-input"}))),l.a.createElement(L.a,{xs:12,sm:6,className:"col-no-padding"},l.a.createElement(We.a.Group,null,l.a.createElement(We.a.Label,{className:"job-file-upload-label"},"Remarks (Optional)"),l.a.createElement(We.a.Control,{as:"textarea",rows:"4",placeholder:"Write any additional instructions ",type:"text",onChange:this.handleRemarksChange,value:this.state.remarks,className:"job-file-upload-remarks-input"}))),l.a.createElement("div",{className:"d-flex align-items-center justify-content-center",style:{marginTop:"20px"}},l.a.createElement($e.a,{variant:"outline-success",className:"job-file-upload-cancel-btn",onClick:function(t){return e.props.handleCancel(e.props.type)}},"Cancel"),"upload"===this.props.type?l.a.createElement($e.a,{variant:"success",className:"job-file-upload-submit-btn",onClick:this.handleAddDocument},"Submit"):l.a.createElement($e.a,{variant:"success",className:"job-file-upload-submit-btn",onClick:this.handleEditDocument},"Update")))}}]),t}(n.Component),At=Object(p.g)(Object(d.b)(function(e){return{auth:e.auth}})(Mt)),It=a(109),Pt=a.n(It),Tt=a(582),Rt=a.n(Tt),Ft=a(369),Jt=a.n(Ft),qt=a(157),_t=a.n(qt),Ut=(a(1041),a(373)),Vt=a(581),Bt=a.n(Vt),Wt=a(360),zt=a.n(Wt),Yt=function(e){var t=e.files,a=e.children;return l.a.createElement(n.Fragment,null,(t.length>0||Object.keys(t).length>0)&&l.a.createElement("span",{className:"file-downloader-container",onClick:function(e){return function(e){e.stopPropagation(),t.length>0?E.a.post("/api/job_files/files/download",{jobFileUrls:t},{responseType:"arraybuffer"}).then(function(e){var t=new Blob([e.data],{type:"application/zip"}),a=URL.createObjectURL(t),n=document.createElement("a");n.href=a,n.download="document.zip",document.body.appendChild(n),n.click(),n.remove()}).catch(function(e){console.log(e.error)}):Object.keys(t).length>0&&window.open(t.fileURL,"_blank")}(e)}},l.a.createElement(T.a,{icon:ct.b})," ",a))},Ht=(a(1042),function(e){var t=e.file,a=e.showPreviewModal,s=e.setModalFlag,o=t.fileURL.split("."),r="";["jpeg.","jpg","png","svg","gif"].includes(o[o.length-1].toLowerCase())&&(r="image"),["docx","doc","xlsx","pdf"].includes(o[o.length-1].toLowerCase())&&(r="doc");var i=Object(n.useState)(0),c=Object(Ut.a)(i,2),m=(c[0],c[1],Object(n.useState)(1)),u=Object(Ut.a)(m,2);u[0],u[1];return l.a.createElement(n.Fragment,null,l.a.createElement(Bt.a,{show:a,onHide:function(){return s(!1)},dialogClassName:"modal-90w file-preview-modal"},l.a.createElement(zt.a,null,l.a.createElement("div",null,l.a.createElement("div",{className:"back-icon-container d-flex align-items-center",onClick:function(){return s(!1)}},l.a.createElement("i",{className:"material-icons"},"arrow_back")," ",t.filename),l.a.createElement("div",{className:"download-icon-container"},l.a.createElement(Yt,{files:t},"Download")),l.a.createElement("div",{className:"clearfix"})),l.a.createElement("div",{className:"preview-container"},"image"===r&&l.a.createElement("img",{src:t.fileURL,alt:t.filename}),"doc"===r&&l.a.createElement("iframe",{title:"document preview",className:"document-container",src:"https://docs.google.com/viewer?url=".concat(t.fileURL,"&embedded=true")}),""===r&&l.a.createElement("h5",null,"Preview not available")))))});function Kt(e,t,a,n,l){return{job:e,name:t,copies:a,requirement:n,remarks:l}}function Gt(e,t){for(var a=e.requirements,n=0;n<a.length;n++){var l=a[n];if(l.key===t)return l}for(var s=this.loadRequirements(),o=0;o<s.length;o++){var r=s[o];if(r.key===t){var i=e.requirements;return i.push(r),e.requirements=i,this.jobFileChange(e),r}}}var Qt=function(e){function t(){var e,a;Object(r.a)(this,t);for(var n=arguments.length,l=new Array(n),s=0;s<n;s++)l[s]=arguments[s];return(a=Object(c.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(l)))).state={data:[],hover:!1,hoverKey:"",showDropdown:!1,file:null,showModal:!1},a.handleRowClick=function(e,t){t.job.fileURL&&""!==t.job.fileURL&&a.setState({showModal:!0,file:t.job})},a.toggleModal=function(e){a.setState({showModal:e})},a.handleDropdown=function(){a.setState({showDropdown:!a.state.showDropdown})},a.handleDownload=function(e){""!==e.fileURL&&window.open(e.fileURL)},a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"componentWillReceiveProps",value:function(e,t){if(!0===e.refresh){this.setState({data:[]});var a=this.props.jobFiles.reduce(function(e,t){var a=Gt(t,"needPrintCopy").check,n=Gt(t,"signAndReturn").check,l="No Requirement";return a&&!n&&(l="Need Printed Copy"),n&&!a&&(l="Sign and Return"),n&&a&&(l="Need Printed Copy & Sign and Return"),e.push(Kt(t,t.filename,t.numCopies,l,t.remarks)),e},[]);this.setState({data:a})}}},{key:"componentDidMount",value:function(){var e=this.props.jobFiles.reduce(function(e,t){var a=Gt(t,"needPrintCopy").check,n=Gt(t,"signAndReturn").check,l="No Requirement";return a&&!n&&(l="Need Printed Copy"),n&&!a&&(l="Sign and Return"),n&&a&&(l="Need Printed Copy & Sign and Return"),e.push(Kt(t,t.filename,t.numCopies,l,t.remarks)),e},[]);this.setState({data:e})}},{key:"render",value:function(){var e=this;return l.a.createElement("div",null,l.a.createElement(Pt.a,{columns:[{title:"Name",field:"name",render:function(e){return l.a.createElement(_t.a,{text:e.name,maxLine:"2",ellipsis:"...",trimRight:!0,basedOn:"letters"})}},{title:"Copies",field:"copies",cellStyle:{width:"50px"}},{title:"Requirements",field:"requirement",disableClick:!0,render:function(t){return l.a.createElement("div",{className:"d-flex align-items-center remarks-container"},l.a.createElement(_t.a,{text:t.requirement,maxLine:"2",ellipsis:"...",trimRight:!0,basedOn:"letters"}),l.a.createElement("div",{className:"hover-buttons"},l.a.createElement(ve.a,{onClick:function(){e.props.editFile(t.job)}},l.a.createElement(Rt.a,{fontSize:"small"})),l.a.createElement(ve.a,{onClick:function(){e.props.deleteFile(t.job)}},l.a.createElement(Jt.a,{fontSize:"small"}))))}}],data:this.state.data,components:{Container:function(e){return l.a.createElement(z.a,Object.assign({},e,{elevation:0,style:{marginTop:"20px",minHeight:"60vh"}}))},Row:function(e){return l.a.createElement(It.MTableBodyRow,Object.assign({},e,{className:"row-hover"}))}},options:{sorting:!0,selection:!0,headerStyle:{fontFamily:"Roboto",fontSize:"16px",fontWeight:"bold",color:"#707070"},rowStyle:{fontFamily:"Roboto",fontSize:"14px",color:"#707070",height:"69px"},toolbarButtonAlignment:"left",showTextRowsSelected:!1},onRowClick:this.handleRowClick,title:"",actions:[{tooltip:"Delete Selected Items",icon:Jt.a,onClick:function(t,a){return e.props.deleteMultipleFiles(a)}}]}),this.state.data.length>0&&null!==this.state.file&&l.a.createElement(Ht,{file:this.state.file,setModalFlag:function(t){return e.toggleModal(t)},showPreviewModal:this.state.showModal}))}}]),t}(l.a.Component),Xt=a(583),$t=a(584),Zt=a.n($t),ea=a(585),ta=a.n(ea),aa=(a(1079),a(1182)),na=function(e){function t(){var e,a;Object(r.a)(this,t);for(var n=arguments.length,l=new Array(n),s=0;s<n;s++)l[s]=arguments[s];return(a=Object(c.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(l)))).handleDownload=function(e){""!==e.fileURL&&window.open(e.fileURL)},a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this;return l.a.createElement(aa.a,{anchor:"bottom",open:this.props.open,onClose:this.props.onClose,PaperProps:{className:"MuiPaper-root MuiPaper-elevation16 MuiDrawer-paper MuiDrawer-paperAnchorBottom drawer-job-file-mobile"}},l.a.createElement("h3",{onClick:this.props.onClose,className:"job-slide-cancel"},"Cancel"),l.a.createElement(he.a,{className:"job-file-slider-drawer-divider"}),l.a.createElement(z.a,{elevation:0,className:"job-file-slider-drawer-paper"},l.a.createElement(xe.a,null,l.a.createElement(De.a,{button:!0,onClick:function(){e.props.onClose(),e.props.editFile(e.props.jobFile)}},l.a.createElement(Le.a,null,"Edit"))),l.a.createElement(xe.a,null,l.a.createElement(De.a,{button:!0},l.a.createElement(Le.a,null,"Rename"))),l.a.createElement(xe.a,null,l.a.createElement(De.a,{button:!0,onClick:this.handleDownload},l.a.createElement(Le.a,null,"Download"))),l.a.createElement(xe.a,null,l.a.createElement(De.a,{button:!0,onClick:function(){e.props.onClose(),e.props.deleteFile(e.props.jobFile)}},l.a.createElement(Le.a,{style:{color:"red"}},"Delete")))))}}]),t}(n.Component);function la(e,t,a,n,l){return{job:e,name:t,copies:a,requirement:n,remarks:l}}function sa(e,t){for(var a=e.requirements,n=0;n<a.length;n++){var l=a[n];if(l.key===t)return l}for(var s=this.loadRequirements(),o=0;o<s.length;o++){var r=s[o];if(r.key===t){var i=e.requirements;return i.push(r),e.requirements=i,this.jobFileChange(e),r}}}var oa=function(e){function t(){var e,a;Object(r.a)(this,t);for(var n=arguments.length,l=new Array(n),s=0;s<n;s++)l[s]=arguments[s];return(a=Object(c.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(l)))).state={data:[],showSlider:!1,jobFileSelected:null},a.handleRowClick=function(e,t){t.jobFile.fileURL&&""!==t.jobFile.fileURL&&window.open(t.job.fileURL)},a.handleSlider=function(e){a.setState({showSlider:!0,jobFileSelected:e})},a.handleSliderClose=function(){a.setState({showSlider:!1})},a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"componentWillReceiveProps",value:function(e,t){if(!0===e.refresh){this.setState({data:[]});var a=this.props.jobFiles.reduce(function(e,t){var a=sa(t,"needPrintCopy").check,n=sa(t,"signAndReturn").check,l="No Requirement";return a&&!n&&(l="Need Print Copy"),n&&!a&&(l="Sign and Return"),n&&a&&(l="Need Print Copy & Sign and Return"),e.push(la(t,t.filename,t.numCopies,l,t.remarks)),e},[]);this.setState({data:a})}}},{key:"componentDidMount",value:function(){var e=this.props.jobFiles.reduce(function(e,t){var a=sa(t,"needPrintCopy").check,n=sa(t,"signAndReturn").check,l="No Requirement";return a&&!n&&(l="Need Print Copy"),n&&!a&&(l="Sign and Return"),n&&a&&(l="Need Print Copy & Sign and Return"),e.push(la(t,t.filename,t.numCopies,l,t.remarks)),e},[]);this.setState({data:e})}},{key:"render",value:function(){var e=this;return l.a.createElement("div",null,l.a.createElement(Pt.a,{columns:[{title:"Name",field:"name",render:function(e){return l.a.createElement("span",{className:"job-table-text"},e.name)},cellStyle:{paddingRight:"16px"}},{title:"",field:"name",disableClick:!0,sorting:!1,render:function(t){return l.a.createElement(ve.a,{onClick:function(a){e.handleSlider(t.job)}},l.a.createElement(Zt.a,null))},cellStyle:{paddingRight:"16px"}}],data:this.state.data,components:{Container:function(e){return l.a.createElement(z.a,Object.assign({},e,{elevation:0,style:{marginTop:"20px",minHeight:"60vh"}}))}},options:{sorting:!0,selection:!0,headerStyle:{fontFamily:"Roboto",fontSize:"16px",fontWeight:"bold",color:"#707070"},rowStyle:{fontFamily:"Roboto",fontSize:"14px",color:"#707070",height:"69px"},toolbarButtonAlignment:"left",showTextRowsSelected:!1,showTitle:!1,paging:!1},onRowClick:this.handleRowClick,actions:[{tooltip:"Delete Selected Items",icon:ta.a,onClick:function(t,a){return e.props.deleteMultipleFiles(a)}}]}),l.a.createElement(na,{jobFile:this.state.jobFileSelected,open:this.state.showSlider,onClose:this.handleSliderClose,editFile:this.props.editFile,deleteFile:this.props.deleteFile}))}}]),t}(l.a.Component),ra=function(e){function t(){var e,a;Object(r.a)(this,t);for(var n=arguments.length,l=new Array(n),s=0;s<n;s++)l[s]=arguments[s];return(a=Object(c.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(l)))).state={jobFiles:null,editJobFile:null,showJobFileDeleteModal:!1,jobFileToDelete:[],activeScreen:"showFiles",selectOption:!0,refresh:!1,numPages:null,pageNumber:1},a.getJobFiles=function(){E.a.get("/api/job_files?jobID=".concat(a.props.job._id)).then(function(e){var t=e.data.filter(function(e){return e.user===a.props.auth.user.id});a.setState({jobFiles:t})}).catch(function(e){console.log(e)})},a.jobFileChange=function(e){for(var t=a.state.jobFiles,n=[],l=0;l<t.length;l++)t[l]._id===e._id?n.push(e):n.push(t[l]);a.setState({jobFiles:n})},a.loadRequirements=function(){return[{id:(+new Date+Math.floor(999999*Math.random())).toString(36),key:"signAndReturn",name:"Sign and Return",check:!1},{id:(+new Date+Math.floor(999999*Math.random())).toString(36),key:"needPrintCopy",name:"Need Printed Copy",check:!1}]},a.updateJobFiles=function(){E.a.put("/api/job_files",{jobFiles:a.state.jobFiles}).then(function(e){a.setState({jobFiles:e.data})}).catch(function(e){console.log(e)})},a.handleDeleteJobFiles=function(){a.setState({refresh:!0});for(var e=a.state.jobFileToDelete,t=0;t<e.length;t++){var n=e[t],l=a.state.jobFiles.indexOf(n);a.state.jobFiles.splice(l,1),a.deleteJobFiles(n)}a.setState(a.state.jobFiles),a.setState({jobFileToDelete:[]}),window.setTimeout(function(){a.setState({refresh:!1})},1e3)},a.deleteJobFiles=function(e){E.a.delete("/api/job_files",{data:{jobFile:e}}).catch(function(e){console.log(e)})},a.handleSingleDelete=function(e){a.state.jobFileToDelete.push(e),a.setState({showJobFileDeleteModal:!0})},a.handleMultipleDelete=function(e){var t=e.reduce(function(e,t){return e.push(t.job),e},[]);a.setState({showJobFileDeleteModal:!0,jobFileToDelete:t})},a.handleAddEvent=function(){var e={id:(+new Date+Math.floor(999999*Math.random())).toString(36),fileURL:"",filename:"",numCopies:1,requirements:a.loadRequirements(),remarks:""};a.state.jobFiles.push(e),a.setState({jobFiles:a.state.jobFiles,activeScreen:"uploadFile"})},a.handleCancel=function(e){"upload"===e?(a.state.jobFiles.splice(-1,1),a.setState({activeScreen:"showFiles"})):a.setState({activeScreen:"showFiles"})},a.handleUploadSuccess=function(){a.updateJobFiles(),a.setState({activeScreen:"showFiles"})},a.handleEditFile=function(e){a.setState({activeScreen:"editFile",editJobFile:e})},a.handleEditCancel=function(){a.setState({activeScreen:"showFile",editJobFile:null})},a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.getJobFiles()}},{key:"render",value:function(){var e=this;switch(this.state.jobFiles){case null:return l.a.createElement("div",null);default:switch(this.state.activeScreen){case"uploadFile":return l.a.createElement("div",null,l.a.createElement(z.a,{square:!0,className:"job-detail-paper",elevation:0},this.state.jobFiles.length>0?l.a.createElement("div",null,l.a.createElement(At,{handleCancel:this.handleCancel,successClose:this.handleUploadSuccess,jobFile:this.state.jobFiles[this.state.jobFiles.length-1],job:this.props.job,type:"upload",handleSingleDelete:this.handleSingleDelete})):""));case"editFile":return l.a.createElement("div",null,l.a.createElement(z.a,{square:!0,className:"job-detail-paper",elevation:0},null!==this.state.editJobFile?l.a.createElement("div",null,l.a.createElement(At,{handleCancel:this.handleEditCancel,successClose:this.handleUploadSuccess,jobFile:this.state.editJobFile,job:this.props.job,type:"edit",handleSingleDelete:this.handleSingleDelete})):""));default:return l.a.createElement("div",null,l.a.createElement(z.a,{square:!0,className:"job-detail-paper",elevation:0},l.a.createElement("div",null,l.a.createElement("div",null,l.a.createElement("div",{className:"d-flex flex-row align-items-center"},l.a.createElement(T.a,{icon:Xt.a,color:"green",size:"3x",className:"job-files-add-file",onClick:this.handleAddEvent}),l.a.createElement("h3",{className:"job-detail-section-header"},"Upload your documents"))),this.state.jobFiles.length>0?l.a.createElement("div",null,l.a.createElement(J.a,{minWidth:768},l.a.createElement(Qt,{jobFiles:this.state.jobFiles,deleteFile:this.handleSingleDelete,editFile:this.handleEditFile,deleteMultipleFiles:this.handleMultipleDelete,selectOption:this.state.selectOption,refresh:this.state.refresh})),l.a.createElement(J.a,{maxWidth:767},l.a.createElement(oa,{jobFiles:this.state.jobFiles,deleteFile:this.handleSingleDelete,editFile:this.handleEditFile,deleteMultipleFiles:this.handleMultipleDelete,selectOption:this.state.selectOption,refresh:this.state.refresh}))):l.a.createElement("p",null,"You have not uploaded any documents yet")),l.a.createElement(rt,{modal:this.state.showJobFileDeleteModal,toggle:function(t){return e.setState({showJobFileDeleteModal:!e.state.showJobFileDeleteModal})},title:"Delete Document?",affirmativeAction:function(t){e.setState({showJobFileDeleteModal:!e.state.showJobFileDeleteModal}),e.handleDeleteJobFiles()},affirmativeText:"Yes",cancelText:"No"},l.a.createElement("p",null,"Are you sure you want to delete the document?"))))}}}}]),t}(n.Component),ia=Object(p.g)(Object(d.b)(function(e){return{auth:e.auth}})(ra)),ca=a(282);a(1080);function ma(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}var ua=function(e){function t(){var e,a;Object(r.a)(this,t);for(var n=arguments.length,l=new Array(n),s=0;s<n;s++)l[s]=arguments[s];return(a=Object(c.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(l)))).state={jobStatuses:[{index:1,title:"Job booking pending confirmation",description:"We have received your job booking and are currently checking the details. We will send you a confirmation email once everything is verified.",trackingType:"Electronic"},{index:2,title:"Job booking confirmed",description:"We have confirmed your job booking. Please deliver the items to 'No. 6 Tuas Ave 6, Singapore 639311' at least 24 hours before the vessel arrives.",trackingType:"Electronic"},{index:3,title:"Pending items arrival at warehouse",description:"We have confirmed your job booking. Your job details have been passed to our operations side for processing.",trackingType:"Storage"},{index:4,title:"All items have arrived at warehouse",description:"We have received all of your indicated items at our warehouse. We will proceed to check that everything is in order.",trackingType:"Storage"},{index:5,title:"Items are on delivery",description:"Your items have been checked and loaded onto our trucks. It is currently on the way to the delivery destination.",trackingType:"Truck"},{index:6,title:"Items have been received by customer",description:"Your items have been successfully received by the customer.",trackingType:"Truck"}],jobStatus:null,showCheckJobStatusModal:!1,cancellationConfirmationModal:!1},a.updateJobStatus=function(){E.a.post("/api/job_trackers",function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?ma(a,!0).forEach(function(t){Object(_.a)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ma(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}({},a.state.jobStatus,{jobId:a.props.job._id})).then(function(e){window.location.reload()}).catch(function(e){console.log(e)})},a.checkJobTracker=function(e){a.setState({jobStatus:e,showCheckJobStatusModal:!0})},a.cancelJob=function(){var e=a.props.job;e.isCancelled="Confirmed",E.a.put("/api/jobs",{job:e,sendEmailUpdate:!1}).then(function(e){window.location.reload()}).catch(function(e){console.log(e)})},a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this,t=this.props.job.jobTrackers.sort(function(e,t){return e.index-t.index});return l.a.createElement(Q.h,{fluid:!0},l.a.createElement(Q.v,null,l.a.createElement(Q.f,{xs:"12",md:{size:4,offset:4}},l.a.createElement(Q.a,{type:"button",color:"danger",onClick:function(t){return e.setState({cancellationConfirmationModal:!0})}},"Cancel Job"),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement(Q.i,null,this.state.jobStatuses.map(function(a,n){return l.a.createElement(Q.j,{check:!0,key:n},l.a.createElement(Q.m,{check:!0},l.a.createElement(Q.l,{type:"checkbox",disabled:!(a.index===t.length+1),checked:a.index<=t.length,onChange:function(t){return e.checkJobTracker(a)}})," ",a.title))}),l.a.createElement("br",null),l.a.createElement(Q.j,null,l.a.createElement(Q.a,{className:"global-primary-button",onClick:this.props.cancel},"Back"))))),l.a.createElement(rt,{modal:this.state.showCheckJobStatusModal,toggle:function(t){return e.setState({showCheckJobStatusModal:!e.state.showCheckJobStatusModal})},title:"Job Status Update",affirmativeAction:this.updateJobStatus,affirmativeText:"Yes",cancelText:"No"},"Are you sure you want to update this job status?"),l.a.createElement(rt,{modal:this.state.cancellationConfirmationModal,toggle:function(t){return e.setState({cancellationConfirmationModal:!e.state.cancellationConfirmationModal})},title:"Job Cancellation",affirmativeAction:this.cancelJob,affirmativeText:"Confirm"},"Are you sure you want to cancel this job?"))}}]),t}(n.Component),da=(a(1084),a(1085),a(294)),ha=(a(1086),function(e){function t(){var e,a;Object(r.a)(this,t);for(var n=arguments.length,l=new Array(n),s=0;s<n;s++)l[s]=arguments[s];return(a=Object(c.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(l)))).state={jobStatuses:[{index:1,title:"Job booking pending confirmation",description:"We have received your job booking and are currently checking the details. We will send you a confirmation email once everything is verified.",trackingType:"Electronic"},{index:2,title:"Job booking confirmed",description:"We have confirmed your job booking. Please deliver the items to 'No. 6 Tuas Ave 6, Singapore 639311' at least 24 hours before the vessel arrives.",trackingType:"Electronic"},{index:3,title:"Pending items arrival at warehouse",description:"We have confirmed your job booking. Your job details have been passed to our operations side for processing.",trackingType:"Storage"},{index:4,title:"All items have arrived at warehouse",description:"We have received all of your indicated items at our warehouse. We will proceed to check that everything is in order.",trackingType:"Storage"},{index:5,title:"Items are on delivery",description:"Your items have been checked and loaded onto our trucks. It is currently on the way to the delivery destination.",trackingType:"Truck"},{index:6,title:"Items have been received by customer",description:"Your items have been successfully received by the customer.",trackingType:"Truck"}],showJobDetailsEdit:!1},a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this,t=this.state.jobStatuses,a=this.props.job.jobTrackers.sort(function(e,t){return e.index-t.index}),n=a.length,s=t.map(function(e,t){if(a.reduce(function(e,t){return e.push(t.index),e},[]).includes(e.index)){var n=a.filter(function(t){return t.index===e.index})[0];return l.a.createElement(da.a,{title:n.title,key:t,description:l.a.createElement("div",{className:"d-flex flex-column"},l.a.createElement("span",null,l.a.createElement("i",null,Ue()(n.timestamp).format("Do MMMM YYYY, h:mm:ss a"))),l.a.createElement("span",null,n.description),""!==n.remarks?l.a.createElement("span",null,"Remarks: ",n.remarks):"")})}return l.a.createElement(da.a,{title:e.title,key:t,description:e.description})});switch(this.state.showJobDetailsEdit){case!1:return l.a.createElement("div",null,l.a.createElement(z.a,{square:!0,elevation:0,className:"job-detail-paper"},l.a.createElement("div",{className:"d-flex align-items-center justify-content-center",style:{margin:10}},"Admin"===this.props.auth.userType?l.a.createElement(W.a,{variant:"contained",onClick:function(t){return e.setState({showJobDetailsEdit:!0})}},"Edit Status"):""),l.a.createElement(da.b,{direction:"vertical",current:n,icons:{finish:l.a.createElement("span",{className:"status-finish"},"\u2713")}},s)));default:return l.a.createElement("div",null,"Admin"===this.props.auth.userType?l.a.createElement(ua,{job:this.props.job,cancel:function(t){return e.setState({showJobDetailsEdit:!1})}}):"")}}}]),t}(n.Component)),pa=Object(p.g)(Object(d.b)(function(e){return{auth:e.auth}})(ha)),ba=a(224),fa=function(e){function t(){var e,a;Object(r.a)(this,t);for(var n=arguments.length,l=new Array(n),s=0;s<n;s++)l[s]=arguments[s];return(a=Object(c.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(l)))).state={LogisticsCompanies:[{index:"wsl",companyName:"Allied Containers, Winspec Logistics Services Pte Ltd",address:"No. 6 Tuas Ave 6, Singapore 639311",contactNumber:"6558 6257",website:"winspecgroup.com",openingHours:"Monday to Friday, from 8:30am to 5:30pm & Saturday, from 8:30am to 12:30pm, excluding PH",addLL:{lat:1.3262,lng:103.649817}}],remarks:"",currentCompany:""},a.handleRemarks=function(e){a.setState({remarks:e.target.value})},a.handleSaveRemarks=function(){console.log("Saved Remarks for Logistics Company")},a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){for(var e=0;e<this.state.LogisticsCompanies.length;e++)if("wsl"===this.state.LogisticsCompanies[e].index){this.setState({currentCompany:this.state.LogisticsCompanies[e]});break}}},{key:"getDropoffTime",value:function(){var e=new Date(this.props.job.vesselArrivalDateTime);return e.setDate(e.getHours()-6),e.getDate()+"/"+e.getMonth()+"/"+e.getFullYear()}},{key:"render",value:function(){var e=this,t=(this.getDropoffTime(),this.state.currentCompany.openingHours),a=Object(ba.withScriptjs)(Object(ba.withGoogleMap)(function(t){return l.a.createElement(ba.GoogleMap,{defaultZoom:14,defaultCenter:e.state.currentCompany.addLL},l.a.createElement(ba.Marker,{position:e.state.currentCompany.addLL}))}));return l.a.createElement("div",null,l.a.createElement(z.a,{square:!0,className:"job-detail-paper",elevation:0},l.a.createElement(Re.a,null,l.a.createElement(Fe.a,{style:{marginBottom:40}},l.a.createElement(Je.a,null,l.a.createElement("h3",{className:"job-detail-section-header"},"Drop off Location"),l.a.createElement("p",null,this.state.currentCompany.companyName,","," ",this.state.currentCompany.address))),l.a.createElement(Fe.a,{style:{marginBottom:40}},l.a.createElement(Je.a,null,l.a.createElement("h3",{className:"job-detail-section-header"},"Drop off Time"),l.a.createElement("p",null,"Please Drop-off during office hours from ",t,"."))),l.a.createElement(Fe.a,null,l.a.createElement(Je.a,null,l.a.createElement("h3",{className:"job-detail-section-header"},"Map"),l.a.createElement(a,{googleMapURL:"https://maps.googleapis.com/maps/api/js?key=AIzaSyCFL111s8lalFUoU08_GwV4O12asuIgo_w&v=3.exp&libraries=geometry,drawing,places",loadingElement:l.a.createElement("div",{style:{height:"100%"}}),containerElement:l.a.createElement("div",{style:{height:"400px"}}),mapElement:l.a.createElement("div",{style:{height:"100%"}})}))))))}}]),t}(n.Component),ga=Object(p.g)(Object(d.b)(function(e){return{auth:e.auth}})(fa)),va=(a(1160),function(e){function t(){var e,a;Object(r.a)(this,t);for(var n=arguments.length,s=new Array(n),o=0;o<n;o++)s[o]=arguments[o];return(a=Object(c.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(s)))).state={status:null,showJobCancelModal:!1,paymentTrackers:[],paymentTrackerList:[{index:1,label:"Not Yet Invoiced"},{index:2,label:"Invoiced, Not Paid"},{index:3,label:"Paid"}]},a.updatePaymentTracker=function(e,t){E.a.post("/api/payment_trackers",{index:e.index,label:e.label,jobId:a.props.job._id,userId:t}).then(function(e){window.location.reload()}).catch(function(e){console.log(e)})},a.renderCancelProcedure=function(){switch(a.state.status){case"Pending":return l.a.createElement("div",{className:"job-billing-request-section"},l.a.createElement("h3",{className:"job-billing-request-requested"},"Cancellation Requested"),l.a.createElement("span",null,"We will do our best in cancelling this job for you."),l.a.createElement("ul",null,l.a.createElement("li",null,l.a.createElement("span",{className:"font-weight-bold"},"If this item is canceled:"),l.a.createElement("br",null),"You will receive a confirmation email."),l.a.createElement("li",null,l.a.createElement("span",{className:"font-weight-bold"},"If this item is not canceled:"),l.a.createElement("br",null),"You will receive an email informing you",l.a.createElement("br",null),"that your request for cancellation is unsuccessful.")));case"Confirmed":return l.a.createElement("div",{className:"job-billing-request-section"},l.a.createElement("h3",{className:"job-billing-request-success"},"Cancellation Successful"),l.a.createElement("p",null,"Your request for cancellation has been approved.",l.a.createElement("br",null),"Your job has been successfully canceled."));case"Denied":return l.a.createElement("div",{className:"job-billing-request-section"},l.a.createElement("h3",{className:"job-billing-request-failure"},"Cancellation Unsuccessful"),l.a.createElement("span",null,"Your request for cancellation was unsuccessful.",l.a.createElement("br",null),"We are not able to cancel your job.",l.a.createElement("br",null),"Contact us at service@simpfleet.com for any queries."));default:return l.a.createElement("div",{className:"job-billing-request-section"},l.a.createElement("h6",{className:"job-billing-request-cancel-text",onClick:function(){a.setState({showJobCancelModal:!0})}},"Request Cancellation"),l.a.createElement("p",null,"Please take note that if your cancellation is within 2 hours of the given loading time or vessel berthing time, we will charge the Full Rate Of The Delivery."))}},a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props.job,a=t.paymentTrackers;if("Admin"===this.props.auth.userType)this.setState({status:t.isCancelled,paymentTrackers:a});else{var n=a.filter(function(t){return t.user===e.props.auth._id}).sort(function(e,t){return t.index-e.index});this.setState({status:t.isCancelled,paymentTrackers:n})}}},{key:"render",value:function(){var e,t=this;"Admin"===this.props.auth.user.userType&&(e=this.state.paymentTrackers.reduce(function(e,t){return e.push(t.user),e},[]).filter(function(e,t,a){return a.indexOf(e)===t}).map(function(e,a){var n=t.state.paymentTrackers.filter(function(t){return t.user===e}).sort(function(e,t){return t.index-e.index});return l.a.createElement("div",{key:a,className:"d-flex align-items-center"},l.a.createElement("p",null,"Payment Status: ",n[0].label),3===n.length?"":l.a.createElement(qe.a,{onClick:function(a){var l=n.length;t.updatePaymentTracker(t.state.paymentTrackerList[l],e)}},"Advance Payment"))}));return l.a.createElement("div",null,l.a.createElement(z.a,{square:!0,className:"job-detail-paper",elevation:0},l.a.createElement(Re.a,null,l.a.createElement(Fe.a,null,l.a.createElement(Je.a,{xs:12,md:8},this.state.paymentTrackers[0]?l.a.createElement("div",null,"Admin"===this.props.auth.user.userType?l.a.createElement("div",null,e):l.a.createElement("p",null,"Payment Status: ",this.state.paymentTrackers[0].label)):"",this.renderCancelProcedure(),"Admin"===this.props.auth.userType&&"Pending"===this.state.status?l.a.createElement("div",null,l.a.createElement(qe.a,{variant:"danger",onClick:function(){var e=t.props.job;e.isCancelled="Denied",t.props.saveJobCancellation(e),t.setState({status:e.isCancelled})}},"Decline"),l.a.createElement(qe.a,{variant:"success",onClick:function(){var e=t.props.job;e.isCancelled="Confirmed",t.props.saveJobCancellation(e),t.setState({status:e.isCancelled})},style:{marginLeft:"15px"}},"Approve")):"")),l.a.createElement(rt,{modal:this.state.showJobCancelModal,toggle:function(e){return t.setState({showJobCancelModal:!t.state.showJobCancelModal})},title:"Cancellation",affirmativeAction:function(){var e=t.props.job;e.isCancelled="Confirmed",t.props.saveJobCancellation(e),t.setState({status:e.isCancelled,showJobCancelModal:!1})},affirmativeText:"Yes",cancelText:"No"},l.a.createElement("p",null,l.a.createElement("strong",null,"Are you sure you want to cancel job?")),l.a.createElement("p",null,"Please take note that if your cancellation is within 2 hours of the given loading time or vessel berthing time, we will charge the full rate of the delivery.")))))}}]),t}(n.Component)),Ea=Object(p.g)(Object(d.b)(function(e){return{auth:e.auth}})(va)),ja=a(1232),ya=a(1221),Ca=a(9),Sa=a(285),ka=a(371),Na=a.n(ka),Oa=a(1229),wa=Object(Ca.a)({root:{borderBottom:"1px solid #e8e8e8"},indicator:{backgroundColor:"#49AE86"}})(ja.a),xa=Object(Ca.a)(function(e){return{root:{textTransform:"none",minWidth:72,fontWeight:e.typography.fontWeightRegular,marginRight:e.spacing(0),padding:6,fontFamily:"Roboto","&:hover":{color:"#707070",opacity:1},"&$selected":{color:"#707070",fontWeight:e.typography.fontWeightMedium},"&:focus":{color:"#707070",outline:"none"}},selected:{}}})(function(e){return l.a.createElement(ya.a,Object.assign({disableRipple:!0},e))}),Da=function(e){function t(){var e,a;Object(r.a)(this,t);for(var n=arguments.length,s=new Array(n),o=0;o<n;o++)s[o]=arguments[o];return(a=Object(c.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(s)))).state={job:null,jobLink:"",activeScreen:"jobDetails",showSharingModal:!1,copied:!1,inputSelected:!1},a.setTabURL=function(e){var t=new URL(window.location.href);t.searchParams.set("tab",e),window.history.pushState("page2","Title",t.toString())},a.generateInvitationLink=function(){E.a.post("/api/job_links",{job:a.state.job}).then(function(e){a.setState({jobLink:e.data})}).catch(function(e){console.log(e)}),a.setState({showSharingModal:!0})},a.handleShareModalClose=function(){a.setState({showSharingModal:!1,inputSelected:!1})},a.handleCopy=function(){a.setState({copied:!0}),window.setTimeout(function(){a.setState({copied:!1})},5e3)},a.handleClose=function(){a.setState({copied:!1})},a.SlideTransition=function(e){return l.a.createElement(Ne.a,Object.assign({},e,{direction:"up"}))},a.saveJobCancellation=function(e){E.a.put("/api/jobs",{job:e,sendEmailUpdate:!1}).then(function(e){a.setState({job:e.data})}).catch(function(e){console.log(e)})},a.handleChangeTab=function(e,t){a.setTabURL(t),a.setState({activeScreen:t})},a.handleSelect=function(e){a.setState({inputSelected:!0})},a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=this;E.a.get("/api/jobs/index?index=".concat(ke.a.parse(this.props.location.search).job)).then(function(t){var a=t.data;e.setState({job:a}),E.a.get("/api/job_links?jobIndex=".concat(a.index)).then(function(t){e.setState({jobLink:t.data})}).catch(function(e){console.log(e)});var n=new URL(window.location.href).searchParams.get("tab");null!==n&&""!==n?(e.setTabURL(n),e.setState({activeScreen:n})):e.setState({activeScreen:"jobDetails"})}).catch(function(e){console.log(e)})}},{key:"handleDrawerClick",value:function(e){this.setTabURL(e),this.setState({activeScreen:e})}},{key:"render",value:function(){var e=this,t=function(){switch(e.state.activeScreen){case"jobDetails":return l.a.createElement(pt,{job:e.state.job});case"document":return l.a.createElement(ia,{job:e.state.job});case"status":return l.a.createElement(pa,{job:e.state.job});case"dropoff":return l.a.createElement(ga,{job:e.state.job});case"billing":return l.a.createElement(Ea,{job:e.state.job,saveJobCancellation:e.saveJobCancellation});default:return l.a.createElement(pt,{job:e.state.job})}};switch(this.props.auth){case null:return l.a.createElement("div",null);case!1:return l.a.createElement(p.a,{to:"/"});default:switch(this.state.job){case null:return l.a.createElement("div",null);default:return l.a.createElement("div",null,l.a.createElement(J.a,{minWidth:769},l.a.createElement(Re.a,{fluid:!0,style:{marginTop:20,marginBottom:30}},l.a.createElement(Fe.a,null,l.a.createElement(Je.a,{xs:12,md:{span:10,offset:1}},l.a.createElement(z.a,{elevation:0,className:"job-detail-breadcrumbs",square:!0},l.a.createElement(Oe.a,{separator:l.a.createElement(Ie.a,{fontSize:"small"}),"aria-label":"Breadcrumb"},l.a.createElement(we.a,{href:"#",onClick:function(t){e.props.history.push("/")},className:"job-detail-breadcrumbs-link"},"Dashboard"),l.a.createElement("h4",null,this.state.job.vessel.vesselName.toUpperCase(),", ",this.state.job.vessel.vesselIMOID))),l.a.createElement(z.a,{square:!0},l.a.createElement(z.a,{className:"job-details-ship-title",square:!0},l.a.createElement("div",{className:"d-flex align-items-center"},l.a.createElement("h1",{className:"job-detail-fonts",style:{marginBottom:"0px"}},this.state.job.vessel.vesselName.toUpperCase()," ",this.state.job.vessel.vesselIMOID),l.a.createElement(qe.a,{variant:"outlined",onClick:this.generateInvitationLink,className:"job-details-share-button ml-auto",href:"#"},l.a.createElement(Te.a,{className:"job-detail-share-icon"}),"Share"))),l.a.createElement(z.a,{square:!0,className:"job-detail-side-bar"},l.a.createElement(Re.a,{fluid:!0},l.a.createElement(Fe.a,{className:"align-items-stretch"},l.a.createElement(Je.a,{xs:3,className:"col-no-padding job-details-menu"},l.a.createElement(z.a,{square:!0,className:"job-details-menu-paper",elevation:0},l.a.createElement(xe.a,{disablePadding:!0},l.a.createElement(De.a,{button:!0,key:"jobDetails",onClick:function(){e.handleDrawerClick("jobDetails")},className:"jobDetails"===this.state.activeScreen?"job-details-nav-active":"job-details-nav"},l.a.createElement(Le.a,null,"Job Details")),l.a.createElement(De.a,{button:!0,key:"status",onClick:function(){e.handleDrawerClick("status")},className:"status"===this.state.activeScreen?"job-details-nav-active":"job-details-nav"},l.a.createElement(Le.a,null,"Status")),l.a.createElement(De.a,{button:!0,key:"document",onClick:function(){e.handleDrawerClick("document")},className:"document"===this.state.activeScreen?"job-details-nav-active":"job-details-nav"},l.a.createElement(Le.a,null,"Document")),l.a.createElement(De.a,{button:!0,key:"dropoff",onClick:function(){e.handleDrawerClick("dropoff")},className:"dropoff"===this.state.activeScreen?"job-details-nav-active":"job-details-nav"},l.a.createElement(Le.a,null,"Drop Off")),l.a.createElement(De.a,{button:!0,key:"billing",onClick:function(){e.handleDrawerClick("billing")},className:"billing"===this.state.activeScreen?"job-details-nav-active":"job-details-nav"},l.a.createElement(Le.a,null,"Billing"))))),l.a.createElement(Je.a,{xs:9,className:"col-no-padding job-detail-content-border-rad",as:z.a},t()))))),l.a.createElement("div",null,l.a.createElement(ca.a,{show:this.state.showSharingModal,Close:this.handleShareModalClose,joblinkurl:this.state.jobLink.url,job:this.state.job,copied:this.handleCopy}),l.a.createElement(Me.a,{anchorOrigin:{horizontal:"left",vertical:"bottom"},open:this.state.copied,message:l.a.createElement("span",{id:"message-id"},"Link Has Been Copied"),action:l.a.createElement(ve.a,{key:"close",color:"inherit",onClick:this.handleClose},l.a.createElement(ge.a,null)),TransitionComponent:this.SlideTransition})))))),l.a.createElement(J.a,{maxWidth:768},l.a.createElement(Re.a,{fluid:!0,style:{padding:"5% 8%",backgroundColor:"#F7F8F7"}},l.a.createElement(Fe.a,null,l.a.createElement(z.a,{elevation:0,square:!0,className:"d-flex align-items-center w-100",style:{backgroundColor:"#F7F8F7"}},l.a.createElement(Oe.a,{separator:l.a.createElement(Ie.a,{fontSize:"small"}),"aria-label":"Breadcrumb"},l.a.createElement(we.a,{href:"#",onClick:function(t){e.props.history.push("/")},className:"job-detail-breadcrumbs-link"},"Dashboard"),l.a.createElement("h4",{className:"job-details-ship-title-font"},this.state.job.vessel.vesselName.toUpperCase(),", ",this.state.job.vessel.vesselIMOID)),l.a.createElement("div",{className:"ml-auto"},l.a.createElement(Oa.a,{enabled:this.props.isPopoverOpen,onClickOutside:this.props.handlePopoverClose,onEscapeKey:this.props.handlePopoverClose},l.a.createElement(Na.a,{isOpen:this.props.isPopoverOpen,position:"bottom",padding:10,containerStyle:{marginTop:"-10px"},windowBorderPadding:15,onClickOutside:this.props.handlePopoverClose,content:function(t){var a=t.position,n=t.targetRect,s=t.popoverRect;return l.a.createElement(ka.ArrowContainer,{position:a,targetRect:n,popoverRect:s,arrowColor:"#666666",arrowSize:10,arrowStyle:{opacity:1}},l.a.createElement("div",{style:{backgroundColor:"#666666",opacity:1,width:"80vw",padding:16,borderRadius:"5px"},onClick:e.props.handlePopoverClose},l.a.createElement("span",{style:{fontFamily:"Roboto",fontSize:"14px",color:"white"}},"Click on this button to share the job with anyone who is sending items to the same vessel!")))}},l.a.createElement(ve.a,{onClick:this.generateInvitationLink},l.a.createElement(Te.a,{className:"job-detail-share-icon-button"}))))))),l.a.createElement(Fe.a,null,l.a.createElement(wa,{value:this.state.activeScreen,onChange:this.handleChangeTab,variant:"fullWidth",centered:!0,className:"w-100"},l.a.createElement(xa,{label:"Job Details",value:"jobDetails"}),l.a.createElement(xa,{label:"Status",value:"status"}),l.a.createElement(xa,{label:"Documents",value:"document"}),l.a.createElement(xa,{label:"Drop-off",value:"dropoff"}),l.a.createElement(xa,{label:"Billing",value:"billing"}))),l.a.createElement(Fe.a,null,l.a.createElement(z.a,{square:!0,elevation:5,className:"w-100"},t())),l.a.createElement("div",null,l.a.createElement(Sa.a,{open:this.state.showSharingModal,onClose:this.handleShareModalClose,joblinkurl:this.state.jobLink.url,job:this.state.job,inputSelected:this.state.inputSelected,handleSelect:this.handleSelect})))))}}}}]),t}(n.Component),La=Object(p.g)(Object(d.b)(function(e){return{auth:e.auth}})(Da));function Ma(e){return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"modal-dialog",role:"document"},l.a.createElement("div",{className:"modal-content"},l.a.createElement("div",{className:"modal-header"},l.a.createElement("h5",{className:"modal-title",id:"exampleModalLabel"},"User Approval"),l.a.createElement("button",{type:"button",className:"close","data-dismiss":"modal","aria-label":"Close"},l.a.createElement("span",{"aria-hidden":"true"},"\xd7"))),l.a.createElement("div",{className:"modal-body"},"Are you sure to ",e.status," ",e.user," to login?"),l.a.createElement("div",{className:"modal-footer"},l.a.createElement("button",{type:"button",className:"btn btn-secondary","data-dismiss":"modal"},"Cancel"),l.a.createElement("button",{type:"button",className:"btn btn-".concat("disable"===e.status?"danger":"primary"),onClick:function(){return e.onUpdateIsApprove(e.users)},"data-dismiss":"modal"},e.status)))))}var Aa=function(e){function t(){var e,a;Object(r.a)(this,t);for(var n=arguments.length,l=new Array(n),s=0;s<n;s++)l[s]=arguments[s];return(a=Object(c.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(l)))).state={users:null},a.onUpdateIsApprove=function(e){console.log(e),E.a.put("/api/users",e).then(E.a.get("/api/users").then(function(e){var t=e.data;a.setState({users:t})}).catch(function(e){console.log(e)}))},a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=this;E.a.get("/api/users").then(function(t){var a=t.data;e.setState({users:a})}).catch(function(e){console.log(e)})}},{key:"render",value:function(){var e=this;switch(this.state.users){case null:return l.a.createElement("div",null);default:var t=Object.keys(this.state.users).map(function(t,a){var n=e.state.users[t],s=n.userCompany,o="";return o=null===s||void 0===s?"":s.name,l.a.createElement(l.a.Fragment,{key:a},l.a.createElement("tr",null,l.a.createElement("td",null,""===n.firstName?"-":n.firstName),l.a.createElement("td",null,""===n.lastName?"-":n.lastName),l.a.createElement("td",null,""===n.email?"-":n.email),l.a.createElement("td",null,""===o?"-":o),l.a.createElement("td",null,""===n.contactNumber?"-":n.contactNumber),l.a.createElement("td",null,!0===n.isApproved?"approved":"not yet approved"),l.a.createElement("td",null,l.a.createElement("button",{className:"btn btn-".concat(n.isApproved?"danger":"primary"),"data-toggle":"modal","data-target":"#approvemodal".concat(n._id)},n.isApproved?"disable":"enable"))),l.a.createElement("div",{className:"modal fade",id:"approvemodal".concat(n._id),tabIndex:"-1",role:"dialog","aria-labelledby":"exampleModalLabel","aria-hidden":"true"},l.a.createElement(Ma,{user:""===n.firstName?"this account":n.firstName,status:n.isApproved?"disable":"enable",onUpdateIsApprove:e.onUpdateIsApprove,users:n})))});return l.a.createElement(Q.h,{fluid:!0},l.a.createElement("br",null),l.a.createElement(Q.v,null,l.a.createElement(Q.f,{cs:"12",md:{size:12,offset:0},className:"text-center"},l.a.createElement("h1",null,"User Approval")),l.a.createElement(Q.f,{cs:"12",md:{size:12,offset:0}},l.a.createElement(Q.w,{hover:!0,bordered:!0,responsive:!0,striped:!0},l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",null,"First name"),l.a.createElement("th",null,"Last name"),l.a.createElement("th",null,"Email"),l.a.createElement("th",null,"Company"),l.a.createElement("th",null,"Contact"),l.a.createElement("th",null,"Status"),l.a.createElement("th",null,"Action"))),l.a.createElement("tbody",null,t)))))}}}]),t}(n.Component),Ia=function(e){function t(){var e,a;Object(r.a)(this,t);for(var n=arguments.length,l=new Array(n),s=0;s<n;s++)l[s]=arguments[s];return(a=Object(c.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(l)))).state={component:null},a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.props.load().then(function(t){e.setState(function(){return{component:t.default?t.default:t}})})}},{key:"render",value:function(){return this.props.children(this.state.component)}}]),t}(n.Component),Pa=function(e){return l.a.createElement(Ia,{load:function(){return Promise.all([a.e(5),a.e(6)]).then(a.bind(null,1418))}},function(t){return null===t?l.a.createElement("p",null,"Loading"):l.a.createElement(t,e)})},Ta=function(e){return l.a.createElement(Ia,{load:function(){return Promise.all([a.e(7),a.e(4)]).then(a.bind(null,1415))}},function(t){return null===t?l.a.createElement("p",null,"Loading"):l.a.createElement(t,e)})},Ra=function(e){return l.a.createElement(Ia,{load:function(){return Promise.all([a.e(3),a.e(8)]).then(a.bind(null,1416))}},function(t){return null===t?l.a.createElement("p",null,"Loading"):l.a.createElement(t,e)})},Fa=function(e){function t(){var e,a;Object(r.a)(this,t);for(var n=arguments.length,l=new Array(n),s=0;s<n;s++)l[s]=arguments[s];return(a=Object(c.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(l)))).state={openMenu:!1,isPopoverOpen:!1},a.handleMenuStateChange=function(e){a.setState({openMenu:e.isOpen})},a.handlePopoverOpen=function(){a.setState({isPopoverOpen:!0})},a.handleOpenMenu=function(){a.setState({openMenu:!0})},a.handleCloseMenu=function(){a.setState({openMenu:!1})},a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this,t=this.props.auth,a=t.isAuthenticated,n=t.user;return l.a.createElement("div",{className:"App"},l.a.createElement(h.a,null,a?l.a.createElement(Ce,{open:this.state.openMenu,handleCloseMenu:this.handleCloseMenu,handleMenuStateChange:this.handleMenuStateChange,handlePopoverOpen:this.handlePopoverOpen}):"",l.a.createElement(p.d,null,a?l.a.createElement(p.b,{exact:!0,path:"/",render:function(t){return l.a.createElement(Pa,Object.assign({},t,{handleOpenMenu:e.handleOpenMenu}))}}):l.a.createElement(p.b,{exact:!0,path:"/",component:O}),l.a.createElement(p.b,{path:"/",render:function(t){return l.a.createElement(Pa,Object.assign({},t,{handleOpenMenu:e.handleOpenMenu}))}})),l.a.createElement(p.b,{exact:!0,path:"/",component:Ta}),l.a.createElement("div",{className:""},l.a.createElement(p.b,{exact:!0,path:"/login",component:ee}),l.a.createElement(p.b,{exact:!0,path:"/dashboard",component:oe}),l.a.createElement(p.b,{exact:!0,path:"/history",component:me}),l.a.createElement(p.b,{exact:!0,path:"/job_details",render:function(t){return l.a.createElement(La,Object.assign({},t,{handlePopoverClose:e.handlePopoverClose,isPopoverOpen:e.state.isPopoverOpen}))}}),"Admin"===n.userType?l.a.createElement(l.a.Fragment,null,l.a.createElement(p.b,{path:"/user_approval",component:Aa}),l.a.createElement(p.b,{exact:!0,path:"/job_assignment",component:ue}),l.a.createElement(p.b,{path:"/analytics",component:Ra})):null),l.a.createElement(q,null)))}}]),t}(n.Component),Ja=Object(d.b)(function(e){return{auth:e.auth}},function(){return function(){var e=Object(g.a)(f.a.mark(function e(t){var a;return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E.a.get("/api/users/fetch");case 2:return a=e.sent,e.next=5,t({type:j.a,payload:a.data});case 5:a==={}&&(window.location.href="/");case 6:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()})(Fa);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var qa=a(79),_a=a(587),Ua=a(588),Va=a.n(Ua);function Ba(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}function Wa(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Ba(a,!0).forEach(function(t){Object(_.a)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Ba(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}var za={isAuthenticated:!1,user:{}},Ya={},Ha=Object(qa.c)({auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:za,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case j.a:return Wa({},e,{isAuthenticated:!Va()(t.payload),user:t.payload});default:return e}},errors:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ya,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case j.b:return t.payload;default:return e}}}),Ka=[_a.a],Ga=Object(qa.e)(Ha,{},Object(qa.d)(qa.a.apply(void 0,Ka),window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__()));o.a.render(l.a.createElement(d.a,{store:Ga},l.a.createElement(Ja,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},134:function(e,t,a){"use strict";a.d(t,"b",function(){return n}),a.d(t,"a",function(){return l});var n="GET_ERRORS",l="FETCH_USER"},235:function(e,t,a){"use strict";var n=a(14),l=a(11),s=a(15),o=a(16),r=a(17),i=(a(597),a(0)),c=a.n(i),m=a(35),u=a(120),d=a(27),h=a(161),p=a(25),b=a.n(p),f=a(288),g=function(e){function t(){var e,a;Object(n.a)(this,t);for(var l=arguments.length,r=new Array(l),i=0;i<l;i++)r[i]=arguments[i];return(a=Object(s.a)(this,(e=Object(o.a)(t)).call.apply(e,[this].concat(r)))).state={sidebarOpen:!0,showModal:!1,showHistory:!1},a.handleOpenModal=function(){a.setState({showModal:!0})},a.handleCloseModal=function(){a.setState({showModal:!1})},a}return Object(r.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this;b.a.get("/api/jobs?archive_only=true&user_only=true").then(function(t){e.setState({showHistory:t.data.length>=1})}).catch(function(e){console.log(e)})}},{key:"render",value:function(){return c.a.createElement("div",{id:"sidebar-body"},c.a.createElement(h.a,{container:!0,spacing:3},c.a.createElement(h.a,{item:!0,xs:12},c.a.createElement(m.b,{to:"/",className:"sidebar-link"},"Upcoming Jobs")),c.a.createElement(h.a,{item:!0,xs:12},c.a.createElement(m.b,{to:"/dashboard",className:"sidebar-link"},"Dashboard")),this.state.showHistory?c.a.createElement(h.a,{item:!0,xs:12},c.a.createElement(m.b,{to:"/history",className:"sidebar-link"},"History")):"","Admin"===this.props.auth.user.userType?c.a.createElement(h.a,{item:!0,xs:12},c.a.createElement(m.b,{to:"/job_assignment",className:"sidebar-link"},"Job Assignment")):"","Admin"===this.props.auth.user.userType?c.a.createElement(h.a,{item:!0,xs:12},c.a.createElement(m.b,{to:"/analytics",className:"sidebar-link"},"Analytics")):"","Admin"===this.props.auth.user.userType?c.a.createElement(h.a,{item:!0,xs:12},c.a.createElement(m.b,{to:"/user_approval",className:"sidebar-link"},"User Approval")):""),c.a.createElement(f.a,{isOpen:this.state.showModal,handleCloseModal:this.handleCloseModal,fullScreen:!1}))}}]),t}(i.Component);t.a=Object(u.g)(Object(d.b)(function(e){return{auth:e.auth}})(g))},282:function(e,t,a){"use strict";var n=a(14),l=a(11),s=a(15),o=a(16),r=a(17),i=a(4),c=a(0),m=a.n(c),u=a(25),d=a.n(u),h=a(274),p=a(1178),b=a(1180),f=a(1179),g=a(1181),v=a(218),E=a(65),j=a.n(E),y=a(56),C=a.n(y),S=a(48),k=a.n(S),N=a(85),O=a.n(N),w=a(283),x=a(284),D=a.n(x),L=a(157),M=a.n(L),A=(a(764),a(765),a(1185)),I=a(593);function P(e){var t=e.tag,a=e.key,n=e.disabled,l=e.onRemove,s=e.classNameRemove,o=e.getTagDisplayValue,r=Object(i.a)(e,["tag","key","disabled","onRemove","classNameRemove","getTagDisplayValue"]);return m.a.createElement("div",Object.assign({key:a},r),m.a.createElement("div",{style:{maxWidth:400,wordBreak:"break-all"}},m.a.createElement(M.a,{text:o(t),maxLine:"1",ellipsis:"...",trimRight:!0,basedOn:"letters"})),!n&&m.a.createElement("a",{className:s,onClick:function(e){return l(a)}}))}var T=function(e){function t(){var e,a;Object(n.a)(this,t);for(var l=arguments.length,r=new Array(l),i=0;i<l;i++)r[i]=arguments[i];return(a=Object(s.a)(this,(e=Object(o.a)(t)).call.apply(e,[this].concat(r)))).state={copied:!1,emailList:[],message:"",emailInputs:"",mobileWebShare:!1,showSuccessSnackBar:!1},a.handleMessageChange=function(e){a.setState({message:e.target.value})},a.updateEmailList=function(e){a.setState({emailList:e})},a.handleEmailInputChange=function(e){a.setState({emailInputs:e})},a.handleInputClear=function(){a.setState({emailInputs:""})},a.webShareJobLink=function(){a.state.mobileWebShare&&navigator.share({title:"Job Invitation - ".concat(a.props.job.jobId),text:"Click this link to join my delivery job to ".concat(a.props.job.vessel.vesselName),url:a.props.joblinkurl}).then(function(){return console.log("Successful share")}).catch(function(e){return console.log("Error sharing",e)})},a.sendEmail=function(){var e=a.state.emailList;a.state.emailInputs.includes("@")&&e.push(a.state.emailInputs);for(var t=0;t<e.length;t++){var n=e[t];""!==n.trim()&&d.a.post("/api/job_links/share",{email:n,job:a.props.job,message:a.state.message}).then(function(e){a.setState({showSuccessSnackBar:!0,emailList:[],emailInputs:"",message:""}),window.setTimeout(function(){return a.setState({showSuccessSnackBar:!1})},5e3)}).catch(function(e){console.log(e)})}},a.SlideTransition=function(e){return m.a.createElement(I.a,Object.assign({},e,{direction:"up"}))},a.handleSnackBarClose=function(){a.setState({showSuccessSnackBar:!1})},a.validate=function(e){return e.includes("@")},a}return Object(r.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this.setState({mobileWebShare:void 0!==navigator.share&&navigator.share})}},{key:"render",value:function(){var e=this;return m.a.createElement("div",null,m.a.createElement(p.a,{open:this.props.show,onClose:this.props.Close,maxWidth:"sm",fullWidth:!0},m.a.createElement(g.a,{id:"alert-dialog-title",className:"job-share-modal-top"},m.a.createElement("div",{className:"d-flex align-items-center"},m.a.createElement("p",{className:"job-share-modal-title"},this.props.job.vessel.vesselName.toUpperCase(),", ",this.props.job.vessel.vesselIMOID),m.a.createElement(v.a,{"aria-label":"Close",className:"job-share-modal-close ml-auto",onClick:this.props.Close},m.a.createElement(j.a,null)))),m.a.createElement(f.a,{className:"job-share-modal-content"},m.a.createElement("div",{className:"job-share-modal-copy"},m.a.createElement("h6",{className:"job-share-modal-copy-title"},"Do you know anyone sending items to ",this.props.job.vessel.vesselName.toUpperCase(),", ",this.props.job.vessel.vesselIMOID,"?"),m.a.createElement(C.a,{className:"job-share-modal-url"},m.a.createElement(O.a,{value:this.props.joblinkurl,disabled:!0,className:"job-share-modal-url-link"}),m.a.createElement(C.a.Append,null,m.a.createElement(w.CopyToClipboard,{text:this.props.joblinkurl,onCopy:this.props.copied},this.state.mobileWebShare?m.a.createElement(k.a,{variant:"outline-secondary",className:"job-share-modal-url-link",onClick:this.webShareJobLink},"Share"):m.a.createElement(k.a,{variant:"outline-secondary",className:"job-share-modal-url-link"},"Copy Link")))),m.a.createElement("p",{style:{fontFamily:"Roboto",fontSize:"10px",color:"#707070",marginTop:5}},m.a.createElement("i",null,"Please ensure that the other party using the link has an account and is logged in before entering the above link."))),m.a.createElement("div",{className:"job-share-modal-email"},m.a.createElement("h6",{className:"job-share-modal-copy-title"},"People"),m.a.createElement(C.a,null,m.a.createElement("div",{style:{width:"100%"}},m.a.createElement(D.a,{value:this.state.emailList,onChange:this.updateEmailList,className:"form-control job-share-email-inputbox",onChangeInput:this.handleEmailInputChange,inputValue:this.state.emailInputs,inputProps:{className:"react-tagsinput-input job-share-email-input",placeholder:"Please Enter Email Address"},tagProps:{className:"react-tagsinput-tag job-share-email-tag",classNameRemove:"react-tagsinput-remove"},validate:this.validate,addKeys:[9,13,186],renderTag:P}),m.a.createElement("p",{style:{fontFamily:"Roboto",fontSize:"10px",color:"#707070",marginBottom:"8px"}},"for multiple recipients, please use semicolon to separate"))),m.a.createElement(O.a,{placeholder:"Add a note (Optional)",value:this.state.message,as:"textarea",rows:"4",onChange:this.handleMessageChange,className:"job-share-modal-message"}))),m.a.createElement(b.a,{className:"d-flex justify-content-center job-share-modal-bottom"},m.a.createElement(h.a,{onClick:function(t){0===e.state.emailList.length&&""===e.state.emailInputs?alert("Email Cannot be Empty!"):(e.props.Close(),e.sendEmail())},variant:"contained",size:"large",className:"job-share-modal-button"},"Send"))),m.a.createElement(A.a,{anchorOrigin:{horizontal:"left",vertical:"bottom"},open:this.state.showSuccessSnackBar,message:m.a.createElement("span",{id:"message-id"},"Message has been sent!"),action:m.a.createElement(v.a,{key:"close",color:"inherit",onClick:this.handleSnackBarClose},m.a.createElement(j.a,null)),TransitionComponent:this.SlideTransition}))}}]),t}(c.Component);t.a=T},285:function(e,t,a){"use strict";var n=a(14),l=a(11),s=a(15),o=a(16),r=a(17),i=a(0),c=a.n(i),m=a(25),u=a.n(m),d=a(56),h=a.n(d),p=a(48),b=a.n(p),f=a(85),g=a.n(f),v=a(283),E=a(1182),j=(a(766),a(1183)),y=a(188),C=a(274),S=a(3),k=a(284),N=a.n(k),O=function(e){function t(){var e,a;Object(n.a)(this,t);for(var l=arguments.length,r=new Array(l),i=0;i<l;i++)r[i]=arguments[i];return(a=Object(s.a)(this,(e=Object(o.a)(t)).call.apply(e,[this].concat(r)))).state={copied:!1,emailList:[],message:"",emailInputs:"",mobileWebShare:!1,showSuccessSnackBar:!1},a.handleMessageChange=function(e){a.setState({message:e.target.value})},a.updateEmailList=function(e){a.setState({emailList:e})},a.handleEmailInputChange=function(e){a.setState({emailInputs:e})},a.handleInputClear=function(){a.setState({emailInputs:""})},a.webShareJobLink=function(){a.state.mobileWebShare&&navigator.share({title:"Job Invitation - ".concat(a.props.job.jobId),text:"Click this link to join my delivery job to ".concat(a.props.job.vessel.vesselName),url:a.props.joblinkurl}).then(function(){return console.log("Successful share")}).catch(function(e){return console.log("Error sharing",e)})},a.sendEmail=function(){for(var e=a.state.emailInputs.split(";"),t=0;t<e.length;t++){var n=e[t];""!==n.trim()&&u.a.post("/api/job_links/share",{email:n,job:a.props.job}).catch(function(e){console.log(e)})}},a}return Object(r.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this.setState({mobileWebShare:void 0!==navigator.share&&navigator.share})}},{key:"render",value:function(){var e,t=this;return e=this.props.inputSelected?c.a.createElement("div",{className:"job-share-modal-copy"},c.a.createElement("h6",{className:"job-share-modal-copy-title"},"Message"),c.a.createElement(g.a,{placeholder:"Add a note (Optional)",value:this.state.message,as:"textarea",rows:"6",onChange:this.handleMessageChange,className:"job-share-modal-message"}),c.a.createElement(C.a,{onClick:function(e){t.props.onClose(),t.sendEmail()},variant:"contained",size:"large",className:"job-share-modal-button",fullWidth:!0},"Send")):c.a.createElement("div",{className:"job-share-modal-copy"},c.a.createElement("h6",{className:"job-share-modal-copy-title"},"Do you know anyone sending items to"," ",this.props.job.vessel.vesselName.toUpperCase(),","," ",this.props.job.vessel.vesselIMOID,"?"),c.a.createElement(h.a,{className:"job-share-modal-url"},c.a.createElement(g.a,{onChange:function(){},value:this.props.joblinkurl,disabled:!0,className:"job-share-modal-url-link"}),c.a.createElement(h.a.Append,null,c.a.createElement(v.CopyToClipboard,{text:this.props.joblinkurl,onCopy:this.props.copied},this.state.mobileWebShare?c.a.createElement(b.a,{variant:"outline-secondary",className:"job-share-modal-url-link",onClick:this.webShareJobLink},"Share"):c.a.createElement(b.a,{variant:"outline-secondary",className:"job-share-modal-url-link"},"Copy Link"))))),c.a.createElement(E.a,{anchor:"bottom",open:this.props.open,onClose:this.props.onClose,PaperProps:{className:Object(S.a)("MuiPaper-root MuiPaper-elevation16 MuiDrawer-paper MuiDrawer-paperAnchorBottom drawer-job-share",this.props.inputSelected&&"full-height-drawer")}},c.a.createElement("h3",{onClick:this.props.onClose,className:"job-slide-cancel"},"Cancel"),c.a.createElement(j.a,{className:"job-share-drawer-divider"}),c.a.createElement(y.a,{elevation:0,className:"job-share-drawer-paper"},c.a.createElement("div",{className:"job-share-modal-email"},c.a.createElement("h6",{className:"job-share-modal-copy-title"},"Send to"),c.a.createElement(h.a,null,c.a.createElement("div",{style:{width:"100%"},onClick:this.props.handleSelect},c.a.createElement(N.a,{value:this.state.emailList,onChange:this.updateEmailList,className:"form-control job-share-email-inputbox",onChangeInput:this.handleEmailInputChange,inputValue:this.state.emailInputs,inputProps:{className:"react-tagsinput-input job-share-email-input",placeholder:"Please Enter Email Address"},tagProps:{className:"react-tagsinput-tag job-share-email-tag",classNameRemove:"react-tagsinput-remove"},validate:this.validate,addKeys:[9,13,186]}),c.a.createElement("p",{style:{fontFamily:"Roboto",fontSize:"10px",color:"#707070",marginBottom:"8px"}},"for multiple recipients, please use semicolon to separate")))),e))}}]),t}(i.Component);t.a=O},288:function(e,t,a){"use strict";var n=a(14),l=a(11),s=a(15),o=a(16),r=a(17),i=(a(598),a(0)),c=a.n(i),m=a(1178),u=a(1179),d=a(1181),h=a(218),p=a(65),b=a.n(p),f=a(139),g=a.n(f),v=a(217),E=(a(428),a(429),a(767),a(768),a(769),a(120)),j=a(27),y=a(1222),C=a(1223),S=a(1224),k=a(1225),N=(a(770),a(7)),O=a(37),w=a.n(O),x=a(1183),D=a(1216),L=a(405),M=a(564),A=a(189),I=a(18),P=a.n(I),T=a(293),R=a(403),F=a(1236),J=a(1175),q=a(1233),_=function(e){function t(){var e,a;Object(n.a)(this,t);for(var l=arguments.length,r=new Array(l),i=0;i<l;i++)r[i]=arguments[i];return(a=Object(s.a)(this,(e=Object(o.a)(t)).call.apply(e,[this].concat(r)))).state={jobId:"",vesselIMOID:"",vesselName:"",vesselCallsign:"",vesselLoadingLocation:"PSA",vesselArrivalDateTime:(new Date).toISOString(),uploadedFile:null,jobItems:[],jobOfflandItems:[],careOffParties:[],remarks:"",psaBerthingDateTime:"",psaUnberthingDateTime:"",vesselLoadingDateTime:(new Date).toISOString(),createDSA:!1,activeStep:0,steps:[{title:"Vessel Information"},{title:"Vessel Location"},{title:"Item Details"},{title:"Confirmation"}],ItemsDeliverAnchorEl:null,ItemsOfflandAnchorEl:null,job:null,vessels:[],vesselLighterName:"",vesselLighterLocation:"Marina South Wharves",vesselLighterRemarks:"",otherVesselLocation:"",submitButtonActive:!0,isLoading:!1,vesselQueryResults:[],vesselSelected:""},a.handleJobIdChange=function(e){a.setState({jobId:e.target.value})},a.handleVesselLoadingLocationChange=function(e){a.setState({vesselLoadingLocation:e.target.value})},a.handleRemarksChange=function(e){a.setState({remarks:e.target.value})},a.handleVesselLighterRemarksChange=function(e){a.setState({vesselLighterRemarks:e.target.value})},a.validateItems=function(e){for(var t=[],a=0;a<e.length;a++){var n=e[a];""!==n.quantity&&""!==n.uom&&(delete n.id,t.push(n))}return t},a.validateCareOffs=function(){for(var e=a.state.careOffParties,t=[],n=0;n<e.length;n++){var l=e[n];""!==l.companyName&&""!==l.personName&&""!==l.contactNumber&&""!==l.email&&(delete l.id,t.push(l))}return t},a.onSubmit=function(){var e=Object(v.a)(g.a.mark(function e(t){return g.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),a.validateItems(a.state.jobItems),a.validateItems(a.state.jobOfflandItems),a.validateCareOffs(),a.setState({activeStep:2});case 5:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),a.handleVesselArrivalTimeChange=function(e){a.setState({vesselArrivalDateTime:e.toDate().toISOString()})},a.handleVesselArrivalDateChange=function(e){a.setState({vesselArrivalDateTime:e.toISOString()})},a.handleVesselLoadingTimeChange=function(e){a.setState({vesselLoadingDateTime:e.toDate().toISOString()})},a.handleVesselLoadingDateChange=function(e){a.setState({vesselLoadingDateTime:e.toISOString()})},a.handleVesselLighterNameChange=function(e){a.setState({vesselLighterName:e.target.value})},a.handleVesselLighterLocationChange=function(e){a.setState({vesselLighterLocation:e.target.value})},a.handleOtherVesselLocationChange=function(e){a.setState({otherVesselLocation:e.target.value})},a.handleDeliverClose=function(){a.setState({ItemsDeliverAnchorEl:null})},a.handleOfflandClose=function(){a.setState({ItemsOfflandAnchorEl:null})},a.handleCreateDSAChange=function(e){a.setState({createDSA:e.target.checked})},a.handleNextStep=Object(v.a)(g.a.mark(function e(){return g.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:a.validateItems(a.state.jobItems),a.validateItems(a.state.jobOfflandItems),a.validateCareOffs(),new Date,a.setState({isLoading:!0}),a.state.vesselName,a.setState({activeStep:1});case 8:case"end":return e.stop()}},e)})),a.handlePaymentBack=function(){a.setState({activeStep:0})},a.renderText=function(){return c.a.createElement("div",{className:"d-flex flex-column"},c.a.createElement("span",{className:"job-create-section-input-label",style:{marginBottom:"0px"}},c.a.createElement("strong",null,"I would like SimpFleet to produce DSA(JP LTs) or Entry/Export Permit(PSA) for me")),c.a.createElement("span",{className:"job-create-section-label-helper-text"},c.a.createElement("i",null,"It would cost extra fees if Simpfleet produces the DSA(JP LTs) or Entry/Export Permit(PSA)")))},a.renderJobTimeInfo=function(){var e=P()(a.state.vesselLoadingDateTime);P()(a.state.vesselArrivalDateTime);switch(a.state.vesselLoadingLocation){case"PSA":return c.a.createElement("div",null);default:return c.a.createElement("div",null,c.a.createElement(y.a,{className:"job-create-section"},c.a.createElement(C.a,{xs:12,sm:9},c.a.createElement("div",{className:"d-flex align-items-center job-create-section-heading"},c.a.createElement("div",{className:"job-create-green-circle"},c.a.createElement("strong",null,"2")),c.a.createElement("h1",{className:"job-create-section-header"},"Time")),c.a.createElement(N.j,null,c.a.createElement(N.m,{className:"job-create-section-label"},"Jurong Port"===a.state.vesselLoadingLocation?"Lighter Loading Date & Time":"Vessel Loading Date & Time"),c.a.createElement(S.a,{fluid:!0,style:{paddingRight:"0px",paddingLeft:"0px"}},c.a.createElement(y.a,null,c.a.createElement(C.a,{xs:7}),c.a.createElement(C.a,{xs:5},c.a.createElement(A.a,{showSecond:!1,defaultValue:e,value:e,onChange:a.handleVesselLoadingTimeChange,allowEmpty:!1,className:"job-create-section-input"}))))))),c.a.createElement(x.a,{className:"job-create-section-divider"}))}},a._renderMenuItemChildren=function(e,t,a){return[c.a.createElement(T.Highlighter,{key:"vesselIMOID",search:t.text},e.vesselIMOID),c.a.createElement("div",{key:"vesselName"},c.a.createElement("small",null,"Vessel Name: ",e.vesselName))]},a.renderMenu=function(e,t){return e.sort(function(e,t){return e.priority-t.priority}),c.a.createElement(T.TypeaheadMenu,Object.assign({},t,{options:e}))},a.handleTypeAheadVesselNameChange=function(e){a.setState({vesselName:e.trim()})},a.handleKeyDown=function(e){if(13===e.keyCode)e.target.value},a.handleTypeAheadVesselSelect=function(e){e[0]?a.setState({vesselIMOID:e[0].vesselIMOID?e[0].vesselIMOID:"",vesselName:e[0]?e[0].vesselName:"",vesselCallsign:e[0]?e[0].vesselCallsign:""}):a.setState({vesselIMOID:"",vesselName:"",vesselCallsign:""})},a.handleVesselSelectChange=function(e){a.setState({vesselSelected:e.target.value})},a.filter=function(e,t){var a=t.text.toLowerCase();if(-1!==e.vesselCallsign.toLowerCase().indexOf(a)||-1!==e.vesselIMOID.toLowerCase().indexOf(a)||-1!==e.vesselName.toLowerCase().indexOf(a))return e.priority=1,!0;for(var n=a.split(" "),l=!1,s=0;s<n.length;s++){var o=n[s];if(o.length>=3&&(e.vesselCallsign.toLowerCase().split(" ").includes(o)||e.vesselIMOID.toLowerCase().split(" ").includes(o)||e.vesselName.toLowerCase().split(" ").includes(o))){e.priority=2,l=!0;break}}return l},a.renderJobInfo=function(){var e=Boolean(a.state.ItemsDeliverAnchorEl),t=a.state.jobItems.reduce(function(e,t){return e.push(t.quantity.toString().concat(" ".concat(t.uom))),e},[]),n=Boolean(a.state.ItemsOfflandAnchorEl),l=a.state.jobOfflandItems.reduce(function(e,t){return e.push(t.quantity.toString().concat(" ".concat(t.uom))),e},[]);return c.a.createElement("div",null,c.a.createElement(y.a,{className:"job-create-section"},c.a.createElement(C.a,{xs:12,sm:9},c.a.createElement("div",{className:"d-flex align-items-center job-create-section-heading"},c.a.createElement("div",{className:"job-create-green-circle"},c.a.createElement("strong",null,"1")),c.a.createElement("h1",{className:"job-create-section-header"},"Vessel Information")),c.a.createElement(N.j,null,c.a.createElement(N.m,{className:"job-create-section-label"},"Job Number"),c.a.createElement(N.l,{type:"text",onChange:a.handleJobIdChange,value:a.state.jobId,placeholder:"Enter Job Number",className:"job-create-section-input"}),c.a.createElement(N.k,{color:"red",className:"job-create-section-formtext"},"* If left blank, Job Number will be auto-generated.")),c.a.createElement(N.j,null,c.a.createElement(N.m,{className:"job-create-section-label"},"Vessel Loading Location"),c.a.createElement(N.l,{type:"select",value:a.state.vesselLoadingLocation,onChange:a.handleVesselLoadingLocationChange,className:"job-create-section-input"},c.a.createElement("option",null,"PSA"),c.a.createElement("option",null,"Jurong Port"),c.a.createElement("option",null,"Others")),"PSA"===a.state.vesselLoadingLocation?c.a.createElement(N.k,{color:"red",className:"job-create-section-formtext"},"* For PSA deliveries, please note that delivery time will be based on the closest upcoming vessel berth."):"",c.a.createElement(N.k,{color:"red",className:"job-create-section-formtext"},"* 'Jurong Port' here refers to the JP Lighterage Terminals. For Jurong Port, please select 'Others'.")),"Others"===a.state.vesselLoadingLocation?c.a.createElement(N.j,null,c.a.createElement(N.m,{className:"job-create-section-label"},"Address of Vessel Loading Location"),c.a.createElement(N.l,{type:"text",value:a.state.otherVesselLocation,onChange:a.handleOtherVesselLocationChange,className:"job-create-section-input",required:!0})):"",c.a.createElement(N.j,null,c.a.createElement(N.m,{className:"job-create-section-label"},"Vessel Name"),c.a.createElement(T.Typeahead,{id:"vesselNameInput",renderMenuItemChildren:a._renderMenuItemChildren,renderMenu:a.renderMenu,labelKey:"vesselName",options:a.state.vessels,placeholder:"Enter Vessel Name",maxResults:1e3,paginate:!1,minLength:3,onInputChange:a.handleTypeAheadVesselNameChange,onChange:function(e){a.handleTypeAheadVesselSelect(e)},inputProps:{className:"job-create-section-input margin-bottom-zero"},filterBy:a.filter,emptyLabel:!1}),c.a.createElement("span",{className:"job-create-section-label-helper-text"},c.a.createElement("i",null,"If vessel is not listed, it is okay to just submit the form."))),""!==a.state.vesselIMOID?c.a.createElement(N.j,null,c.a.createElement(N.m,{className:"job-create-section-label"},"Vessel IMO"),c.a.createElement(N.l,{type:"text",className:"job-create-section-input",value:a.state.vesselIMOID,disabled:!0})):"",""!==a.state.vesselCallsign?c.a.createElement(N.j,null,c.a.createElement(N.m,{className:"job-create-section-label"},"Vessel Callsign"),c.a.createElement(N.l,{type:"text",className:"job-create-section-input",value:a.state.vesselCallsign,disabled:!0})):"","Jurong Port"===a.state.vesselLoadingLocation?c.a.createElement("div",null,c.a.createElement(N.j,{style:{marginBottom:"0px"}},c.a.createElement(N.m,{className:"job-create-section-label"},"Lighter Name (Optional)"),c.a.createElement(N.l,{type:"text",onChange:a.handleVesselLighterNameChange,value:a.state.vesselLighterName,className:"job-create-section-input",placeholder:"Enter Lighter Name"})),c.a.createElement(N.j,null,c.a.createElement(N.m,{className:"job-create-section-label"},"Lighter Location"),c.a.createElement(N.l,{type:"select",value:a.state.vesselLighterLocation,onChange:a.handleVesselLighterLocationChange,className:"job-create-section-input"},c.a.createElement("option",null,"Marina South Wharves"),c.a.createElement("option",null,"Penjuru Terminal"))),c.a.createElement(N.j,null,c.a.createElement(N.m,{className:"job-create-section-label"},"Lighter Contact Remarks (Optional)"),c.a.createElement(N.l,{type:"textarea",value:a.state.vesselLighterRemarks,rows:"3",className:"job-create-section-input",style:{marginBottom:0},onChange:a.handleVesselLighterRemarksChange}),c.a.createElement("span",{className:"job-create-section-label-helper-text"},c.a.createElement("i",null,"Please enter contact details for lighter here")))):"")),c.a.createElement(x.a,{className:"job-create-section-divider"}),a.renderJobTimeInfo(),c.a.createElement(y.a,{className:"job-create-section"},c.a.createElement(C.a,{xs:12,sm:9},c.a.createElement("div",{className:"d-flex align-items-center job-create-section-heading"},c.a.createElement("div",{className:"job-create-green-circle"},c.a.createElement("strong",null,"PSA"===a.state.vesselLoadingLocation?"2":"3")),c.a.createElement("h1",{className:"job-create-section-header"},"Delivery Details")),c.a.createElement(w.a.Group,null,c.a.createElement(w.a.Label,{className:"job-create-section-label"},"Items to Deliver"),c.a.createElement(w.a.Control,{as:"input",value:t.join(", "),onClick:function(e){a.setState({ItemsDeliverAnchorEl:e.currentTarget})},style:{marginBottom:0},className:"job-create-section-input",onChange:function(){}}),c.a.createElement("span",{className:"job-create-section-label-helper-text"},c.a.createElement("i",null,"* Please let us know if you have any refrigeration, fragile, dangerous or over-sized items in the remarks")),c.a.createElement("br",null),c.a.createElement("span",{className:"job-create-section-label-helper-text"},c.a.createElement("i",null,"* Please let us know whether blue bin needs to be provided in the remarks")),c.a.createElement("br",null),c.a.createElement("span",{className:"job-create-section-label-helper-text",style:{color:"red"}},c.a.createElement("i",null,"* We have a standard sizing, please refer to our Terms of Services")),c.a.createElement(D.a,{open:e,anchorEl:a.state.ItemsDeliverAnchorEl,onClose:a.handleDeliverClose,anchorOrigin:{vertical:"bottom",horizontal:"left"},transformOrigin:{vertical:"top",horizontal:"left"}})),c.a.createElement(w.a.Group,null,c.a.createElement(w.a.Label,{className:"job-create-section-label"},"Items to Offland (Optional)"),c.a.createElement(w.a.Control,{as:"input",value:l.join(", "),onClick:function(e){a.setState({ItemsOfflandAnchorEl:e.currentTarget})},className:"job-create-section-input",onChange:function(){}}),c.a.createElement(D.a,{open:n,anchorEl:a.state.ItemsOfflandAnchorEl,onClose:a.handleOfflandClose,anchorOrigin:{vertical:"bottom",horizontal:"left"},transformOrigin:{vertical:"top",horizontal:"left"}})),c.a.createElement(N.j,null,c.a.createElement(N.m,{className:"job-create-section-label"},"Remarks (Optional)"),c.a.createElement(N.l,{type:"textarea",value:a.state.remarks,rows:"7",className:"job-create-section-input margin-bottom-zero",onChange:a.handleRemarksChange}),c.a.createElement("span",{className:"job-create-section-label-helper-text"},c.a.createElement("i",null,"* If you require pickup, please input address in the remarks."))),c.a.createElement(L.a,{value:"dsa",control:c.a.createElement(M.a,{color:"default",checked:a.state.createDSA,className:"create-dsa-checkbox"}),onChange:a.handleCreateDSAChange,label:a.renderText()}))),c.a.createElement(y.a,{className:"job-create-section-action"},c.a.createElement(C.a,{xs:12},c.a.createElement("div",{className:"d-flex align-items-center justify-content-center"},c.a.createElement(k.a,{variant:"success",className:"job-create-submit-btn",onClick:a.handleNextStep},"Submit"),c.a.createElement(k.a,{variant:"outline-success",className:"job-create-cancel-btn",onClick:a.props.handleCloseModal},"Cancel")))))},a.renderJobPayment=function(){return a.state.vesselQueryResults.length>1?c.a.createElement("div",null,c.a.createElement(y.a,{className:"job-create-section full-height"},c.a.createElement(C.a,null,c.a.createElement("div",{className:"d-flex align-items-center job-create-section-heading-price"},c.a.createElement("h1",{className:"job-create-section-header-price"},"Confirm Booking?")),c.a.createElement("div",null,c.a.createElement(R.a,{component:"fieldset"},c.a.createElement(J.a,{component:"legend",className:"job-create-section-label",style:{paddingTop:10,paddingBottom:10}},"Please Select a Vessel:"),c.a.createElement(F.a,{value:a.state.vesselSelected,onChange:a.handleVesselSelectChange},a.state.vesselQueryResults.map(function(e,t){return c.a.createElement(L.a,{key:t,value:e.vesselIMOID,control:c.a.createElement(q.a,null),label:"".concat(e.vesselName,", ").concat(e.vesselIMOID)})})))),c.a.createElement("div",{className:"d-flex align-items-center justify-content-center",style:{marginTop:"20px"}},c.a.createElement(k.a,{disabled:!a.state.submitButtonActive,variant:"success",className:"job-create-submit-btn",type:"submit"},"Yes"),c.a.createElement(k.a,{variant:"outline-success",className:"job-create-cancel-btn",onClick:a.props.handleCloseModal},"No"))))):c.a.createElement("div",null,c.a.createElement(y.a,{className:"job-create-section full-height"},c.a.createElement(C.a,null,c.a.createElement("div",{className:"d-flex align-items-center job-create-section-heading-price"},c.a.createElement("h1",{className:"job-create-section-header-price"},"Confirm Booking?")),c.a.createElement("div",{className:"d-flex align-items-center justify-content-center",style:{marginTop:"20px"}},c.a.createElement(k.a,{disabled:!a.state.submitButtonActive,variant:"success",className:"job-create-submit-btn",type:"submit"},"Yes"),c.a.createElement(k.a,{variant:"outline-success",className:"job-create-cancel-btn",onClick:a.props.handleCloseModal},"No")))))},a.renderSuccess=function(){return c.a.createElement(y.a,{className:"job-create-section-success"},c.a.createElement(C.a,null,c.a.createElement("div",{className:"d-flex align-items-center justify-content-center flex-column job-create-section-heading-price"},c.a.createElement("svg",{className:"checkmark",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 52 52"},c.a.createElement("circle",{className:"checkmark__circle",cx:"26",cy:"26",r:"25",fill:"none"}),c.a.createElement("path",{className:"checkmark__check",fill:"none",d:"M14.1 27.2l7.1 7.2 16.7-16.8"})),c.a.createElement("p",{className:"job-create-success-text text-center"},"You have successfully booked a job with Simpfleet."),c.a.createElement(k.a,{variant:"success",className:"job-create-details-btn",onClick:function(){a.props.mobile&&(a.props.handlePopoverOpen(),a.props.handleCloseModal(),a.props.handleCloseMenu())}},"View your job details"))))},a.renderForm=function(){var e;return 0===a.state.activeStep?e=a.renderJobInfo():1===a.state.activeStep?e=a.renderJobPayment():2===a.state.activeStep&&(e=a.renderSuccess()),c.a.createElement(N.i,{onSubmit:a.onSubmit,style:{height:"100%"}},e)},a}return Object(r.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){return c.a.createElement(S.a,{fluid:!0,style:{height:"100%"}},c.a.createElement(y.a,{style:{height:"100%"}},c.a.createElement(C.a,{xs:12}," ",this.renderForm()," ")))}}]),t}(i.Component),U=Object(E.g)(Object(j.b)(function(e){return{auth:e.auth}})(_));a.d(t,"a",function(){return V});var V=function(e){function t(){return Object(n.a)(this,t),Object(s.a)(this,Object(o.a)(t).apply(this,arguments))}return Object(r.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return c.a.createElement("div",{className:"job-create-modal"},c.a.createElement(m.a,{open:this.props.isOpen,onClose:this.props.handleCloseModal,maxWidth:"sm",fullWidth:!0,fullScreen:this.props.fullScreen},c.a.createElement(d.a,{id:"alert-dialog-title",className:"job-share-modal-top"},c.a.createElement("div",{className:"d-flex align-items-center"},c.a.createElement("p",{className:"job-share-modal-title"},"Job Booking"),c.a.createElement(h.a,{"aria-label":"Close",className:"job-share-modal-close ml-auto",onClick:this.props.handleCloseModal},c.a.createElement(b.a,null)))),c.a.createElement(u.a,{className:"job-create-modal-content"},c.a.createElement(U,{handleCloseModal:this.props.handleCloseModal,handlePopoverOpen:this.props.handlePopoverOpen,handleCloseMenu:this.props.handleCloseMenu,mobile:this.props.fullScreen}))))}}]),t}(i.Component)},401:function(e,t,a){"use strict";a.d(t,"a",function(){return o}),a.d(t,"b",function(){return r});var n=a(25),l=a.n(n),s=a(134),o=function(e){return function(t){l.a.post("/api/users/login",e).then(function(e){window.location.href="/"}).catch(function(e){t({type:s.b,payload:e.response.data})})}},r=function(){l.a.post("/api/users/logout").then(function(e){window.location.href="/"})}},534:function(e,t,a){},588:function(e,t){e.exports=function(e){return void 0===e||null===e||"object"===typeof e&&0===Object.keys(e).length||"string"===typeof e&&0===e.trim().length}},597:function(e,t,a){},598:function(e,t,a){},626:function(e,t,a){e.exports=a(1162)},631:function(e,t,a){},636:function(e,t,a){},655:function(e,t,a){},663:function(e,t,a){},671:function(e,t,a){},672:function(e,t,a){},765:function(e,t,a){},766:function(e,t,a){},769:function(e,t,a){},955:function(e,t,a){}},[[626,1,2]]]);
//# sourceMappingURL=main.0627b0dd.chunk.js.map